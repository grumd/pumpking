import{R as Be,G as hr,c as gr,g as pr,r as We,j as Q,a as vr,b as Et,u as yr,d as mr,e as xr,f as Tt,p as br,H as Ar,h as wr,i as Fr,k as Sr}from"./index-96dd55fe.js";var et=i=>i.type==="checkbox",Xe=i=>i instanceof Date,ye=i=>i==null;const zt=i=>typeof i=="object";var de=i=>!ye(i)&&!Array.isArray(i)&&zt(i)&&!Xe(i),Cr=i=>de(i)&&i.target?et(i.target)?i.target.checked:i.target.value:i,_r=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,Ur=(i,x)=>i.has(_r(x)),Dr=i=>{const x=i.constructor&&i.constructor.prototype;return de(x)&&x.hasOwnProperty("isPrototypeOf")},Ft=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ve(i){let x;const A=Array.isArray(i);if(i instanceof Date)x=new Date(i);else if(i instanceof Set)x=new Set(i);else if(!(Ft&&(i instanceof Blob||i instanceof FileList))&&(A||de(i)))if(x=A?[]:{},!A&&!Dr(i))x=i;else for(const r in i)i.hasOwnProperty(r)&&(x[r]=Ve(i[r]));else return i;return x}var tt=i=>Array.isArray(i)?i.filter(Boolean):[],ce=i=>i===void 0,Y=(i,x,A)=>{if(!x||!de(i))return A;const r=tt(x.split(/[,[\].]+?/)).reduce((e,t)=>ye(e)?e:e[t],i);return ce(r)||r===i?ce(i[x])?A:i[x]:r};const Rt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Be.createContext(null);var Pr=(i,x,A,r=!0)=>{const e={defaultValues:x._defaultValues};for(const t in i)Object.defineProperty(e,t,{get:()=>{const u=t;return x._proxyFormState[u]!==Fe.all&&(x._proxyFormState[u]=!r||Fe.all),A&&(A[u]=!0),i[u]}});return e},be=i=>de(i)&&!Object.keys(i).length,Ir=(i,x,A,r)=>{A(i);const{name:e,...t}=i;return be(t)||Object.keys(t).length>=Object.keys(x).length||Object.keys(t).find(u=>x[u]===(!r||Fe.all))},pt=i=>Array.isArray(i)?i:[i];function Er(i){const x=Be.useRef(i);x.current=i,Be.useEffect(()=>{const A=!i.disabled&&x.current.subject&&x.current.subject.subscribe({next:x.current.next});return()=>{A&&A.unsubscribe()}},[i.disabled])}var De=i=>typeof i=="string",Tr=(i,x,A,r,e)=>De(i)?(r&&x.watch.add(i),Y(A,i,e)):Array.isArray(i)?i.map(t=>(r&&x.watch.add(t),Y(A,t))):(r&&(x.watchAll=!0),A),St=i=>/^\w*$/.test(i),qt=i=>tt(i.replace(/["|']|\]/g,"").split(/\.|\[/));function ae(i,x,A){let r=-1;const e=St(x)?[x]:qt(x),t=e.length,u=t-1;for(;++r<t;){const d=e[r];let F=A;if(r!==u){const D=i[d];F=de(D)||Array.isArray(D)?D:isNaN(+e[r+1])?{}:[]}i[d]=F,i=i[d]}return i}var Rr=(i,x,A,r,e)=>x?{...A[i],types:{...A[i]&&A[i].types?A[i].types:{},[r]:e||!0}}:{};const At=(i,x,A)=>{for(const r of A||Object.keys(i)){const e=Y(i,r);if(e){const{_f:t,...u}=e;if(t&&x(t.name)){if(t.ref.focus){t.ref.focus();break}else if(t.refs&&t.refs[0].focus){t.refs[0].focus();break}}else de(u)&&At(u,x)}}};var Mt=i=>({isOnSubmit:!i||i===Fe.onSubmit,isOnBlur:i===Fe.onBlur,isOnChange:i===Fe.onChange,isOnAll:i===Fe.all,isOnTouch:i===Fe.onTouched}),kt=(i,x,A)=>!A&&(x.watchAll||x.watch.has(i)||[...x.watch].some(r=>i.startsWith(r)&&/^\.\w+/.test(i.slice(r.length)))),Mr=(i,x,A)=>{const r=tt(Y(i,A));return ae(r,"root",x[A]),ae(i,A,r),i},Je=i=>typeof i=="boolean",Ct=i=>i.type==="file",Oe=i=>typeof i=="function",it=i=>{if(!Ft)return!1;const x=i?i.ownerDocument:0;return i instanceof(x&&x.defaultView?x.defaultView.HTMLElement:HTMLElement)},rt=i=>De(i),_t=i=>i.type==="radio",st=i=>i instanceof RegExp;const Vt={value:!1,isValid:!1},Ot={value:!0,isValid:!0};var Qt=i=>{if(Array.isArray(i)){if(i.length>1){const x=i.filter(A=>A&&A.checked&&!A.disabled).map(A=>A.value);return{value:x,isValid:!!x.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!ce(i[0].attributes.value)?ce(i[0].value)||i[0].value===""?Ot:{value:i[0].value,isValid:!0}:Ot:Vt}return Vt};const Lt={isValid:!1,value:null};var Xt=i=>Array.isArray(i)?i.reduce((x,A)=>A&&A.checked&&!A.disabled?{isValid:!0,value:A.value}:x,Lt):Lt;function jt(i,x,A="validate"){if(rt(i)||Array.isArray(i)&&i.every(rt)||Je(i)&&!i)return{type:A,message:rt(i)?i:"",ref:x}}var qe=i=>de(i)&&!st(i)?i:{value:i,message:""},Nt=async(i,x,A,r,e)=>{const{ref:t,refs:u,required:d,maxLength:F,minLength:D,min:a,max:o,pattern:s,validate:v,name:w,valueAsNumber:I,mount:k,disabled:P}=i._f,M=Y(x,w);if(!k||P)return{};const j=u?u[0]:t,T=p=>{r&&j.reportValidity&&(j.setCustomValidity(Je(p)?"":p||""),j.reportValidity())},V={},C=_t(t),L=et(t),m=C||L,y=(I||Ct(t))&&ce(t.value)&&ce(M)||it(t)&&t.value===""||M===""||Array.isArray(M)&&!M.length,c=Rr.bind(null,w,A,V),h=(p,b,g,S=Ee.maxLength,f=Ee.minLength)=>{const l=p?b:g;V[w]={type:p?S:f,message:l,ref:t,...c(p?S:f,l)}};if(e?!Array.isArray(M)||!M.length:d&&(!m&&(y||ye(M))||Je(M)&&!M||L&&!Qt(u).isValid||C&&!Xt(u).isValid)){const{value:p,message:b}=rt(d)?{value:!!d,message:d}:qe(d);if(p&&(V[w]={type:Ee.required,message:b,ref:j,...c(Ee.required,b)},!A))return T(b),V}if(!y&&(!ye(a)||!ye(o))){let p,b;const g=qe(o),S=qe(a);if(!ye(M)&&!isNaN(M)){const f=t.valueAsNumber||M&&+M;ye(g.value)||(p=f>g.value),ye(S.value)||(b=f<S.value)}else{const f=t.valueAsDate||new Date(M),l=B=>new Date(new Date().toDateString()+" "+B),R=t.type=="time",_=t.type=="week";De(g.value)&&M&&(p=R?l(M)>l(g.value):_?M>g.value:f>new Date(g.value)),De(S.value)&&M&&(b=R?l(M)<l(S.value):_?M<S.value:f<new Date(S.value))}if((p||b)&&(h(!!p,g.message,S.message,Ee.max,Ee.min),!A))return T(V[w].message),V}if((F||D)&&!y&&(De(M)||e&&Array.isArray(M))){const p=qe(F),b=qe(D),g=!ye(p.value)&&M.length>+p.value,S=!ye(b.value)&&M.length<+b.value;if((g||S)&&(h(g,p.message,b.message),!A))return T(V[w].message),V}if(s&&!y&&De(M)){const{value:p,message:b}=qe(s);if(st(p)&&!M.match(p)&&(V[w]={type:Ee.pattern,message:b,ref:t,...c(Ee.pattern,b)},!A))return T(b),V}if(v){if(Oe(v)){const p=await v(M,x),b=jt(p,j);if(b&&(V[w]={...b,...c(Ee.validate,b.message)},!A))return T(b.message),V}else if(de(v)){let p={};for(const b in v){if(!be(p)&&!A)break;const g=jt(await v[b](M,x),j,b);g&&(p={...g,...c(b,g.message)},T(g.message),A&&(V[w]=p))}if(!be(p)&&(V[w]={ref:j,...p},!A))return V}}return T(!0),V};function kr(i,x){const A=x.slice(0,-1).length;let r=0;for(;r<A;)i=ce(i)?r++:i[x[r++]];return i}function Vr(i){for(const x in i)if(i.hasOwnProperty(x)&&!ce(i[x]))return!1;return!0}function ge(i,x){const A=Array.isArray(x)?x:St(x)?[x]:qt(x),r=A.length===1?i:kr(i,A),e=A.length-1,t=A[e];return r&&delete r[t],e!==0&&(de(r)&&be(r)||Array.isArray(r)&&Vr(r))&&ge(i,A.slice(0,-1)),i}function vt(){let i=[];return{get observers(){return i},next:e=>{for(const t of i)t.next&&t.next(e)},subscribe:e=>(i.push(e),{unsubscribe:()=>{i=i.filter(t=>t!==e)}}),unsubscribe:()=>{i=[]}}}var at=i=>ye(i)||!zt(i);function Ge(i,x){if(at(i)||at(x))return i===x;if(Xe(i)&&Xe(x))return i.getTime()===x.getTime();const A=Object.keys(i),r=Object.keys(x);if(A.length!==r.length)return!1;for(const e of A){const t=i[e];if(!r.includes(e))return!1;if(e!=="ref"){const u=x[e];if(Xe(t)&&Xe(u)||de(t)&&de(u)||Array.isArray(t)&&Array.isArray(u)?!Ge(t,u):t!==u)return!1}}return!0}var $t=i=>i.type==="select-multiple",Or=i=>_t(i)||et(i),yt=i=>it(i)&&i.isConnected,Jt=i=>{for(const x in i)if(Oe(i[x]))return!0;return!1};function ot(i,x={}){const A=Array.isArray(i);if(de(i)||A)for(const r in i)Array.isArray(i[r])||de(i[r])&&!Jt(i[r])?(x[r]=Array.isArray(i[r])?[]:{},ot(i[r],x[r])):ye(i[r])||(x[r]=!0);return x}function Yt(i,x,A){const r=Array.isArray(i);if(de(i)||r)for(const e in i)Array.isArray(i[e])||de(i[e])&&!Jt(i[e])?ce(x)||at(A[e])?A[e]=Array.isArray(i[e])?ot(i[e],[]):{...ot(i[e])}:Yt(i[e],ye(x)?{}:x[e],A[e]):A[e]=!Ge(i[e],x[e]);return A}var mt=(i,x)=>Yt(i,x,ot(x)),Kt=(i,{valueAsNumber:x,valueAsDate:A,setValueAs:r})=>ce(i)?i:x?i===""?NaN:i&&+i:A&&De(i)?new Date(i):r?r(i):i;function xt(i){const x=i.ref;if(!(i.refs?i.refs.every(A=>A.disabled):x.disabled))return Ct(x)?x.files:_t(x)?Xt(i.refs).value:$t(x)?[...x.selectedOptions].map(({value:A})=>A):et(x)?Qt(i.refs).value:Kt(ce(x.value)?i.ref.value:x.value,i)}var Lr=(i,x,A,r)=>{const e={};for(const t of i){const u=Y(x,t);u&&ae(e,t,u._f)}return{criteriaMode:A,names:[...i],fields:e,shouldUseNativeValidation:r}},Ze=i=>ce(i)?i:st(i)?i.source:de(i)?st(i.value)?i.value.source:i.value:i,jr=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate);function Bt(i,x,A){const r=Y(i,A);if(r||St(A))return{error:r,name:A};const e=A.split(".");for(;e.length;){const t=e.join("."),u=Y(x,t),d=Y(i,t);if(u&&!Array.isArray(u)&&A!==t)return{name:A};if(d&&d.type)return{name:t,error:d};e.pop()}return{name:A}}var Nr=(i,x,A,r,e)=>e.isOnAll?!1:!A&&e.isOnTouch?!(x||i):(A?r.isOnBlur:e.isOnBlur)?!i:(A?r.isOnChange:e.isOnChange)?i:!0,Br=(i,x)=>!tt(Y(i,x)).length&&ge(i,x);const Gr={mode:Fe.onSubmit,reValidateMode:Fe.onChange,shouldFocusError:!0};function Hr(i={},x){let A={...Gr,...i},r={submitCount:0,isDirty:!1,isLoading:Oe(A.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},e={},t=de(A.defaultValues)||de(A.values)?Ve(A.defaultValues||A.values)||{}:{},u=A.shouldUnregister?{}:Ve(t),d={action:!1,mount:!1,watch:!1},F={mount:new Set,unMount:new Set,array:new Set,watch:new Set},D,a=0;const o={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},s={values:vt(),array:vt(),state:vt()},v=i.resetOptions&&i.resetOptions.keepDirtyValues,w=Mt(A.mode),I=Mt(A.reValidateMode),k=A.criteriaMode===Fe.all,P=U=>E=>{clearTimeout(a),a=setTimeout(U,E)},M=async U=>{if(o.isValid||U){const E=A.resolver?be((await y()).errors):await h(e,!0);E!==r.isValid&&s.state.next({isValid:E})}},j=U=>o.isValidating&&s.state.next({isValidating:U}),T=(U,E=[],O,X,q=!0,G=!0)=>{if(X&&O){if(d.action=!0,G&&Array.isArray(Y(e,U))){const J=O(Y(e,U),X.argA,X.argB);q&&ae(e,U,J)}if(G&&Array.isArray(Y(r.errors,U))){const J=O(Y(r.errors,U),X.argA,X.argB);q&&ae(r.errors,U,J),Br(r.errors,U)}if(o.touchedFields&&G&&Array.isArray(Y(r.touchedFields,U))){const J=O(Y(r.touchedFields,U),X.argA,X.argB);q&&ae(r.touchedFields,U,J)}o.dirtyFields&&(r.dirtyFields=mt(t,u)),s.state.next({name:U,isDirty:b(U,E),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ae(u,U,E)},V=(U,E)=>{ae(r.errors,U,E),s.state.next({errors:r.errors})},C=(U,E,O,X)=>{const q=Y(e,U);if(q){const G=Y(u,U,ce(O)?Y(t,U):O);ce(G)||X&&X.defaultChecked||E?ae(u,U,E?G:xt(q._f)):f(U,G),d.mount&&M()}},L=(U,E,O,X,q)=>{let G=!1,J=!1;const ee={name:U};if(!O||X){o.isDirty&&(J=r.isDirty,r.isDirty=ee.isDirty=b(),G=J!==ee.isDirty);const Z=Ge(Y(t,U),E);J=Y(r.dirtyFields,U),Z?ge(r.dirtyFields,U):ae(r.dirtyFields,U,!0),ee.dirtyFields=r.dirtyFields,G=G||o.dirtyFields&&J!==!Z}if(O){const Z=Y(r.touchedFields,U);Z||(ae(r.touchedFields,U,O),ee.touchedFields=r.touchedFields,G=G||o.touchedFields&&Z!==O)}return G&&q&&s.state.next(ee),G?ee:{}},m=(U,E,O,X)=>{const q=Y(r.errors,U),G=o.isValid&&Je(E)&&r.isValid!==E;if(i.delayError&&O?(D=P(()=>V(U,O)),D(i.delayError)):(clearTimeout(a),D=null,O?ae(r.errors,U,O):ge(r.errors,U)),(O?!Ge(q,O):q)||!be(X)||G){const J={...X,...G&&Je(E)?{isValid:E}:{},errors:r.errors,name:U};r={...r,...J},s.state.next(J)}j(!1)},y=async U=>A.resolver(u,A.context,Lr(U||F.mount,e,A.criteriaMode,A.shouldUseNativeValidation)),c=async U=>{const{errors:E}=await y();if(U)for(const O of U){const X=Y(E,O);X?ae(r.errors,O,X):ge(r.errors,O)}else r.errors=E;return E},h=async(U,E,O={valid:!0})=>{for(const X in U){const q=U[X];if(q){const{_f:G,...J}=q;if(G){const ee=F.array.has(G.name),Z=await Nt(q,u,k,A.shouldUseNativeValidation&&!E,ee);if(Z[G.name]&&(O.valid=!1,E))break;!E&&(Y(Z,G.name)?ee?Mr(r.errors,Z,G.name):ae(r.errors,G.name,Z[G.name]):ge(r.errors,G.name))}J&&await h(J,E,O)}}return O.valid},p=()=>{for(const U of F.unMount){const E=Y(e,U);E&&(E._f.refs?E._f.refs.every(O=>!yt(O)):!yt(E._f.ref))&&K(U)}F.unMount=new Set},b=(U,E)=>(U&&E&&ae(u,U,E),!Ge(H(),t)),g=(U,E,O)=>Tr(U,F,{...d.mount?u:ce(E)?t:De(U)?{[U]:E}:E},O,E),S=U=>tt(Y(d.mount?u:t,U,i.shouldUnregister?Y(t,U,[]):[])),f=(U,E,O={})=>{const X=Y(e,U);let q=E;if(X){const G=X._f;G&&(!G.disabled&&ae(u,U,Kt(E,G)),q=it(G.ref)&&ye(E)?"":E,$t(G.ref)?[...G.ref.options].forEach(J=>J.selected=q.includes(J.value)):G.refs?et(G.ref)?G.refs.length>1?G.refs.forEach(J=>(!J.defaultChecked||!J.disabled)&&(J.checked=Array.isArray(q)?!!q.find(ee=>ee===J.value):q===J.value)):G.refs[0]&&(G.refs[0].checked=!!q):G.refs.forEach(J=>J.checked=J.value===q):Ct(G.ref)?G.ref.value="":(G.ref.value=q,G.ref.type||s.values.next({name:U,values:{...u}})))}(O.shouldDirty||O.shouldTouch)&&L(U,q,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&B(U)},l=(U,E,O)=>{for(const X in E){const q=E[X],G=`${U}.${X}`,J=Y(e,G);(F.array.has(U)||!at(q)||J&&!J._f)&&!Xe(q)?l(G,q,O):f(G,q,O)}},R=(U,E,O={})=>{const X=Y(e,U),q=F.array.has(U),G=Ve(E);ae(u,U,G),q?(s.array.next({name:U,values:{...u}}),(o.isDirty||o.dirtyFields)&&O.shouldDirty&&s.state.next({name:U,dirtyFields:mt(t,u),isDirty:b(U,G)})):X&&!X._f&&!ye(G)?l(U,G,O):f(U,G,O),kt(U,F)&&s.state.next({...r}),s.values.next({name:U,values:{...u}}),!d.mount&&x()},_=async U=>{const E=U.target;let O=E.name,X=!0;const q=Y(e,O),G=()=>E.type?xt(q._f):Cr(U);if(q){let J,ee;const Z=G(),fe=U.type===Rt.BLUR||U.type===Rt.FOCUS_OUT,Se=!jr(q._f)&&!A.resolver&&!Y(r.errors,O)&&!q._f.deps||Nr(fe,Y(r.touchedFields,O),r.isSubmitted,I,w),Re=kt(O,F,fe);ae(u,O,Z),fe?(q._f.onBlur&&q._f.onBlur(U),D&&D(0)):q._f.onChange&&q._f.onChange(U);const ue=L(O,Z,fe,!1),Pe=!be(ue)||Re;if(!fe&&s.values.next({name:O,type:U.type,values:{...u}}),Se)return o.isValid&&M(),Pe&&s.state.next({name:O,...Re?{}:ue});if(!fe&&Re&&s.state.next({...r}),j(!0),A.resolver){const{errors:he}=await y([O]),xe=Bt(r.errors,e,O),ve=Bt(he,e,xe.name||O);J=ve.error,O=ve.name,ee=be(he)}else J=(await Nt(q,u,k,A.shouldUseNativeValidation))[O],X=isNaN(Z)||Z===Y(u,O,Z),X&&(J?ee=!1:o.isValid&&(ee=await h(e,!0)));X&&(q._f.deps&&B(q._f.deps),m(O,ee,J,ue))}},B=async(U,E={})=>{let O,X;const q=pt(U);if(j(!0),A.resolver){const G=await c(ce(U)?U:q);O=be(G),X=U?!q.some(J=>Y(G,J)):O}else U?(X=(await Promise.all(q.map(async G=>{const J=Y(e,G);return await h(J&&J._f?{[G]:J}:J)}))).every(Boolean),!(!X&&!r.isValid)&&M()):X=O=await h(e);return s.state.next({...!De(U)||o.isValid&&O!==r.isValid?{}:{name:U},...A.resolver||!U?{isValid:O}:{},errors:r.errors,isValidating:!1}),E.shouldFocus&&!X&&At(e,G=>G&&Y(r.errors,G),U?q:F.mount),X},H=U=>{const E={...t,...d.mount?u:{}};return ce(U)?E:De(U)?Y(E,U):U.map(O=>Y(E,O))},z=(U,E)=>({invalid:!!Y((E||r).errors,U),isDirty:!!Y((E||r).dirtyFields,U),isTouched:!!Y((E||r).touchedFields,U),error:Y((E||r).errors,U)}),$=U=>{U&&pt(U).forEach(E=>ge(r.errors,E)),s.state.next({errors:U?r.errors:{}})},W=(U,E,O)=>{const X=(Y(e,U,{_f:{}})._f||{}).ref;ae(r.errors,U,{...E,ref:X}),s.state.next({name:U,errors:r.errors,isValid:!1}),O&&O.shouldFocus&&X&&X.focus&&X.focus()},N=(U,E)=>Oe(U)?s.values.subscribe({next:O=>U(g(void 0,E),O)}):g(U,E,!0),K=(U,E={})=>{for(const O of U?pt(U):F.mount)F.mount.delete(O),F.array.delete(O),E.keepValue||(ge(e,O),ge(u,O)),!E.keepError&&ge(r.errors,O),!E.keepDirty&&ge(r.dirtyFields,O),!E.keepTouched&&ge(r.touchedFields,O),!A.shouldUnregister&&!E.keepDefaultValue&&ge(t,O);s.values.next({values:{...u}}),s.state.next({...r,...E.keepDirty?{isDirty:b()}:{}}),!E.keepIsValid&&M()},ne=(U,E={})=>{let O=Y(e,U);const X=Je(E.disabled);return ae(e,U,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:U}},name:U,mount:!0,...E}}),F.mount.add(U),O?X&&ae(u,U,E.disabled?void 0:Y(u,U,xt(O._f))):C(U,!0,E.value),{...X?{disabled:E.disabled}:{},...A.progressive?{required:!!E.required,min:Ze(E.min),max:Ze(E.max),minLength:Ze(E.minLength),maxLength:Ze(E.maxLength),pattern:Ze(E.pattern)}:{},name:U,onChange:_,onBlur:_,ref:q=>{if(q){ne(U,E),O=Y(e,U);const G=ce(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,J=Or(G),ee=O._f.refs||[];if(J?ee.find(Z=>Z===G):G===O._f.ref)return;ae(e,U,{_f:{...O._f,...J?{refs:[...ee.filter(yt),G,...Array.isArray(Y(t,U))?[{}]:[]],ref:{type:G.type,name:U}}:{ref:G}}}),C(U,!1,void 0,G)}else O=Y(e,U,{}),O._f&&(O._f.mount=!1),(A.shouldUnregister||E.shouldUnregister)&&!(Ur(F.array,U)&&d.action)&&F.unMount.add(U)}}},re=()=>A.shouldFocusError&&At(e,U=>U&&Y(r.errors,U),F.mount),te=(U,E)=>async O=>{O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let X=Ve(u);if(s.state.next({isSubmitting:!0}),A.resolver){const{errors:q,values:G}=await y();r.errors=q,X=G}else await h(e);ge(r.errors,"root"),be(r.errors)?(s.state.next({errors:{}}),await U(X,O)):(E&&await E({...r.errors},O),re(),setTimeout(re)),s.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:be(r.errors),submitCount:r.submitCount+1,errors:r.errors})},ie=(U,E={})=>{Y(e,U)&&(ce(E.defaultValue)?R(U,Y(t,U)):(R(U,E.defaultValue),ae(t,U,E.defaultValue)),E.keepTouched||ge(r.touchedFields,U),E.keepDirty||(ge(r.dirtyFields,U),r.isDirty=E.defaultValue?b(U,Y(t,U)):b()),E.keepError||(ge(r.errors,U),o.isValid&&M()),s.state.next({...r}))},se=(U,E={})=>{const O=U||t,X=Ve(O),q=U&&!be(U)?X:t;if(E.keepDefaultValues||(t=O),!E.keepValues){if(E.keepDirtyValues||v)for(const G of F.mount)Y(r.dirtyFields,G)?ae(q,G,Y(u,G)):R(G,Y(q,G));else{if(Ft&&ce(U))for(const G of F.mount){const J=Y(e,G);if(J&&J._f){const ee=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(it(ee)){const Z=ee.closest("form");if(Z){Z.reset();break}}}}e={}}u=i.shouldUnregister?E.keepDefaultValues?Ve(t):{}:Ve(q),s.array.next({values:{...q}}),s.values.next({values:{...q}})}F={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!d.mount&&x(),d.mount=!o.isValid||!!E.keepIsValid,d.watch=!!i.shouldUnregister,s.state.next({submitCount:E.keepSubmitCount?r.submitCount:0,isDirty:E.keepDirty?r.isDirty:!!(E.keepDefaultValues&&!Ge(U,t)),isSubmitted:E.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:E.keepDirtyValues?r.dirtyFields:E.keepDefaultValues&&U?mt(t,U):{},touchedFields:E.keepTouched?r.touchedFields:{},errors:E.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},le=(U,E)=>se(Oe(U)?U(u):U,E);return{control:{register:ne,unregister:K,getFieldState:z,handleSubmit:te,setError:W,_executeSchema:y,_getWatch:g,_getDirty:b,_updateValid:M,_removeUnmounted:p,_updateFieldArray:T,_getFieldArray:S,_reset:se,_resetDefaultValues:()=>Oe(A.defaultValues)&&A.defaultValues().then(U=>{le(U,A.resetOptions),s.state.next({isLoading:!1})}),_updateFormState:U=>{r={...r,...U}},_subjects:s,_proxyFormState:o,get _fields(){return e},get _formValues(){return u},get _state(){return d},set _state(U){d=U},get _defaultValues(){return t},get _names(){return F},set _names(U){F=U},get _formState(){return r},set _formState(U){r=U},get _options(){return A},set _options(U){A={...A,...U}}},trigger:B,register:ne,handleSubmit:te,watch:N,setValue:R,getValues:H,reset:le,resetField:ie,clearErrors:$,unregister:K,setError:W,setFocus:(U,E={})=>{const O=Y(e,U),X=O&&O._f;if(X){const q=X.refs?X.refs[0]:X.ref;q.focus&&(q.focus(),E.shouldSelect&&q.select())}},getFieldState:z}}function Wr(i={}){const x=Be.useRef(),[A,r]=Be.useState({isDirty:!1,isValidating:!1,isLoading:Oe(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Oe(i.defaultValues)?void 0:i.defaultValues});x.current||(x.current={...Hr(i,()=>r(t=>({...t}))),formState:A});const e=x.current.control;return e._options=i,Er({subject:e._subjects.state,next:t=>{Ir(t,e._proxyFormState,e._updateFormState,!0)&&r({...e._formState})}}),Be.useEffect(()=>{i.values&&!Ge(i.values,e._defaultValues)?e._reset(i.values,e._options.resetOptions):e._resetDefaultValues()},[i.values,e]),Be.useEffect(()=>{e._state.mount||(e._updateValid(),e._state.mount=!0),e._state.watch&&(e._state.watch=!1,e._subjects.state.next({...e._formState})),e._removeUnmounted()}),x.current.formState=Pr(A,e),x.current}function zr(i){return hr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.9 79.9L51.8 403.1C40.6 423.3 55.5 448 78.9 448h354.3c23.3 0 38.2-24.7 27.1-44.9L283.1 79.9c-11.7-21.2-42.5-21.2-54.2 0zM273.6 214L270 336h-28l-3.6-122h35.2zM256 402.4c-10.7 0-19.1-8.1-19.1-18.4s8.4-18.4 19.1-18.4 19.1 8.1 19.1 18.4-8.4 18.4-19.1 18.4z"}}]})(i)}const qr="_addResultPage_1gb69_1",Qr="_addResultForm_1gb69_9",Xr="_fileInput_1gb69_19",$r="_confirmation_1gb69_23",Jr="_splitPanels_1gb69_23",Yr="_screenshotPanel_1gb69_28",Kr="_formPanel_1gb69_31",Zr="_chartName_1gb69_34",en="_grid_1gb69_39",tn="_warning_1gb69_45",_e={addResultPage:qr,addResultForm:Qr,fileInput:Xr,confirmation:$r,splitPanels:Jr,screenshotPanel:Yr,formPanel:Kr,chartName:Zr,grid:en,warning:tn};var wt={exports:{}};(function(i,x){(function(){var A=!1,r=function(c){if(c instanceof r)return c;if(!(this instanceof r))return new r(c);this.EXIFwrapped=c};i.exports&&(x=i.exports=r),x.EXIF=r;var e=r.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},t=r.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},u=r.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},d=r.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},F=r.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function D(c){return!!c.exifdata}function a(c,h){h=h||c.match(/^data\:([^\;]+)\;base64,/mi)[1]||"",c=c.replace(/^data\:([^\;]+)\;base64,/gmi,"");for(var p=atob(c),b=p.length,g=new ArrayBuffer(b),S=new Uint8Array(g),f=0;f<b;f++)S[f]=p.charCodeAt(f);return g}function o(c,h){var p=new XMLHttpRequest;p.open("GET",c,!0),p.responseType="blob",p.onload=function(b){(this.status==200||this.status===0)&&h(this.response)},p.send()}function s(c,h){function p(f){var l=v(f);c.exifdata=l||{};var R=w(f);if(c.iptcdata=R||{},r.isXmpEnabled){var _=L(f);c.xmpdata=_||{}}h&&h.call(c)}if(c.src)if(/^data\:/i.test(c.src)){var b=a(c.src);p(b)}else if(/^blob\:/i.test(c.src)){var g=new FileReader;g.onload=function(f){p(f.target.result)},o(c.src,function(f){g.readAsArrayBuffer(f)})}else{var S=new XMLHttpRequest;S.onload=function(){if(this.status==200||this.status===0)p(S.response);else throw"Could not load image";S=null},S.open("GET",c.src,!0),S.responseType="arraybuffer",S.send(null)}else if(self.FileReader&&(c instanceof self.Blob||c instanceof self.File)){var g=new FileReader;g.onload=function(l){p(l.target.result)},g.readAsArrayBuffer(c)}}function v(c){var h=new DataView(c);if(h.getUint8(0)!=255||h.getUint8(1)!=216)return!1;for(var p=2,b=c.byteLength,g;p<b;){if(h.getUint8(p)!=255)return!1;if(g=h.getUint8(p+1),g==225)return C(h,p+4,h.getUint16(p+2)-2);p+=2+h.getUint16(p+2)}}function w(c){var h=new DataView(c);if(h.getUint8(0)!=255||h.getUint8(1)!=216)return!1;for(var p=2,b=c.byteLength,g=function(R,_){return R.getUint8(_)===56&&R.getUint8(_+1)===66&&R.getUint8(_+2)===73&&R.getUint8(_+3)===77&&R.getUint8(_+4)===4&&R.getUint8(_+5)===4};p<b;){if(g(h,p)){var S=h.getUint8(p+7);S%2!==0&&(S+=1),S===0&&(S=4);var f=p+8+S,l=h.getUint16(p+6+S);return k(c,f,l)}p++}}var I={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function k(c,h,p){for(var b=new DataView(c),g={},S,f,l,R,_=h;_<h+p;)b.getUint8(_)===28&&b.getUint8(_+1)===2&&(R=b.getUint8(_+2),R in I&&(l=b.getInt16(_+3),f=I[R],S=V(b,_+5,l),g.hasOwnProperty(f)?g[f]instanceof Array?g[f].push(S):g[f]=[g[f],S]:g[f]=S)),_++;return g}function P(c,h,p,b,g){var S=c.getUint16(p,!g),f={},l,R,_;for(_=0;_<S;_++)l=p+_*12+2,R=b[c.getUint16(l,!g)],!R&&A&&console.log("Unknown tag: "+c.getUint16(l,!g)),f[R]=M(c,l,h,p,g);return f}function M(c,h,p,b,g){var S=c.getUint16(h+2,!g),f=c.getUint32(h+4,!g),l=c.getUint32(h+8,!g)+p,R,_,B,H,z,$;switch(S){case 1:case 7:if(f==1)return c.getUint8(h+8,!g);for(R=f>4?l:h+8,_=[],H=0;H<f;H++)_[H]=c.getUint8(R+H);return _;case 2:return R=f>4?l:h+8,V(c,R,f-1);case 3:if(f==1)return c.getUint16(h+8,!g);for(R=f>2?l:h+8,_=[],H=0;H<f;H++)_[H]=c.getUint16(R+2*H,!g);return _;case 4:if(f==1)return c.getUint32(h+8,!g);for(_=[],H=0;H<f;H++)_[H]=c.getUint32(l+4*H,!g);return _;case 5:if(f==1)return z=c.getUint32(l,!g),$=c.getUint32(l+4,!g),B=new Number(z/$),B.numerator=z,B.denominator=$,B;for(_=[],H=0;H<f;H++)z=c.getUint32(l+8*H,!g),$=c.getUint32(l+4+8*H,!g),_[H]=new Number(z/$),_[H].numerator=z,_[H].denominator=$;return _;case 9:if(f==1)return c.getInt32(h+8,!g);for(_=[],H=0;H<f;H++)_[H]=c.getInt32(l+4*H,!g);return _;case 10:if(f==1)return c.getInt32(l,!g)/c.getInt32(l+4,!g);for(_=[],H=0;H<f;H++)_[H]=c.getInt32(l+8*H,!g)/c.getInt32(l+4+8*H,!g);return _}}function j(c,h,p){var b=c.getUint16(h,!p);return c.getUint32(h+2+b*12,!p)}function T(c,h,p,b){var g=j(c,h+p,b);if(g){if(g>c.byteLength)return{}}else return{};var S=P(c,h,h+g,d,b);if(S.Compression)switch(S.Compression){case 6:if(S.JpegIFOffset&&S.JpegIFByteCount){var f=h+S.JpegIFOffset,l=S.JpegIFByteCount;S.blob=new Blob([new Uint8Array(c.buffer,f,l)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",S.Compression)}else S.PhotometricInterpretation==2&&console.log("Thumbnail image format is RGB, which is not implemented.");return S}function V(c,h,p){var b="";for(n=h;n<h+p;n++)b+=String.fromCharCode(c.getUint8(n));return b}function C(c,h){if(V(c,h,4)!="Exif")return!1;var p,b,g,S,f,l=h+6;if(c.getUint16(l)==18761)p=!1;else if(c.getUint16(l)==19789)p=!0;else return!1;if(c.getUint16(l+2,!p)!=42)return!1;var R=c.getUint32(l+4,!p);if(R<8)return!1;if(b=P(c,l,l+R,t,p),b.ExifIFDPointer){S=P(c,l,l+b.ExifIFDPointer,e,p);for(g in S){switch(g){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":S[g]=F[g][S[g]];break;case"ExifVersion":case"FlashpixVersion":S[g]=String.fromCharCode(S[g][0],S[g][1],S[g][2],S[g][3]);break;case"ComponentsConfiguration":S[g]=F.Components[S[g][0]]+F.Components[S[g][1]]+F.Components[S[g][2]]+F.Components[S[g][3]];break}b[g]=S[g]}}if(b.GPSInfoIFDPointer){f=P(c,l,l+b.GPSInfoIFDPointer,u,p);for(g in f){switch(g){case"GPSVersionID":f[g]=f[g][0]+"."+f[g][1]+"."+f[g][2]+"."+f[g][3];break}b[g]=f[g]}}return b.thumbnail=T(c,l,R,p),b}function L(c){if("DOMParser"in self){var h=new DataView(c);if(h.getUint8(0)!=255||h.getUint8(1)!=216)return!1;for(var p=2,b=c.byteLength,g=new DOMParser;p<b-4;)if(V(h,p,4)=="http"){var S=p-1,f=h.getUint16(p-2)-1,l=V(h,S,f),R=l.indexOf("xmpmeta>")+8;l=l.substring(l.indexOf("<x:xmpmeta"),R);var _=l.indexOf("x:xmpmeta")+10;l=l.slice(0,_)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+l.slice(_);var B=g.parseFromString(l,"text/xml");return y(B)}else p++}}function m(c){var h={};if(c.nodeType==1){if(c.attributes.length>0){h["@attributes"]={};for(var p=0;p<c.attributes.length;p++){var b=c.attributes.item(p);h["@attributes"][b.nodeName]=b.nodeValue}}}else if(c.nodeType==3)return c.nodeValue;if(c.hasChildNodes())for(var g=0;g<c.childNodes.length;g++){var S=c.childNodes.item(g),f=S.nodeName;if(h[f]==null)h[f]=m(S);else{if(h[f].push==null){var l=h[f];h[f]=[],h[f].push(l)}h[f].push(m(S))}}return h}function y(c){try{var h={};if(c.children.length>0)for(var p=0;p<c.children.length;p++){var b=c.children.item(p),g=b.attributes;for(var S in g){var f=g[S],l=f.nodeName,R=f.nodeValue;l!==void 0&&(h[l]=R)}var _=b.nodeName;if(typeof h[_]>"u")h[_]=m(b);else{if(typeof h[_].push>"u"){var B=h[_];h[_]=[],h[_].push(B)}h[_].push(m(b))}}else h=c.textContent;return h}catch(H){console.log(H.message)}}r.enableXmp=function(){r.isXmpEnabled=!0},r.disableXmp=function(){r.isXmpEnabled=!1},r.getData=function(c,h){return(self.Image&&c instanceof self.Image||self.HTMLImageElement&&c instanceof self.HTMLImageElement)&&!c.complete?!1:(D(c)?h&&h.call(c):s(c,h),!0)},r.getTag=function(c,h){if(D(c))return c.exifdata[h]},r.getIptcTag=function(c,h){if(D(c))return c.iptcdata[h]},r.getAllTags=function(c){if(!D(c))return{};var h,p=c.exifdata,b={};for(h in p)p.hasOwnProperty(h)&&(b[h]=p[h]);return b},r.getAllIptcTags=function(c){if(!D(c))return{};var h,p=c.iptcdata,b={};for(h in p)p.hasOwnProperty(h)&&(b[h]=p[h]);return b},r.pretty=function(c){if(!D(c))return"";var h,p=c.exifdata,b="";for(h in p)p.hasOwnProperty(h)&&(typeof p[h]=="object"?p[h]instanceof Number?b+=h+" : "+p[h]+" ["+p[h].numerator+"/"+p[h].denominator+`]\r
`:b+=h+" : ["+p[h].length+` values]\r
`:b+=h+" : "+p[h]+`\r
`);return b},r.readFromBinaryFile=function(c){return v(c)}}).call(gr)})(wt,wt.exports);var rn=wt.exports;const Gt=pr(rn),Zt=i=>new Promise(x=>{Gt.getData(i,function(){const A=Gt.getAllTags(this),r=A.DateTimeOriginal||A.DateTimeDigitized||A.DateTime,e=typeof r=="string"?r.split(/[: ]/):null,t=e&&new Date(`${e[0]}-${e[1]}-${e[2]} ${e[3]}:${e[4]}:${e[5]}`);x(t)})}),Ht=({file:i,showDate:x})=>{const[A,r]=We.useState(),[e,t]=We.useState();return We.useEffect(()=>{if(FileReader&&i){const u=new FileReader;u.onload=()=>{r(u.result)},u.readAsDataURL(i),Zt(i).then(t)}},[i]),A?Q.jsxs("div",{children:[Q.jsx("img",{style:{maxHeight:270,maxWidth:"100%",objectFit:"contain"},src:A,alt:"Screenshot preview"}),x&&Q.jsxs("div",{style:{fontSize:"75%",padding:"0.4em"},children:["Date taken: ",e?e.toLocaleString():"Unknown"]})]}):null};function nn(i,x){return x.forEach(function(A){A&&typeof A!="string"&&!Array.isArray(A)&&Object.keys(A).forEach(function(r){if(r!=="default"&&!(r in i)){var e=Object.getOwnPropertyDescriptor(A,r);Object.defineProperty(i,r,e.get?e:{enumerable:!0,get:function(){return A[r]}})}})}),Object.freeze(i)}function er(i,x){return new Promise(function(A,r){let e;return sn(i).then(function(t){try{return e=t,A(new Blob([x.slice(0,2),e,x.slice(2)],{type:"image/jpeg"}))}catch(u){return r(u)}},r)})}const sn=i=>new Promise((x,A)=>{const r=new FileReader;r.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let u=0;if(t.getUint16(u)!==65496)return A("not a valid JPEG");for(u+=2;;){const d=t.getUint16(u);if(d===65498)break;const F=t.getUint16(u+2);if(d===65505&&t.getUint32(u+4)===1165519206){const D=u+10;let a;switch(t.getUint16(D)){case 18761:a=!0;break;case 19789:a=!1;break;default:return A("TIFF header contains invalid endian")}if(t.getUint16(D+2,a)!==42)return A("TIFF header contains invalid version");const o=t.getUint32(D+4,a),s=D+o+2+12*t.getUint16(D+o,a);for(let v=D+o+2;v<s;v+=12)if(t.getUint16(v,a)==274){if(t.getUint16(v+2,a)!==3)return A("Orientation data type is invalid");if(t.getUint32(v+4,a)!==1)return A("Orientation data count is invalid");t.setUint16(v+8,1,a);break}return x(e.slice(u,u+2+F))}u+=2+F}return x(new Blob)}),r.readAsArrayBuffer(i)});var lt={},an={get exports(){return lt},set exports(i){lt=i}};(function(i){var x,A,r={};an.exports=r,r.parse=function(e,t){for(var u=r.bin.readUshort,d=r.bin.readUint,F=0,D={},a=new Uint8Array(e),o=a.length-4;d(a,o)!=101010256;)o--;F=o,F+=4;var s=u(a,F+=4);u(a,F+=2);var v=d(a,F+=2),w=d(a,F+=4);F+=4,F=w;for(var I=0;I<s;I++){d(a,F),F+=4,F+=4,F+=4,d(a,F+=4),v=d(a,F+=4);var k=d(a,F+=4),P=u(a,F+=4),M=u(a,F+2),j=u(a,F+4);F+=6;var T=d(a,F+=8);F+=4,F+=P+M+j,r._readLocal(a,T,D,v,k,t)}return D},r._readLocal=function(e,t,u,d,F,D){var a=r.bin.readUshort,o=r.bin.readUint;o(e,t),a(e,t+=4),a(e,t+=2);var s=a(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var v=a(e,t+=8),w=a(e,t+=2);t+=2;var I=r.bin.readUTF8(e,t,v);if(t+=v,t+=w,D)u[I]={size:F,csize:d};else{var k=new Uint8Array(e.buffer,t);if(s==0)u[I]=new Uint8Array(k.buffer.slice(t,t+d));else{if(s!=8)throw"unknown compression method: "+s;var P=new Uint8Array(F);r.inflateRaw(k,P),u[I]=P}}},r.inflateRaw=function(e,t){return r.F.inflate(e,t)},r.inflate=function(e,t){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},r.deflate=function(e,t){t==null&&(t={level:6});var u=0,d=new Uint8Array(50+Math.floor(1.1*e.length));d[u]=120,d[u+1]=156,u+=2,u=r.F.deflateRaw(e,d,u,t.level);var F=r.adler(e,0,e.length);return d[u+0]=F>>>24&255,d[u+1]=F>>>16&255,d[u+2]=F>>>8&255,d[u+3]=F>>>0&255,new Uint8Array(d.buffer,0,u+4)},r.deflateRaw=function(e,t){t==null&&(t={level:6});var u=new Uint8Array(50+Math.floor(1.1*e.length)),d=r.F.deflateRaw(e,u,d,t.level);return new Uint8Array(u.buffer,0,d)},r.encode=function(e,t){t==null&&(t=!1);var u=0,d=r.bin.writeUint,F=r.bin.writeUshort,D={};for(var a in e){var o=!r._noNeed(a)&&!t,s=e[a],v=r.crc.crc(s,0,s.length);D[a]={cpr:o,usize:s.length,crc:v,file:o?r.deflateRaw(s):s}}for(var a in D)u+=D[a].file.length+30+46+2*r.bin.sizeUTF8(a);u+=22;var w=new Uint8Array(u),I=0,k=[];for(var a in D){var P=D[a];k.push(I),I=r._writeHeader(w,I,a,P,0)}var M=0,j=I;for(var a in D)P=D[a],k.push(I),I=r._writeHeader(w,I,a,P,1,k[M++]);var T=I-j;return d(w,I,101010256),I+=4,F(w,I+=4,M),F(w,I+=2,M),d(w,I+=2,T),d(w,I+=4,j),I+=4,I+=2,w.buffer},r._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},r._writeHeader=function(e,t,u,d,F,D){var a=r.bin.writeUint,o=r.bin.writeUshort,s=d.file;return a(e,t,F==0?67324752:33639248),t+=4,F==1&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,d.cpr?8:0),a(e,t+=2,0),a(e,t+=4,d.crc),a(e,t+=4,s.length),a(e,t+=4,d.usize),o(e,t+=4,r.bin.sizeUTF8(u)),o(e,t+=2,0),t+=2,F==1&&(t+=2,t+=2,a(e,t+=6,D),t+=4),t+=r.bin.writeUTF8(e,t,u),F==0&&(e.set(s,t),t+=s.length),t},r.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var u=t,d=0;d<8;d++)1&u?u=3988292384^u>>>1:u>>>=1;e[t]=u}return e}(),update:function(e,t,u,d){for(var F=0;F<d;F++)e=r.crc.table[255&(e^t[u+F])]^e>>>8;return e},crc:function(e,t,u){return 4294967295^r.crc.update(4294967295,e,t,u)}},r.adler=function(e,t,u){for(var d=1,F=0,D=t,a=t+u;D<a;){for(var o=Math.min(D+5552,a);D<o;)F+=d+=e[D++];d%=65521,F%=65521}return F<<16|d},r.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255,e[t+2]=u>>16&255,e[t+3]=u>>24&255},readASCII:function(e,t,u){for(var d="",F=0;F<u;F++)d+=String.fromCharCode(e[t+F]);return d},writeASCII:function(e,t,u){for(var d=0;d<u.length;d++)e[t+d]=u.charCodeAt(d)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,u){for(var d,F="",D=0;D<u;D++)F+="%"+r.bin.pad(e[t+D].toString(16));try{d=decodeURIComponent(F)}catch{return r.bin.readASCII(e,t,u)}return d},writeUTF8:function(e,t,u){for(var d=u.length,F=0,D=0;D<d;D++){var a=u.charCodeAt(D);if(!(4294967168&a))e[t+F]=a,F++;else if(!(4294965248&a))e[t+F]=192|a>>6,e[t+F+1]=128|a>>0&63,F+=2;else if(!(4294901760&a))e[t+F]=224|a>>12,e[t+F+1]=128|a>>6&63,e[t+F+2]=128|a>>0&63,F+=3;else{if(4292870144&a)throw"e";e[t+F]=240|a>>18,e[t+F+1]=128|a>>12&63,e[t+F+2]=128|a>>6&63,e[t+F+3]=128|a>>0&63,F+=4}}return F},sizeUTF8:function(e){for(var t=e.length,u=0,d=0;d<t;d++){var F=e.charCodeAt(d);if(!(4294967168&F))u++;else if(!(4294965248&F))u+=2;else if(!(4294901760&F))u+=3;else{if(4292870144&F)throw"e";u+=4}}return u}},r.F={},r.F.deflateRaw=function(e,t,u,d){var F=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],D=r.F.U,a=r.F._goodIndex;r.F._hash;var o=r.F._putsE,s=0,v=u<<3,w=0,I=e.length;if(d==0){for(;s<I;)o(t,v,s+(h=Math.min(65535,I-s))==I?1:0),v=r.F._copyExact(e,s,h,t,v+8),s+=h;return v>>>3}var k=D.lits,P=D.strt,M=D.prev,j=0,T=0,V=0,C=0,L=0,m=0;for(I>2&&(P[m=r.F._hash(e,0)]=0),s=0;s<I;s++){if(L=m,s+1<I-2){m=r.F._hash(e,s+1);var y=s+1&32767;M[y]=P[m],P[m]=y}if(w<=s){(j>14e3||T>26697)&&I-s>100&&(w<s&&(k[j]=s-w,j+=2,w=s),v=r.F._writeBlock(s==I-1||w==I?1:0,k,j,C,e,V,s-V,t,v),j=T=C=0,V=s);var c=0;s<I-2&&(c=r.F._bestMatch(e,s,M,L,Math.min(F[2],I-s),F[3]));var h=c>>>16,p=65535&c;if(c!=0){p=65535&c;var b=a(h=c>>>16,D.of0);D.lhst[257+b]++;var g=a(p,D.df0);D.dhst[g]++,C+=D.exb[b]+D.dxb[g],k[j]=h<<23|s-w,k[j+1]=p<<16|b<<8|g,j+=2,w=s+h}else D.lhst[e[s]]++;T++}}for(V==s&&e.length!=0||(w<s&&(k[j]=s-w,j+=2,w=s),v=r.F._writeBlock(1,k,j,C,e,V,s-V,t,v),j=0,T=0,j=T=C=0,V=s);7&v;)v++;return v>>>3},r.F._bestMatch=function(e,t,u,d,F,D){var a=32767&t,o=u[a],s=a-o+32768&32767;if(o==a||d!=r.F._hash(e,t-s))return 0;for(var v=0,w=0,I=Math.min(32767,t);s<=I&&--D!=0&&o!=a;){if(v==0||e[t+v]==e[t+v-s]){var k=r.F._howLong(e,t,s);if(k>v){if(w=s,(v=k)>=F)break;s+2<k&&(k=s+2);for(var P=0,M=0;M<k-2;M++){var j=t-s+M+32768&32767,T=j-u[j]+32768&32767;T>P&&(P=T,o=j)}}}s+=(a=o)-(o=u[a])+32768&32767}return v<<16|w},r.F._howLong=function(e,t,u){if(e[t]!=e[t-u]||e[t+1]!=e[t+1-u]||e[t+2]!=e[t+2-u])return 0;var d=t,F=Math.min(e.length,t+258);for(t+=3;t<F&&e[t]==e[t-u];)t++;return t-d},r.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,t,u,d,F,D,a,o,s){var v,w,I,k,P,M,j,T,V,C=r.F.U,L=r.F._putsF,m=r.F._putsE;C.lhst[256]++,w=(v=r.F.getTrees())[0],I=v[1],k=v[2],P=v[3],M=v[4],j=v[5],T=v[6],V=v[7];var y=32+(s+3&7?8-(s+3&7):0)+(a<<3),c=d+r.F.contSize(C.fltree,C.lhst)+r.F.contSize(C.fdtree,C.dhst),h=d+r.F.contSize(C.ltree,C.lhst)+r.F.contSize(C.dtree,C.dhst);h+=14+3*j+r.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var p=0;p<286;p++)C.lhst[p]=0;for(p=0;p<30;p++)C.dhst[p]=0;for(p=0;p<19;p++)C.ihst[p]=0;var b=y<c&&y<h?0:c<h?1:2;if(L(o,s,e),L(o,s+1,b),s+=3,b==0){for(;7&s;)s++;s=r.F._copyExact(F,D,a,o,s)}else{var g,S;if(b==1&&(g=C.fltree,S=C.fdtree),b==2){r.F.makeCodes(C.ltree,w),r.F.revCodes(C.ltree,w),r.F.makeCodes(C.dtree,I),r.F.revCodes(C.dtree,I),r.F.makeCodes(C.itree,k),r.F.revCodes(C.itree,k),g=C.ltree,S=C.dtree,m(o,s,P-257),m(o,s+=5,M-1),m(o,s+=5,j-4),s+=4;for(var f=0;f<j;f++)m(o,s+3*f,C.itree[1+(C.ordr[f]<<1)]);s+=3*j,s=r.F._codeTiny(T,C.itree,o,s),s=r.F._codeTiny(V,C.itree,o,s)}for(var l=D,R=0;R<u;R+=2){for(var _=t[R],B=_>>>23,H=l+(8388607&_);l<H;)s=r.F._writeLit(F[l++],g,o,s);if(B!=0){var z=t[R+1],$=z>>16,W=z>>8&255,N=255&z;m(o,s=r.F._writeLit(257+W,g,o,s),B-C.of0[W]),s+=C.exb[W],L(o,s=r.F._writeLit(N,S,o,s),$-C.df0[N]),s+=C.dxb[N],l+=B}}s=r.F._writeLit(256,g,o,s)}return s},r.F._copyExact=function(e,t,u,d,F){var D=F>>>3;return d[D]=u,d[D+1]=u>>>8,d[D+2]=255-d[D],d[D+3]=255-d[D+1],D+=4,d.set(new Uint8Array(e.buffer,t,u),D),F+(u+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,t=r.F._hufTree(e.lhst,e.ltree,15),u=r.F._hufTree(e.dhst,e.dtree,15),d=[],F=r.F._lenCodes(e.ltree,d),D=[],a=r.F._lenCodes(e.dtree,D),o=0;o<d.length;o+=2)e.ihst[d[o]]++;for(o=0;o<D.length;o+=2)e.ihst[D[o]]++;for(var s=r.F._hufTree(e.ihst,e.itree,7),v=19;v>4&&e.itree[1+(e.ordr[v-1]<<1)]==0;)v--;return[t,u,s,F,a,v,d,D]},r.F.getSecond=function(e){for(var t=[],u=0;u<e.length;u+=2)t.push(e[u+1]);return t},r.F.nonZero=function(e){for(var t="",u=0;u<e.length;u+=2)e[u+1]!=0&&(t+=(u>>1)+",");return t},r.F.contSize=function(e,t){for(var u=0,d=0;d<t.length;d++)u+=t[d]*e[1+(d<<1)];return u},r.F._codeTiny=function(e,t,u,d){for(var F=0;F<e.length;F+=2){var D=e[F],a=e[F+1];d=r.F._writeLit(D,t,u,d);var o=D==16?2:D==17?3:7;D>15&&(r.F._putsE(u,d,a,o),d+=o)}return d},r.F._lenCodes=function(e,t){for(var u=e.length;u!=2&&e[u-1]==0;)u-=2;for(var d=0;d<u;d+=2){var F=e[d+1],D=d+3<u?e[d+3]:-1,a=d+5<u?e[d+5]:-1,o=d==0?-1:e[d-1];if(F==0&&D==F&&a==F){for(var s=d+5;s+2<u&&e[s+2]==F;)s+=2;(v=Math.min(s+1-d>>>1,138))<11?t.push(17,v-3):t.push(18,v-11),d+=2*v-2}else if(F==o&&D==F&&a==F){for(s=d+5;s+2<u&&e[s+2]==F;)s+=2;var v=Math.min(s+1-d>>>1,6);t.push(16,v-3),d+=2*v-2}else t.push(F,0)}return u>>>1},r.F._hufTree=function(e,t,u){var d=[],F=e.length,D=t.length,a=0;for(a=0;a<D;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<F;a++)e[a]!=0&&d.push({lit:a,f:e[a]});var o=d.length,s=d.slice(0);if(o==0)return 0;if(o==1){var v=d[0].lit;return s=v==0?1:0,t[1+(v<<1)]=1,t[1+(s<<1)]=1,1}d.sort(function(T,V){return T.f-V.f});var w=d[0],I=d[1],k=0,P=1,M=2;for(d[0]={lit:-1,f:w.f+I.f,l:w,r:I,d:0};P!=o-1;)w=k!=P&&(M==o||d[k].f<d[M].f)?d[k++]:d[M++],I=k!=P&&(M==o||d[k].f<d[M].f)?d[k++]:d[M++],d[P++]={lit:-1,f:w.f+I.f,l:w,r:I};var j=r.F.setDepth(d[P-1],0);for(j>u&&(r.F.restrictDepth(s,u,j),j=u),a=0;a<o;a++)t[1+(s[a].lit<<1)]=s[a].d;return j},r.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(r.F.setDepth(e.l,t+1),r.F.setDepth(e.r,t+1))},r.F.restrictDepth=function(e,t,u){var d=0,F=1<<u-t,D=0;for(e.sort(function(o,s){return s.d==o.d?o.f-s.f:s.d-o.d}),d=0;d<e.length&&e[d].d>t;d++){var a=e[d].d;e[d].d=t,D+=F-(1<<u-a)}for(D>>>=u-t;D>0;)(a=e[d].d)<t?(e[d].d++,D-=1<<t-a-1):d++;for(;d>=0;d--)e[d].d==t&&D<0&&(e[d].d--,D++);D!=0&&console.log("debt left")},r.F._goodIndex=function(e,t){var u=0;return t[16|u]<=e&&(u|=16),t[8|u]<=e&&(u|=8),t[4|u]<=e&&(u|=4),t[2|u]<=e&&(u|=2),t[1|u]<=e&&(u|=1),u},r.F._writeLit=function(e,t,u,d){return r.F._putsF(u,d,t[e<<1]),d+t[1+(e<<1)]},r.F.inflate=function(e,t){var u=Uint8Array;if(e[0]==3&&e[1]==0)return t||new u(0);var d=r.F,F=d._bitsF,D=d._bitsE,a=d._decodeTiny,o=d.makeCodes,s=d.codes2map,v=d._get17,w=d.U,I=t==null;I&&(t=new u(e.length>>>2<<3));for(var k,P,M=0,j=0,T=0,V=0,C=0,L=0,m=0,y=0,c=0;M==0;)if(M=F(e,c,1),j=F(e,c+1,2),c+=3,j!=0){if(I&&(t=r.F._check(t,y+(1<<17))),j==1&&(k=w.flmap,P=w.fdmap,L=511,m=31),j==2){T=D(e,c,5)+257,V=D(e,c+5,5)+1,C=D(e,c+10,4)+4,c+=14;for(var h=0;h<38;h+=2)w.itree[h]=0,w.itree[h+1]=0;var p=1;for(h=0;h<C;h++){var b=D(e,c+3*h,3);w.itree[1+(w.ordr[h]<<1)]=b,b>p&&(p=b)}c+=3*C,o(w.itree,p),s(w.itree,p,w.imap),k=w.lmap,P=w.dmap,c=a(w.imap,(1<<p)-1,T+V,e,c,w.ttree);var g=d._copyOut(w.ttree,0,T,w.ltree);L=(1<<g)-1;var S=d._copyOut(w.ttree,T,V,w.dtree);m=(1<<S)-1,o(w.ltree,g),s(w.ltree,g,k),o(w.dtree,S),s(w.dtree,S,P)}for(;;){var f=k[v(e,c)&L];c+=15&f;var l=f>>>4;if(!(l>>>8))t[y++]=l;else{if(l==256)break;var R=y+l-254;if(l>264){var _=w.ldef[l-257];R=y+(_>>>3)+D(e,c,7&_),c+=7&_}var B=P[v(e,c)&m];c+=15&B;var H=B>>>4,z=w.ddef[H],$=(z>>>4)+F(e,c,15&z);for(c+=15&z,I&&(t=r.F._check(t,y+(1<<17)));y<R;)t[y]=t[y++-$],t[y]=t[y++-$],t[y]=t[y++-$],t[y]=t[y++-$];y=R}}}else{7&c&&(c+=8-(7&c));var W=4+(c>>>3),N=e[W-4]|e[W-3]<<8;I&&(t=r.F._check(t,y+N)),t.set(new u(e.buffer,e.byteOffset+W,N),y),c=W+N<<3,y+=N}return t.length==y?t:t.slice(0,y)},r.F._check=function(e,t){var u=e.length;if(t<=u)return e;var d=new Uint8Array(Math.max(u<<1,t));return d.set(e,0),d},r.F._decodeTiny=function(e,t,u,d,F,D){for(var a=r.F._bitsE,o=r.F._get17,s=0;s<u;){var v=e[o(d,F)&t];F+=15&v;var w=v>>>4;if(w<=15)D[s]=w,s++;else{var I=0,k=0;w==16?(k=3+a(d,F,2),F+=2,I=D[s-1]):w==17?(k=3+a(d,F,3),F+=3):w==18&&(k=11+a(d,F,7),F+=7);for(var P=s+k;s<P;)D[s]=I,s++}}return F},r.F._copyOut=function(e,t,u,d){for(var F=0,D=0,a=d.length>>>1;D<u;){var o=e[D+t];d[D<<1]=0,d[1+(D<<1)]=o,o>F&&(F=o),D++}for(;D<a;)d[D<<1]=0,d[1+(D<<1)]=0,D++;return F},r.F.makeCodes=function(e,t){for(var u,d,F,D,a=r.F.U,o=e.length,s=a.bl_count,v=0;v<=t;v++)s[v]=0;for(v=1;v<o;v+=2)s[e[v]]++;var w=a.next_code;for(u=0,s[0]=0,d=1;d<=t;d++)u=u+s[d-1]<<1,w[d]=u;for(F=0;F<o;F+=2)(D=e[F+1])!=0&&(e[F]=w[D],w[D]++)},r.F.codes2map=function(e,t,u){for(var d=e.length,F=r.F.U.rev15,D=0;D<d;D+=2)if(e[D+1]!=0)for(var a=D>>1,o=e[D+1],s=a<<4|o,v=t-o,w=e[D]<<v,I=w+(1<<v);w!=I;)u[F[w]>>>15-t]=s,w++},r.F.revCodes=function(e,t){for(var u=r.F.U.rev15,d=15-t,F=0;F<e.length;F+=2){var D=e[F]<<t-e[F+1];e[F]=u[D]>>>d}},r.F._putsE=function(e,t,u){u<<=7&t;var d=t>>>3;e[d]|=u,e[d+1]|=u>>>8},r.F._putsF=function(e,t,u){u<<=7&t;var d=t>>>3;e[d]|=u,e[d+1]|=u>>>8,e[d+2]|=u>>>16},r.F._bitsE=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<u)-1},r.F._bitsF=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<u)-1},r.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},r.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},r.F.U=(x=Uint16Array,A=Uint32Array,{next_code:new x(16),bl_count:new x(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new x(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new A(32),flmap:new x(512),fltree:[],fdmap:new x(32),fdtree:[],lmap:new x(32768),ltree:[],ttree:[],dmap:new x(32768),dtree:[],imap:new x(512),itree:[],rev15:new x(32768),lhst:new A(286),dhst:new A(30),ihst:new A(19),lits:new A(15e3),strt:new x(65536),prev:new x(32768)}),function(){for(var e=r.F.U,t=0;t<32768;t++){var u=t;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,e.rev15[t]=(u>>>16|u<<16)>>>17}function d(F,D,a){for(;D--!=0;)F.push(0,a)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];d(e.fltree,144,8),d(e.fltree,112,9),d(e.fltree,24,7),d(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),d(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),d(e.itree,19,0),d(e.ltree,286,0),d(e.dtree,30,0),d(e.ttree,320,0)}()})();var on=nn({__proto__:null,default:lt},[lt]);const we=function(){var i={nextZero(a,o){for(;a[o]!=0;)o++;return o},readUshort:(a,o)=>a[o]<<8|a[o+1],writeUshort(a,o,s){a[o]=s>>8&255,a[o+1]=255&s},readUint:(a,o)=>16777216*a[o]+(a[o+1]<<16|a[o+2]<<8|a[o+3]),writeUint(a,o,s){a[o]=s>>24&255,a[o+1]=s>>16&255,a[o+2]=s>>8&255,a[o+3]=255&s},readASCII(a,o,s){let v="";for(let w=0;w<s;w++)v+=String.fromCharCode(a[o+w]);return v},writeASCII(a,o,s){for(let v=0;v<s.length;v++)a[o+v]=s.charCodeAt(v)},readBytes(a,o,s){const v=[];for(let w=0;w<s;w++)v.push(a[o+w]);return v},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,o,s){let v,w="";for(let I=0;I<s;I++)w+=`%${i.pad(a[o+I].toString(16))}`;try{v=decodeURIComponent(w)}catch{return i.readASCII(a,o,s)}return v}};function x(a,o,s,v){const w=o*s,I=t(v),k=Math.ceil(o*I/8),P=new Uint8Array(4*w),M=new Uint32Array(P.buffer),{ctype:j}=v,{depth:T}=v,V=i.readUshort;if(j==6){const _=w<<2;if(T==8)for(var C=0;C<_;C+=4)P[C]=a[C],P[C+1]=a[C+1],P[C+2]=a[C+2],P[C+3]=a[C+3];if(T==16)for(C=0;C<_;C++)P[C]=a[C<<1]}else if(j==2){const _=v.tabs.tRNS;if(_==null){if(T==8)for(C=0;C<w;C++){var L=3*C;M[C]=255<<24|a[L+2]<<16|a[L+1]<<8|a[L]}if(T==16)for(C=0;C<w;C++)L=6*C,M[C]=255<<24|a[L+4]<<16|a[L+2]<<8|a[L]}else{var m=_[0];const B=_[1],H=_[2];if(T==8)for(C=0;C<w;C++){var y=C<<2;L=3*C,M[C]=255<<24|a[L+2]<<16|a[L+1]<<8|a[L],a[L]==m&&a[L+1]==B&&a[L+2]==H&&(P[y+3]=0)}if(T==16)for(C=0;C<w;C++)y=C<<2,L=6*C,M[C]=255<<24|a[L+4]<<16|a[L+2]<<8|a[L],V(a,L)==m&&V(a,L+2)==B&&V(a,L+4)==H&&(P[y+3]=0)}}else if(j==3){const _=v.tabs.PLTE,B=v.tabs.tRNS,H=B?B.length:0;if(T==1)for(var c=0;c<s;c++){var h=c*k,p=c*o;for(C=0;C<o;C++){y=p+C<<2;var b=3*(g=a[h+(C>>3)]>>7-((7&C)<<0)&1);P[y]=_[b],P[y+1]=_[b+1],P[y+2]=_[b+2],P[y+3]=g<H?B[g]:255}}if(T==2)for(c=0;c<s;c++)for(h=c*k,p=c*o,C=0;C<o;C++)y=p+C<<2,b=3*(g=a[h+(C>>2)]>>6-((3&C)<<1)&3),P[y]=_[b],P[y+1]=_[b+1],P[y+2]=_[b+2],P[y+3]=g<H?B[g]:255;if(T==4)for(c=0;c<s;c++)for(h=c*k,p=c*o,C=0;C<o;C++)y=p+C<<2,b=3*(g=a[h+(C>>1)]>>4-((1&C)<<2)&15),P[y]=_[b],P[y+1]=_[b+1],P[y+2]=_[b+2],P[y+3]=g<H?B[g]:255;if(T==8)for(C=0;C<w;C++){var g;y=C<<2,b=3*(g=a[C]),P[y]=_[b],P[y+1]=_[b+1],P[y+2]=_[b+2],P[y+3]=g<H?B[g]:255}}else if(j==4){if(T==8)for(C=0;C<w;C++){y=C<<2;var S=a[f=C<<1];P[y]=S,P[y+1]=S,P[y+2]=S,P[y+3]=a[f+1]}if(T==16)for(C=0;C<w;C++){var f;y=C<<2,S=a[f=C<<2],P[y]=S,P[y+1]=S,P[y+2]=S,P[y+3]=a[f+2]}}else if(j==0)for(m=v.tabs.tRNS?v.tabs.tRNS:-1,c=0;c<s;c++){const _=c*k,B=c*o;if(T==1)for(var l=0;l<o;l++){var R=(S=255*(a[_+(l>>>3)]>>>7-(7&l)&1))==255*m?0:255;M[B+l]=R<<24|S<<16|S<<8|S}else if(T==2)for(l=0;l<o;l++)R=(S=85*(a[_+(l>>>2)]>>>6-((3&l)<<1)&3))==85*m?0:255,M[B+l]=R<<24|S<<16|S<<8|S;else if(T==4)for(l=0;l<o;l++)R=(S=17*(a[_+(l>>>1)]>>>4-((1&l)<<2)&15))==17*m?0:255,M[B+l]=R<<24|S<<16|S<<8|S;else if(T==8)for(l=0;l<o;l++)R=(S=a[_+l])==m?0:255,M[B+l]=R<<24|S<<16|S<<8|S;else if(T==16)for(l=0;l<o;l++)S=a[_+(l<<1)],R=V(a,_+(l<<1))==m?0:255,M[B+l]=R<<24|S<<16|S<<8|S}return P}function A(a,o,s,v){const w=t(a),I=Math.ceil(s*w/8),k=new Uint8Array((I+1+a.interlace)*v);return o=a.tabs.CgBI?e(o,k):r(o,k),a.interlace==0?o=u(o,a,0,s,v):a.interlace==1&&(o=function(M,j){const T=j.width,V=j.height,C=t(j),L=C>>3,m=Math.ceil(T*C/8),y=new Uint8Array(V*m);let c=0;const h=[0,0,4,0,2,0,1],p=[0,4,0,2,0,1,0],b=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1];let S=0;for(;S<7;){const l=b[S],R=g[S];let _=0,B=0,H=h[S];for(;H<V;)H+=l,B++;let z=p[S];for(;z<T;)z+=R,_++;const $=Math.ceil(_*C/8);u(M,j,c,_,B);let W=0,N=h[S];for(;N<V;){let K=p[S],ne=c+W*$<<3;for(;K<T;){var f;if(C==1&&(f=(f=M[ne>>3])>>7-(7&ne)&1,y[N*m+(K>>3)]|=f<<7-((7&K)<<0)),C==2&&(f=(f=M[ne>>3])>>6-(7&ne)&3,y[N*m+(K>>2)]|=f<<6-((3&K)<<1)),C==4&&(f=(f=M[ne>>3])>>4-(7&ne)&15,y[N*m+(K>>1)]|=f<<4-((1&K)<<2)),C>=8){const re=N*m+K*L;for(let te=0;te<L;te++)y[re+te]=M[(ne>>3)+te]}ne+=C,K+=R}W++,N+=l}_*B!=0&&(c+=B*(1+$)),S+=1}return y}(o,a)),o}function r(a,o){return e(new Uint8Array(a.buffer,2,a.length-6),o)}var e=function(){const a={H:{}};return a.H.N=function(o,s){const v=Uint8Array;let w,I,k=0,P=0,M=0,j=0,T=0,V=0,C=0,L=0,m=0;if(o[0]==3&&o[1]==0)return s||new v(0);const y=a.H,c=y.b,h=y.e,p=y.R,b=y.n,g=y.A,S=y.Z,f=y.m,l=s==null;for(l&&(s=new v(o.length>>>2<<5));k==0;)if(k=c(o,m,1),P=c(o,m+1,2),m+=3,P!=0){if(l&&(s=a.H.W(s,L+(1<<17))),P==1&&(w=f.J,I=f.h,V=511,C=31),P==2){M=h(o,m,5)+257,j=h(o,m+5,5)+1,T=h(o,m+10,4)+4,m+=14;let _=1;for(var R=0;R<38;R+=2)f.Q[R]=0,f.Q[R+1]=0;for(R=0;R<T;R++){const z=h(o,m+3*R,3);f.Q[1+(f.X[R]<<1)]=z,z>_&&(_=z)}m+=3*T,b(f.Q,_),g(f.Q,_,f.u),w=f.w,I=f.d,m=p(f.u,(1<<_)-1,M+j,o,m,f.v);const B=y.V(f.v,0,M,f.C);V=(1<<B)-1;const H=y.V(f.v,M,j,f.D);C=(1<<H)-1,b(f.C,B),g(f.C,B,w),b(f.D,H),g(f.D,H,I)}for(;;){const _=w[S(o,m)&V];m+=15&_;const B=_>>>4;if(!(B>>>8))s[L++]=B;else{if(B==256)break;{let H=L+B-254;if(B>264){const K=f.q[B-257];H=L+(K>>>3)+h(o,m,7&K),m+=7&K}const z=I[S(o,m)&C];m+=15&z;const $=z>>>4,W=f.c[$],N=(W>>>4)+c(o,m,15&W);for(m+=15&W;L<H;)s[L]=s[L++-N],s[L]=s[L++-N],s[L]=s[L++-N],s[L]=s[L++-N];L=H}}}}else{7&m&&(m+=8-(7&m));const _=4+(m>>>3),B=o[_-4]|o[_-3]<<8;l&&(s=a.H.W(s,L+B)),s.set(new v(o.buffer,o.byteOffset+_,B),L),m=_+B<<3,L+=B}return s.length==L?s:s.slice(0,L)},a.H.W=function(o,s){const v=o.length;if(s<=v)return o;const w=new Uint8Array(v<<1);return w.set(o,0),w},a.H.R=function(o,s,v,w,I,k){const P=a.H.e,M=a.H.Z;let j=0;for(;j<v;){const T=o[M(w,I)&s];I+=15&T;const V=T>>>4;if(V<=15)k[j]=V,j++;else{let C=0,L=0;V==16?(L=3+P(w,I,2),I+=2,C=k[j-1]):V==17?(L=3+P(w,I,3),I+=3):V==18&&(L=11+P(w,I,7),I+=7);const m=j+L;for(;j<m;)k[j]=C,j++}}return I},a.H.V=function(o,s,v,w){let I=0,k=0;const P=w.length>>>1;for(;k<v;){const M=o[k+s];w[k<<1]=0,w[1+(k<<1)]=M,M>I&&(I=M),k++}for(;k<P;)w[k<<1]=0,w[1+(k<<1)]=0,k++;return I},a.H.n=function(o,s){const v=a.H.m,w=o.length;let I,k,P,M;const j=v.j;for(var T=0;T<=s;T++)j[T]=0;for(T=1;T<w;T+=2)j[o[T]]++;const V=v.K;for(I=0,j[0]=0,k=1;k<=s;k++)I=I+j[k-1]<<1,V[k]=I;for(P=0;P<w;P+=2)M=o[P+1],M!=0&&(o[P]=V[M],V[M]++)},a.H.A=function(o,s,v){const w=o.length,I=a.H.m.r;for(let k=0;k<w;k+=2)if(o[k+1]!=0){const P=k>>1,M=o[k+1],j=P<<4|M,T=s-M;let V=o[k]<<T;const C=V+(1<<T);for(;V!=C;)v[I[V]>>>15-s]=j,V++}},a.H.l=function(o,s){const v=a.H.m.r,w=15-s;for(let I=0;I<o.length;I+=2){const k=o[I]<<s-o[I+1];o[I]=v[k]>>>w}},a.H.M=function(o,s,v){v<<=7&s;const w=s>>>3;o[w]|=v,o[w+1]|=v>>>8},a.H.I=function(o,s,v){v<<=7&s;const w=s>>>3;o[w]|=v,o[w+1]|=v>>>8,o[w+2]|=v>>>16},a.H.e=function(o,s,v){return(o[s>>>3]|o[1+(s>>>3)]<<8)>>>(7&s)&(1<<v)-1},a.H.b=function(o,s,v){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)&(1<<v)-1},a.H.Z=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)},a.H.i=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16|o[3+(s>>>3)]<<24)>>>(7&s)},a.H.m=function(){const o=Uint16Array,s=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new s(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new s(286),Y:new s(30),a:new s(19),t:new s(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=a.H.m;for(var s=0;s<32768;s++){let w=s;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,o.r[s]=(w>>>16|w<<16)>>>17}function v(w,I,k){for(;I--!=0;)w.push(0,k)}for(s=0;s<32;s++)o.q[s]=o.S[s]<<3|o.T[s],o.c[s]=o.p[s]<<4|o.z[s];v(o._,144,8),v(o._,112,9),v(o._,24,7),v(o._,8,8),a.H.n(o._,9),a.H.A(o._,9,o.J),a.H.l(o._,9),v(o.$,32,5),a.H.n(o.$,5),a.H.A(o.$,5,o.h),a.H.l(o.$,5),v(o.Q,19,0),v(o.C,286,0),v(o.D,30,0),v(o.v,320,0)}(),a.H.N}();function t(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function u(a,o,s,v,w){let I=t(o);const k=Math.ceil(v*I/8);let P,M;I=Math.ceil(I/8);let j=a[s],T=0;if(j>1&&(a[s]=[0,0,1][j-2]),j==3)for(T=I;T<k;T++)a[T+1]=a[T+1]+(a[T+1-I]>>>1)&255;for(let V=0;V<w;V++)if(P=s+V*k,M=P+V+1,j=a[M-1],T=0,j==0)for(;T<k;T++)a[P+T]=a[M+T];else if(j==1){for(;T<I;T++)a[P+T]=a[M+T];for(;T<k;T++)a[P+T]=a[M+T]+a[P+T-I]}else if(j==2)for(;T<k;T++)a[P+T]=a[M+T]+a[P+T-k];else if(j==3){for(;T<I;T++)a[P+T]=a[M+T]+(a[P+T-k]>>>1);for(;T<k;T++)a[P+T]=a[M+T]+(a[P+T-k]+a[P+T-I]>>>1)}else{for(;T<I;T++)a[P+T]=a[M+T]+d(0,a[P+T-k],0);for(;T<k;T++)a[P+T]=a[M+T]+d(a[P+T-I],a[P+T-k],a[P+T-I-k])}return a}function d(a,o,s){const v=a+o-s,w=v-a,I=v-o,k=v-s;return w*w<=I*I&&w*w<=k*k?a:I*I<=k*k?o:s}function F(a,o,s){s.width=i.readUint(a,o),o+=4,s.height=i.readUint(a,o),o+=4,s.depth=a[o],o++,s.ctype=a[o],o++,s.compress=a[o],o++,s.filter=a[o],o++,s.interlace=a[o],o++}function D(a,o,s,v,w,I,k,P,M){const j=Math.min(o,w),T=Math.min(s,I);let V=0,C=0;for(let S=0;S<T;S++)for(let f=0;f<j;f++)if(k>=0&&P>=0?(V=S*o+f<<2,C=(P+S)*w+k+f<<2):(V=(-P+S)*o-k+f<<2,C=S*w+f<<2),M==0)v[C]=a[V],v[C+1]=a[V+1],v[C+2]=a[V+2],v[C+3]=a[V+3];else if(M==1){var L=a[V+3]*.00392156862745098,m=a[V]*L,y=a[V+1]*L,c=a[V+2]*L,h=v[C+3]*(1/255),p=v[C]*h,b=v[C+1]*h,g=v[C+2]*h;const l=1-L,R=L+h*l,_=R==0?0:1/R;v[C+3]=255*R,v[C+0]=(m+p*l)*_,v[C+1]=(y+b*l)*_,v[C+2]=(c+g*l)*_}else if(M==2)L=a[V+3],m=a[V],y=a[V+1],c=a[V+2],h=v[C+3],p=v[C],b=v[C+1],g=v[C+2],L==h&&m==p&&y==b&&c==g?(v[C]=0,v[C+1]=0,v[C+2]=0,v[C+3]=0):(v[C]=m,v[C+1]=y,v[C+2]=c,v[C+3]=L);else if(M==3){if(L=a[V+3],m=a[V],y=a[V+1],c=a[V+2],h=v[C+3],p=v[C],b=v[C+1],g=v[C+2],L==h&&m==p&&y==b&&c==g)continue;if(L<220&&h>20)return!1}return!0}return{decode:function(o){const s=new Uint8Array(o);let v=8;const w=i,I=w.readUshort,k=w.readUint,P={tabs:{},frames:[]},M=new Uint8Array(s.length);let j,T=0,V=0;const C=[137,80,78,71,13,10,26,10];for(var L=0;L<8;L++)if(s[L]!=C[L])throw"The input is not a PNG file!";for(;v<s.length;){const S=w.readUint(s,v);v+=4;const f=w.readASCII(s,v,4);if(v+=4,f=="IHDR")F(s,v,P);else if(f=="iCCP"){for(var m=v;s[m]!=0;)m++;w.readASCII(s,v,m-v),s[m+1];const l=s.slice(m+2,v+S);let R=null;try{R=r(l)}catch{R=e(l)}P.tabs[f]=R}else if(f=="CgBI")P.tabs[f]=s.slice(v,v+4);else if(f=="IDAT"){for(L=0;L<S;L++)M[T+L]=s[v+L];T+=S}else if(f=="acTL")P.tabs[f]={num_frames:k(s,v),num_plays:k(s,v+4)},j=new Uint8Array(s.length);else if(f=="fcTL"){V!=0&&((g=P.frames[P.frames.length-1]).data=A(P,j.slice(0,V),g.rect.width,g.rect.height),V=0);const l={x:k(s,v+12),y:k(s,v+16),width:k(s,v+4),height:k(s,v+8)};let R=I(s,v+22);R=I(s,v+20)/(R==0?100:R);const _={rect:l,delay:Math.round(1e3*R),dispose:s[v+24],blend:s[v+25]};P.frames.push(_)}else if(f=="fdAT"){for(L=0;L<S-4;L++)j[V+L]=s[v+L+4];V+=S-4}else if(f=="pHYs")P.tabs[f]=[w.readUint(s,v),w.readUint(s,v+4),s[v+8]];else if(f=="cHRM")for(P.tabs[f]=[],L=0;L<8;L++)P.tabs[f].push(w.readUint(s,v+4*L));else if(f=="tEXt"||f=="zTXt"){P.tabs[f]==null&&(P.tabs[f]={});var y=w.nextZero(s,v),c=w.readASCII(s,v,y-v),h=v+S-y-1;if(f=="tEXt")b=w.readASCII(s,y+1,h);else{var p=r(s.slice(y+2,y+2+h));b=w.readUTF8(p,0,p.length)}P.tabs[f][c]=b}else if(f=="iTXt"){P.tabs[f]==null&&(P.tabs[f]={}),y=0,m=v,y=w.nextZero(s,m),c=w.readASCII(s,m,y-m);const l=s[m=y+1];var b;s[m+1],m+=2,y=w.nextZero(s,m),w.readASCII(s,m,y-m),m=y+1,y=w.nextZero(s,m),w.readUTF8(s,m,y-m),h=S-((m=y+1)-v),l==0?b=w.readUTF8(s,m,h):(p=r(s.slice(m,m+h)),b=w.readUTF8(p,0,p.length)),P.tabs[f][c]=b}else if(f=="PLTE")P.tabs[f]=w.readBytes(s,v,S);else if(f=="hIST"){const l=P.tabs.PLTE.length/3;for(P.tabs[f]=[],L=0;L<l;L++)P.tabs[f].push(I(s,v+2*L))}else if(f=="tRNS")P.ctype==3?P.tabs[f]=w.readBytes(s,v,S):P.ctype==0?P.tabs[f]=I(s,v):P.ctype==2&&(P.tabs[f]=[I(s,v),I(s,v+2),I(s,v+4)]);else if(f=="gAMA")P.tabs[f]=w.readUint(s,v)/1e5;else if(f=="sRGB")P.tabs[f]=s[v];else if(f=="bKGD")P.ctype==0||P.ctype==4?P.tabs[f]=[I(s,v)]:P.ctype==2||P.ctype==6?P.tabs[f]=[I(s,v),I(s,v+2),I(s,v+4)]:P.ctype==3&&(P.tabs[f]=s[v]);else if(f=="IEND")break;v+=S,w.readUint(s,v),v+=4}var g;return V!=0&&((g=P.frames[P.frames.length-1]).data=A(P,j.slice(0,V),g.rect.width,g.rect.height)),P.data=A(P,M,P.width,P.height),delete P.compress,delete P.interlace,delete P.filter,P},toRGBA8:function(o){const s=o.width,v=o.height;if(o.tabs.acTL==null)return[x(o.data,s,v,o).buffer];const w=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const I=s*v*4,k=new Uint8Array(I),P=new Uint8Array(I),M=new Uint8Array(I);for(let T=0;T<o.frames.length;T++){const V=o.frames[T],C=V.rect.x,L=V.rect.y,m=V.rect.width,y=V.rect.height,c=x(V.data,m,y,o);if(T!=0)for(var j=0;j<I;j++)M[j]=k[j];if(V.blend==0?D(c,m,y,k,s,v,C,L,0):V.blend==1&&D(c,m,y,k,s,v,C,L,1),w.push(k.buffer.slice(0)),V.dispose!=0){if(V.dispose==1)D(P,m,y,k,s,v,C,L,0);else if(V.dispose==2)for(j=0;j<I;j++)k[j]=M[j]}}return w},_paeth:d,_copyTile:D,_bin:i}}();(function(){const{_copyTile:i}=we,{_bin:x}=we,A=we._paeth;var r={table:function(){const m=new Uint32Array(256);for(let y=0;y<256;y++){let c=y;for(let h=0;h<8;h++)1&c?c=3988292384^c>>>1:c>>>=1;m[y]=c}return m}(),update(m,y,c,h){for(let p=0;p<h;p++)m=r.table[255&(m^y[c+p])]^m>>>8;return m},crc:(m,y,c)=>4294967295^r.update(4294967295,m,y,c)};function e(m,y,c,h){y[c]+=m[0]*h>>4,y[c+1]+=m[1]*h>>4,y[c+2]+=m[2]*h>>4,y[c+3]+=m[3]*h>>4}function t(m){return Math.max(0,Math.min(255,m))}function u(m,y){const c=m[0]-y[0],h=m[1]-y[1],p=m[2]-y[2],b=m[3]-y[3];return c*c+h*h+p*p+b*b}function d(m,y,c,h,p,b,g){g==null&&(g=1);const S=h.length,f=[];for(var l=0;l<S;l++){const N=h[l];f.push([N>>>0&255,N>>>8&255,N>>>16&255,N>>>24&255])}for(l=0;l<S;l++){let N=4294967295;for(var R=0,_=0;_<S;_++){var B=u(f[l],f[_]);_!=l&&B<N&&(N=B,R=_)}}const H=new Uint32Array(p.buffer),z=new Int16Array(y*c*4),$=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(l=0;l<$.length;l++)$[l]=255*(($[l]+.5)/16-.5);for(let N=0;N<c;N++)for(let K=0;K<y;K++){var W;l=4*(N*y+K),g!=2?W=[t(m[l]+z[l]),t(m[l+1]+z[l+1]),t(m[l+2]+z[l+2]),t(m[l+3]+z[l+3])]:(B=$[4*(3&N)+(3&K)],W=[t(m[l]+B),t(m[l+1]+B),t(m[l+2]+B),t(m[l+3]+B)]),R=0;let ne=16777215;for(_=0;_<S;_++){const ie=u(W,f[_]);ie<ne&&(ne=ie,R=_)}const re=f[R],te=[W[0]-re[0],W[1]-re[1],W[2]-re[2],W[3]-re[3]];g==1&&(K!=y-1&&e(te,z,l+4,7),N!=c-1&&(K!=0&&e(te,z,l+4*y-4,3),e(te,z,l+4*y,5),K!=y-1&&e(te,z,l+4*y+4,1))),b[l>>2]=R,H[l>>2]=h[R]}}function F(m,y,c,h,p){p==null&&(p={});const{crc:b}=r,g=x.writeUint,S=x.writeUshort,f=x.writeASCII;let l=8;const R=m.frames.length>1;let _,B=!1,H=33+(R?20:0);if(p.sRGB!=null&&(H+=13),p.pHYs!=null&&(H+=21),p.iCCP!=null&&(_=pako.deflate(p.iCCP),H+=21+_.length+4),m.ctype==3){for(var z=m.plte.length,$=0;$<z;$++)m.plte[$]>>>24!=255&&(B=!0);H+=8+3*z+4+(B?8+1*z+4:0)}for(var W=0;W<m.frames.length;W++)R&&(H+=38),H+=(re=m.frames[W]).cimg.length+12,W!=0&&(H+=4);H+=12;const N=new Uint8Array(H),K=[137,80,78,71,13,10,26,10];for($=0;$<8;$++)N[$]=K[$];if(g(N,l,13),l+=4,f(N,l,"IHDR"),l+=4,g(N,l,y),l+=4,g(N,l,c),l+=4,N[l]=m.depth,l++,N[l]=m.ctype,l++,N[l]=0,l++,N[l]=0,l++,N[l]=0,l++,g(N,l,b(N,l-17,17)),l+=4,p.sRGB!=null&&(g(N,l,1),l+=4,f(N,l,"sRGB"),l+=4,N[l]=p.sRGB,l++,g(N,l,b(N,l-5,5)),l+=4),p.iCCP!=null){const te=13+_.length;g(N,l,te),l+=4,f(N,l,"iCCP"),l+=4,f(N,l,"ICC profile"),l+=11,l+=2,N.set(_,l),l+=_.length,g(N,l,b(N,l-(te+4),te+4)),l+=4}if(p.pHYs!=null&&(g(N,l,9),l+=4,f(N,l,"pHYs"),l+=4,g(N,l,p.pHYs[0]),l+=4,g(N,l,p.pHYs[1]),l+=4,N[l]=p.pHYs[2],l++,g(N,l,b(N,l-13,13)),l+=4),R&&(g(N,l,8),l+=4,f(N,l,"acTL"),l+=4,g(N,l,m.frames.length),l+=4,g(N,l,p.loop!=null?p.loop:0),l+=4,g(N,l,b(N,l-12,12)),l+=4),m.ctype==3){for(g(N,l,3*(z=m.plte.length)),l+=4,f(N,l,"PLTE"),l+=4,$=0;$<z;$++){const te=3*$,ie=m.plte[$],se=255&ie,le=ie>>>8&255,Te=ie>>>16&255;N[l+te+0]=se,N[l+te+1]=le,N[l+te+2]=Te}if(l+=3*z,g(N,l,b(N,l-3*z-4,3*z+4)),l+=4,B){for(g(N,l,z),l+=4,f(N,l,"tRNS"),l+=4,$=0;$<z;$++)N[l+$]=m.plte[$]>>>24&255;l+=z,g(N,l,b(N,l-z-4,z+4)),l+=4}}let ne=0;for(W=0;W<m.frames.length;W++){var re=m.frames[W];R&&(g(N,l,26),l+=4,f(N,l,"fcTL"),l+=4,g(N,l,ne++),l+=4,g(N,l,re.rect.width),l+=4,g(N,l,re.rect.height),l+=4,g(N,l,re.rect.x),l+=4,g(N,l,re.rect.y),l+=4,S(N,l,h[W]),l+=2,S(N,l,1e3),l+=2,N[l]=re.dispose,l++,N[l]=re.blend,l++,g(N,l,b(N,l-30,30)),l+=4);const te=re.cimg;g(N,l,(z=te.length)+(W==0?0:4)),l+=4;const ie=l;f(N,l,W==0?"IDAT":"fdAT"),l+=4,W!=0&&(g(N,l,ne++),l+=4),N.set(te,l),l+=z,g(N,l,b(N,ie,l-ie)),l+=4}return g(N,l,0),l+=4,f(N,l,"IEND"),l+=4,g(N,l,b(N,l-4,4)),l+=4,N.buffer}function D(m,y,c){for(let h=0;h<m.frames.length;h++){const p=m.frames[h];p.rect.width;const b=p.rect.height,g=new Uint8Array(b*p.bpl+b);p.cimg=v(p.img,b,p.bpp,p.bpl,g,y,c)}}function a(m,y,c,h,p){const b=p[0],g=p[1],S=p[2],f=p[3],l=p[4],R=p[5];let _=6,B=8,H=255;for(var z=0;z<m.length;z++){const U=new Uint8Array(m[z]);for(var $=U.length,W=0;W<$;W+=4)H&=U[W+3]}const N=H!=255,K=function(E,O,X,q,G,J){const ee=[];for(var Z=0;Z<E.length;Z++){const he=new Uint8Array(E[Z]),xe=new Uint32Array(he.buffer);var fe;let ve=0,Ie=0,Ce=O,Le=X,ht=q?1:0;if(Z!=0){const cr=J||q||Z==1||ee[Z-2].dispose!=0?1:2;let gt=0,Pt=1e9;for(let Ye=0;Ye<cr;Ye++){var Se=new Uint8Array(E[Z-1-Ye]);const dr=new Uint32Array(E[Z-1-Ye]);let Me=O,ke=X,ze=-1,Ke=-1;for(let je=0;je<X;je++)for(let Ne=0;Ne<O;Ne++)xe[ue=je*O+Ne]!=dr[ue]&&(Ne<Me&&(Me=Ne),Ne>ze&&(ze=Ne),je<ke&&(ke=je),je>Ke&&(Ke=je));ze==-1&&(Me=ke=ze=Ke=0),G&&((1&Me)==1&&Me--,(1&ke)==1&&ke--);const It=(ze-Me+1)*(Ke-ke+1);It<Pt&&(Pt=It,gt=Ye,ve=Me,Ie=ke,Ce=ze-Me+1,Le=Ke-ke+1)}Se=new Uint8Array(E[Z-1-gt]),gt==1&&(ee[Z-1].dispose=2),fe=new Uint8Array(Ce*Le*4),i(Se,O,X,fe,Ce,Le,-ve,-Ie,0),ht=i(he,O,X,fe,Ce,Le,-ve,-Ie,3)?1:0,ht==1?s(he,O,X,fe,{x:ve,y:Ie,width:Ce,height:Le}):i(he,O,X,fe,Ce,Le,-ve,-Ie,0)}else fe=he.slice(0);ee.push({rect:{x:ve,y:Ie,width:Ce,height:Le},img:fe,blend:ht,dispose:0})}if(q)for(Z=0;Z<ee.length;Z++){if((Pe=ee[Z]).blend==1)continue;const he=Pe.rect,xe=ee[Z-1].rect,ve=Math.min(he.x,xe.x),Ie=Math.min(he.y,xe.y),Ce={x:ve,y:Ie,width:Math.max(he.x+he.width,xe.x+xe.width)-ve,height:Math.max(he.y+he.height,xe.y+xe.height)-Ie};ee[Z-1].dispose=1,Z-1!=0&&o(E,O,X,ee,Z-1,Ce,G),o(E,O,X,ee,Z,Ce,G)}let Re=0;if(E.length!=1)for(var ue=0;ue<ee.length;ue++){var Pe;Re+=(Pe=ee[ue]).rect.width*Pe.rect.height}return ee}(m,y,c,b,g,S),ne={},re=[],te=[];if(h!=0){const U=[];for(W=0;W<K.length;W++)U.push(K[W].img.buffer);const E=function(G){let J=0;for(var ee=0;ee<G.length;ee++)J+=G[ee].byteLength;const Z=new Uint8Array(J);let fe=0;for(ee=0;ee<G.length;ee++){const Se=new Uint8Array(G[ee]),Re=Se.length;for(let ue=0;ue<Re;ue+=4){let Pe=Se[ue],he=Se[ue+1],xe=Se[ue+2];const ve=Se[ue+3];ve==0&&(Pe=he=xe=0),Z[fe+ue]=Pe,Z[fe+ue+1]=he,Z[fe+ue+2]=xe,Z[fe+ue+3]=ve}fe+=Re}return Z.buffer}(U),O=I(E,h);for(W=0;W<O.plte.length;W++)re.push(O.plte[W].est.rgba);let X=0;for(W=0;W<K.length;W++){const q=(se=K[W]).img.length;var ie=new Uint8Array(O.inds.buffer,X>>2,q>>2);te.push(ie);const G=new Uint8Array(O.abuf,X,q);R&&d(se.img,se.rect.width,se.rect.height,re,G,ie),se.img.set(G),X+=q}}else for(z=0;z<K.length;z++){var se=K[z];const U=new Uint32Array(se.img.buffer);var le=se.rect.width;for($=U.length,ie=new Uint8Array($),te.push(ie),W=0;W<$;W++){const E=U[W];if(W!=0&&E==U[W-1])ie[W]=ie[W-1];else if(W>le&&E==U[W-le])ie[W]=ie[W-le];else{let O=ne[E];if(O==null&&(ne[E]=O=re.length,re.push(E),re.length>=300))break;ie[W]=O}}}const Te=re.length;for(Te<=256&&l==0&&(B=Te<=2?1:Te<=4?2:Te<=16?4:8,B=Math.max(B,f)),z=0;z<K.length;z++){(se=K[z]).rect.x,se.rect.y,le=se.rect.width;const U=se.rect.height;let E=se.img;new Uint32Array(E.buffer);let O=4*le,X=4;if(Te<=256&&l==0){O=Math.ceil(B*le/8);var Ae=new Uint8Array(O*U);const q=te[z];for(let G=0;G<U;G++){W=G*O;const J=G*le;if(B==8)for(var oe=0;oe<le;oe++)Ae[W+oe]=q[J+oe];else if(B==4)for(oe=0;oe<le;oe++)Ae[W+(oe>>1)]|=q[J+oe]<<4-4*(1&oe);else if(B==2)for(oe=0;oe<le;oe++)Ae[W+(oe>>2)]|=q[J+oe]<<6-2*(3&oe);else if(B==1)for(oe=0;oe<le;oe++)Ae[W+(oe>>3)]|=q[J+oe]<<7-1*(7&oe)}E=Ae,_=3,X=1}else if(N==0&&K.length==1){Ae=new Uint8Array(le*U*3);const q=le*U;for(W=0;W<q;W++){const G=3*W,J=4*W;Ae[G]=E[J],Ae[G+1]=E[J+1],Ae[G+2]=E[J+2]}E=Ae,_=2,X=3,O=3*le}se.img=E,se.bpl=O,se.bpp=X}return{ctype:_,depth:B,plte:re,frames:K}}function o(m,y,c,h,p,b,g){const S=Uint8Array,f=Uint32Array,l=new S(m[p-1]),R=new f(m[p-1]),_=p+1<m.length?new S(m[p+1]):null,B=new S(m[p]),H=new f(B.buffer);let z=y,$=c,W=-1,N=-1;for(let ne=0;ne<b.height;ne++)for(let re=0;re<b.width;re++){const te=b.x+re,ie=b.y+ne,se=ie*y+te,le=H[se];le==0||h[p-1].dispose==0&&R[se]==le&&(_==null||_[4*se+3]!=0)||(te<z&&(z=te),te>W&&(W=te),ie<$&&($=ie),ie>N&&(N=ie))}W==-1&&(z=$=W=N=0),g&&((1&z)==1&&z--,(1&$)==1&&$--),b={x:z,y:$,width:W-z+1,height:N-$+1};const K=h[p];K.rect=b,K.blend=1,K.img=new Uint8Array(b.width*b.height*4),h[p-1].dispose==0?(i(l,y,c,K.img,b.width,b.height,-b.x,-b.y,0),s(B,y,c,K.img,b)):i(B,y,c,K.img,b.width,b.height,-b.x,-b.y,0)}function s(m,y,c,h,p){i(m,y,c,h,p.width,p.height,-p.x,-p.y,2)}function v(m,y,c,h,p,b,g){const S=[];let f,l=[0,1,2,3,4];b!=-1?l=[b]:(y*h>5e5||c==1)&&(l=[0]),g&&(f={level:0});const R=on;for(var _=0;_<l.length;_++){for(let z=0;z<y;z++)w(p,m,z,h,c,l[_]);S.push(R.deflate(p,f))}let B,H=1e9;for(_=0;_<S.length;_++)S[_].length<H&&(B=_,H=S[_].length);return S[B]}function w(m,y,c,h,p,b){const g=c*h;let S=g+c;if(m[S]=b,S++,b==0)if(h<500)for(var f=0;f<h;f++)m[S+f]=y[g+f];else m.set(new Uint8Array(y.buffer,g,h),S);else if(b==1){for(f=0;f<p;f++)m[S+f]=y[g+f];for(f=p;f<h;f++)m[S+f]=y[g+f]-y[g+f-p]+256&255}else if(c==0){for(f=0;f<p;f++)m[S+f]=y[g+f];if(b==2)for(f=p;f<h;f++)m[S+f]=y[g+f];if(b==3)for(f=p;f<h;f++)m[S+f]=y[g+f]-(y[g+f-p]>>1)+256&255;if(b==4)for(f=p;f<h;f++)m[S+f]=y[g+f]-A(y[g+f-p],0,0)+256&255}else{if(b==2)for(f=0;f<h;f++)m[S+f]=y[g+f]+256-y[g+f-h]&255;if(b==3){for(f=0;f<p;f++)m[S+f]=y[g+f]+256-(y[g+f-h]>>1)&255;for(f=p;f<h;f++)m[S+f]=y[g+f]+256-(y[g+f-h]+y[g+f-p]>>1)&255}if(b==4){for(f=0;f<p;f++)m[S+f]=y[g+f]+256-A(0,y[g+f-h],0)&255;for(f=p;f<h;f++)m[S+f]=y[g+f]+256-A(y[g+f-p],y[g+f-h],y[g+f-p-h])&255}}}function I(m,y){const c=new Uint8Array(m),h=c.slice(0),p=new Uint32Array(h.buffer),b=k(h,y),g=b[0],S=b[1],f=c.length,l=new Uint8Array(f>>2);let R;if(c.length<2e7)for(var _=0;_<f;_+=4)R=P(g,B=c[_]*(1/255),H=c[_+1]*(1/255),z=c[_+2]*(1/255),$=c[_+3]*(1/255)),l[_>>2]=R.ind,p[_>>2]=R.est.rgba;else for(_=0;_<f;_+=4){var B=c[_]*.00392156862745098,H=c[_+1]*(1/255),z=c[_+2]*(1/255),$=c[_+3]*(1/255);for(R=g;R.left;)R=M(R.est,B,H,z,$)<=0?R.left:R.right;l[_>>2]=R.ind,p[_>>2]=R.est.rgba}return{abuf:h.buffer,inds:l,plte:S}}function k(m,y,c){c==null&&(c=1e-4);const h=new Uint32Array(m.buffer),p={i0:0,i1:m.length,bst:null,est:null,tdst:0,left:null,right:null};p.bst=V(m,p.i0,p.i1),p.est=C(p.bst);const b=[p];for(;b.length<y;){let S=0,f=0;for(var g=0;g<b.length;g++)b[g].est.L>S&&(S=b[g].est.L,f=g);if(S<c)break;const l=b[f],R=j(m,h,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=R||l.i1<=R){l.est.L=0;continue}const _={i0:l.i0,i1:R,bst:null,est:null,tdst:0,left:null,right:null};_.bst=V(m,_.i0,_.i1),_.est=C(_.bst);const B={i0:R,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:l.bst.N-_.bst.N},g=0;g<16;g++)B.bst.R[g]=l.bst.R[g]-_.bst.R[g];for(g=0;g<4;g++)B.bst.m[g]=l.bst.m[g]-_.bst.m[g];B.est=C(B.bst),l.left=_,l.right=B,b[f]=_,b.push(B)}for(b.sort((S,f)=>f.bst.N-S.bst.N),g=0;g<b.length;g++)b[g].ind=g;return[p,b]}function P(m,y,c,h,p){if(m.left==null)return m.tdst=function(_,B,H,z,$){const W=B-_[0],N=H-_[1],K=z-_[2],ne=$-_[3];return W*W+N*N+K*K+ne*ne}(m.est.q,y,c,h,p),m;const b=M(m.est,y,c,h,p);let g=m.left,S=m.right;b>0&&(g=m.right,S=m.left);const f=P(g,y,c,h,p);if(f.tdst<=b*b)return f;const l=P(S,y,c,h,p);return l.tdst<f.tdst?l:f}function M(m,y,c,h,p){const{e:b}=m;return b[0]*y+b[1]*c+b[2]*h+b[3]*p-m.eMq}function j(m,y,c,h,p,b){for(h-=4;c<h;){for(;T(m,c,p)<=b;)c+=4;for(;T(m,h,p)>b;)h-=4;if(c>=h)break;const g=y[c>>2];y[c>>2]=y[h>>2],y[h>>2]=g,c+=4,h-=4}for(;T(m,c,p)>b;)c-=4;return c+4}function T(m,y,c){return m[y]*c[0]+m[y+1]*c[1]+m[y+2]*c[2]+m[y+3]*c[3]}function V(m,y,c){const h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=[0,0,0,0],b=c-y>>2;for(let g=y;g<c;g+=4){const S=m[g]*.00392156862745098,f=m[g+1]*(1/255),l=m[g+2]*(1/255),R=m[g+3]*(1/255);p[0]+=S,p[1]+=f,p[2]+=l,p[3]+=R,h[0]+=S*S,h[1]+=S*f,h[2]+=S*l,h[3]+=S*R,h[5]+=f*f,h[6]+=f*l,h[7]+=f*R,h[10]+=l*l,h[11]+=l*R,h[15]+=R*R}return h[4]=h[1],h[8]=h[2],h[9]=h[6],h[12]=h[3],h[13]=h[7],h[14]=h[11],{R:h,m:p,N:b}}function C(m){const{R:y}=m,{m:c}=m,{N:h}=m,p=c[0],b=c[1],g=c[2],S=c[3],f=h==0?0:1/h,l=[y[0]-p*p*f,y[1]-p*b*f,y[2]-p*g*f,y[3]-p*S*f,y[4]-b*p*f,y[5]-b*b*f,y[6]-b*g*f,y[7]-b*S*f,y[8]-g*p*f,y[9]-g*b*f,y[10]-g*g*f,y[11]-g*S*f,y[12]-S*p*f,y[13]-S*b*f,y[14]-S*g*f,y[15]-S*S*f],R=l,_=L;let B=[Math.random(),Math.random(),Math.random(),Math.random()],H=0,z=0;if(h!=0)for(let W=0;W<16&&(B=_.multVec(R,B),z=Math.sqrt(_.dot(B,B)),B=_.sml(1/z,B),!(W!=0&&Math.abs(z-H)<1e-9));W++)H=z;const $=[p*f,b*f,g*f,S*f];return{Cov:l,q:$,e:B,L:H,eMq255:_.dot(_.sml(255,$),B),eMq:_.dot(B,$),rgba:(Math.round(255*$[3])<<24|Math.round(255*$[2])<<16|Math.round(255*$[1])<<8|Math.round(255*$[0])<<0)>>>0}}var L={multVec:(m,y)=>[m[0]*y[0]+m[1]*y[1]+m[2]*y[2]+m[3]*y[3],m[4]*y[0]+m[5]*y[1]+m[6]*y[2]+m[7]*y[3],m[8]*y[0]+m[9]*y[1]+m[10]*y[2]+m[11]*y[3],m[12]*y[0]+m[13]*y[1]+m[14]*y[2]+m[15]*y[3]],dot:(m,y)=>m[0]*y[0]+m[1]*y[1]+m[2]*y[2]+m[3]*y[3],sml:(m,y)=>[m*y[0],m*y[1],m*y[2],m*y[3]]};we.encode=function(y,c,h,p,b,g,S){p==null&&(p=0),S==null&&(S=!1);const f=a(y,c,h,p,[!1,!1,!1,0,S,!1]);return D(f,-1),F(f,c,h,b,g)},we.encodeLL=function(y,c,h,p,b,g,S,f){const l={ctype:0+(p==1?0:2)+(b==0?0:4),depth:g,frames:[]},R=(p+b)*g,_=R*c;for(let B=0;B<y.length;B++)l.frames.push({rect:{x:0,y:0,width:c,height:h},img:new Uint8Array(y[B]),blend:0,dispose:1,bpp:Math.ceil(R/8),bpl:Math.ceil(_/8)});return D(l,0,!0),F(l,c,h,S,f)},we.encode.compress=a,we.encode.dither=d,we.quantize=I,we.quantize.getKDtree=k,we.quantize.getNearest=P})();const tr={toArrayBuffer(i,x){const A=i.width,r=i.height,e=A<<2,t=i.getContext("2d").getImageData(0,0,A,r),u=new Uint32Array(t.data.buffer),d=(32*A+31)/32<<2,F=d*r,D=122+F,a=new ArrayBuffer(D),o=new DataView(a),s=1<<20;let v,w,I,k,P=s,M=0,j=0,T=0;function V(m){o.setUint16(j,m,!0),j+=2}function C(m){o.setUint32(j,m,!0),j+=4}function L(m){j+=m}V(19778),C(D),L(4),C(122),C(108),C(A),C(-r>>>0),V(1),V(32),C(3),C(F),C(2835),C(2835),L(8),C(16711680),C(65280),C(255),C(4278190080),C(1466527264),function m(){for(;M<r&&P>0;){for(k=122+M*d,v=0;v<e;)P--,w=u[T++],I=w>>>24,o.setUint32(k+v,w<<8|I),v+=4;M++}T<u.length?(P=s,setTimeout(m,tr._dly)):x(a)}()},toBlob(i,x){this.toArrayBuffer(i,A=>{x(new Blob([A],{type:"image/bmp"}))})},_dly:9};var me={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ln={[me.CHROME]:16384,[me.FIREFOX]:11180,[me.DESKTOP_SAFARI]:16384,[me.IE]:8192,[me.IOS]:4096,[me.ETC]:8192};const Ut=typeof window<"u",rr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ft=Ut&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),fn=(Ut||rr)&&(ft&&ft.getOriginalSymbol(window,"File")||typeof File<"u"&&File),nr=(Ut||rr)&&(ft&&ft.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Dt(i,x,A=Date.now()){return new Promise(r=>{const e=i.split(","),t=e[0].match(/:(.*?);/)[1],u=globalThis.atob(e[1]);let d=u.length;const F=new Uint8Array(d);for(;d--;)F[d]=u.charCodeAt(d);const D=new Blob([F],{type:t});D.name=x,D.lastModified=A,r(D)})}function ir(i){return new Promise((x,A)=>{const r=new nr;r.onload=()=>x(r.result),r.onerror=e=>A(e),r.readAsDataURL(i)})}function sr(i){return new Promise((x,A)=>{const r=new Image;r.onload=()=>x(r),r.onerror=e=>A(e),r.src=i})}function He(){if(He.cachedResult!==void 0)return He.cachedResult;let i=me.ETC;const{userAgent:x}=navigator;return/Chrom(e|ium)/i.test(x)?i=me.CHROME:/iP(ad|od|hone)/i.test(x)&&/WebKit/i.test(x)?i=me.IOS:/Safari/i.test(x)?i=me.DESKTOP_SAFARI:/Firefox/i.test(x)?i=me.FIREFOX:(/MSIE/i.test(x)||document.documentMode)&&(i=me.IE),He.cachedResult=i,He.cachedResult}function ar(i,x){const A=He(),r=ln[A];let e=i,t=x,u=e*t;const d=e>t?t/e:e/t;for(;u>r*r;){const F=(r+e)/2,D=(r+t)/2;F<D?(t=D,e=D*d):(t=F*d,e=F),u=e*t}return{width:e,height:t}}function dt(i,x){let A,r;try{if(A=new OffscreenCanvas(i,x),r=A.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{A=document.createElement("canvas"),r=A.getContext("2d")}return A.width=i,A.height=x,[A,r]}function or(i,x){const{width:A,height:r}=ar(i.width,i.height),[e,t]=dt(A,r);return x&&/jpe?g/.test(x)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(i,0,0,e.width,e.height),e}function nt(){return nt.cachedResult!==void 0||(nt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),nt.cachedResult}function ut(i,x={}){return new Promise(function(A,r){let e,t;var u=function(){try{return t=or(e,x.fileType||i.type),A([e,t])}catch(F){return r(F)}},d=function(F){try{var D=function(a){try{throw a}catch(o){return r(o)}};try{let a;return ir(i).then(function(o){try{return a=o,sr(a).then(function(s){try{return e=s,function(){try{return u()}catch(v){return r(v)}}()}catch(v){return D(v)}},D)}catch(s){return D(s)}},D)}catch(a){D(a)}}catch(a){return r(a)}};try{if(nt()||[me.DESKTOP_SAFARI,me.MOBILE_SAFARI].includes(He()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(i).then(function(F){try{return e=F,u()}catch{return d()}},d)}catch{d()}})}function ct(i,x,A,r,e=1){return new Promise(function(t,u){let d;if(x==="image/png"){let D,a,o;return D=i.getContext("2d"),{data:a}=D.getImageData(0,0,i.width,i.height),o=we.encode([a.buffer],i.width,i.height,4096*e),d=new Blob([o],{type:x}),d.name=A,d.lastModified=r,F.call(this)}{let D=function(){return F.call(this)};if(x==="image/bmp")return new Promise(a=>tr.toBlob(i,a)).then(function(a){try{return d=a,d.name=A,d.lastModified=r,D.call(this)}catch(o){return u(o)}}.bind(this),u);{let a=function(){return D.call(this)};if(typeof OffscreenCanvas=="function"&&i instanceof OffscreenCanvas)return i.convertToBlob({type:x,quality:e}).then(function(o){try{return d=o,d.name=A,d.lastModified=r,a.call(this)}catch(s){return u(s)}}.bind(this),u);{let o;return o=i.toDataURL(x,e),Dt(o,A,r).then(function(s){try{return d=s,a.call(this)}catch(v){return u(v)}}.bind(this),u)}}}function F(){return t(d)}})}function Ue(i){i.width=0,i.height=0}function $e(){return new Promise(function(i,x){let A,r,e,t;return $e.cachedResult!==void 0?i($e.cachedResult):Dt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(u){try{return A=u,ut(A).then(function(d){try{return r=d[1],ct(r,A.type,A.name,A.lastModified).then(function(F){try{return e=F,Ue(r),ut(e).then(function(D){try{return t=D[0],$e.cachedResult=t.width===1&&t.height===2,i($e.cachedResult)}catch(a){return x(a)}},x)}catch(D){return x(D)}},x)}catch(F){return x(F)}},x)}catch(d){return x(d)}},x)})}function lr(i){return new Promise((x,A)=>{const r=new nr;r.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return x(-2);const u=t.byteLength;let d=2;for(;d<u;){if(t.getUint16(d+2,!1)<=8)return x(-1);const F=t.getUint16(d,!1);if(d+=2,F==65505){if(t.getUint32(d+=2,!1)!=1165519206)return x(-1);const D=t.getUint16(d+=6,!1)==18761;d+=t.getUint32(d+4,D);const a=t.getUint16(d,D);d+=2;for(let o=0;o<a;o++)if(t.getUint16(d+12*o,D)==274)return x(t.getUint16(d+12*o+8,D))}else{if((65280&F)!=65280)break;d+=t.getUint16(d,!1)}}return x(-1)},r.onerror=e=>A(e),r.readAsArrayBuffer(i)})}function fr(i,x){const{width:A}=i,{height:r}=i,{maxWidthOrHeight:e}=x;let t,u=i;return isFinite(e)&&(A>e||r>e)&&([u,t]=dt(A,r),A>r?(u.width=e,u.height=r/A*e):(u.width=A/r*e,u.height=e),t.drawImage(i,0,0,u.width,u.height),Ue(i)),u}function ur(i,x){const{width:A}=i,{height:r}=i,[e,t]=dt(A,r);switch(x>4&&x<9?(e.width=r,e.height=A):(e.width=A,e.height=r),x){case 2:t.transform(-1,0,0,1,A,0);break;case 3:t.transform(-1,0,0,-1,A,r);break;case 4:t.transform(1,0,0,-1,0,r);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,r,0);break;case 7:t.transform(0,-1,-1,0,r,A);break;case 8:t.transform(0,-1,1,0,0,A)}return t.drawImage(i,0,0,A,r),Ue(i),e}function Wt(i,x,A=0){return new Promise(function(r,e){let t,u,d,F,D,a,o,s,v,w,I,k,P,M,j,T,V,C,L,m;function y(h=5){if(x.signal&&x.signal.aborted)throw x.signal.reason;t+=h,x.onProgress(Math.min(t,100))}function c(h){if(x.signal&&x.signal.aborted)throw x.signal.reason;t=Math.min(Math.max(h,t),100),x.onProgress(t)}return t=A,u=x.maxIteration||10,d=1024*x.maxSizeMB*1024,y(),ut(i,x).then(function(h){try{return[,F]=h,y(),D=fr(F,x),y(),new Promise(function(p,b){var g;if(!(g=x.exifOrientation))return lr(i).then(function(f){try{return g=f,S.call(this)}catch(l){return b(l)}}.bind(this),b);function S(){return p(g)}return S.call(this)}).then(function(p){try{return a=p,y(),$e().then(function(b){try{return o=b?D:ur(D,a),y(),s=x.initialQuality||1,v=x.fileType||i.type,ct(o,v,i.name,i.lastModified,s).then(function(g){try{{let f=function(){if(u--&&(j>d||j>P)){let R,_;return R=m?.95*L.width:L.width,_=m?.95*L.height:L.height,[V,C]=dt(R,_),C.drawImage(L,0,0,R,_),s*=v==="image/png"?.85:.95,ct(V,v,i.name,i.lastModified,s).then(function(B){try{return T=B,Ue(L),L=V,j=T.size,c(Math.min(99,Math.floor((M-j)/(M-d)*100))),f}catch(H){return e(H)}},e)}return[1]},l=function(){return Ue(L),Ue(V),Ue(D),Ue(o),Ue(F),c(100),r(T)};if(w=g,y(),I=w.size>d,k=w.size>i.size,!I&&!k)return c(100),r(w);var S;return P=i.size,M=w.size,j=M,L=o,m=!x.alwaysKeepResolution&&I,(S=function(R){for(;R;){if(R.then)return void R.then(S,e);try{if(R.pop){if(R.length)return R.pop()?l.call(this):R;R=f}else R=R.call(this)}catch(_){return e(_)}}}.bind(this))(f)}}catch(f){return e(f)}}.bind(this),e)}catch(g){return e(g)}}.bind(this),e)}catch(b){return e(b)}}.bind(this),e)}catch(p){return e(p)}}.bind(this),e)})}const un=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let bt;function cn(i,x){return new Promise((A,r)=>{bt||(bt=function(u){const d=[];return typeof u=="function"?d.push(`(${u})()`):d.push(u),URL.createObjectURL(new Blob(d))}(un));const e=new Worker(bt);e.addEventListener("message",function(u){if(x.signal&&x.signal.aborted)e.terminate();else if(u.data.progress===void 0){if(u.data.error)return r(new Error(u.data.error)),void e.terminate();A(u.data.file),e.terminate()}else x.onProgress(u.data.progress)}),e.addEventListener("error",r),x.signal&&x.signal.addEventListener("abort",()=>{r(x.signal.reason),e.terminate()}),e.postMessage({file:i,imageCompressionLibUrl:x.libURL,options:{...x,onProgress:void 0,signal:void 0}})})}function pe(i,x){return new Promise(function(A,r){let e,t,u,d,F,D;if(e={...x},u=0,{onProgress:d}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,F=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=v=>{u=v,typeof d=="function"&&d(u)},!(i instanceof Blob||i instanceof fn))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(i.type))return r(new Error("The file given is not an image"));if(D=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!F||typeof Worker!="function"||D)return Wt(i,e).then(function(v){try{return t=v,s.call(this)}catch(w){return r(w)}}.bind(this),r);var a=function(){try{return s.call(this)}catch(v){return r(v)}}.bind(this),o=function(v){try{return Wt(i,e).then(function(w){try{return t=w,a()}catch(I){return r(I)}},r)}catch(w){return r(w)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",cn(i,e).then(function(v){try{return t=v,a()}catch{return o()}},o)}catch{o()}function s(){try{t.name=i.name,t.lastModified=i.lastModified}catch{}try{e.preserveExif&&i.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===i.type)&&(t=er(i,t))}catch{}return A(t)}})}pe.getDataUrlFromFile=ir,pe.getFilefromDataUrl=Dt,pe.loadImage=sr,pe.drawImageInCanvas=or,pe.drawFileInCanvas=ut,pe.canvasToFile=ct,pe.getExifOrientation=lr,pe.handleMaxWidthOrHeight=fr,pe.followExifOrientation=ur,pe.cleanupCanvasMemory=Ue,pe.isAutoOrientationInBrowser=$e,pe.approximateBelowMaximumCanvasSizeOfBrowser=ar,pe.copyExifWithoutOrientation=er,pe.getBrowserName=He,pe.version="2.0.2";const dn=i=>pe(i,{maxWidthOrHeight:1400,maxSizeMB:.1,initialQuality:.7}),hn="_popup_1p1u0_1",gn="_overlay_1p1u0_13",pn="_buttons_1p1u0_22",Qe={popup:hn,overlay:gn,buttons:pn},vn=({okText:i="OK"})=>{const[x,A]=We.useState(!1),r=We.useRef(null),e=t=>{x&&(A(!1),r.current&&r.current(t))};return{renderPopup:({content:t})=>x?Q.jsxs(vr,{className:Qe.popup,overlayClassName:Qe.overlay,onRequestClose:()=>e(!1),isOpen:x,children:[Q.jsx("div",{className:Qe.content,children:t}),Q.jsxs("div",{className:Qe.buttons,children:[Q.jsx("button",{className:Et("btn btn-danger",Qe.cancel),onClick:()=>e(!1),children:"Cancel"}),Q.jsx("button",{className:Et("btn btn-success",Qe.ok),onClick:()=>e(!0),children:i})]})]}):null,confirm:()=>(A(!0),new Promise((t,u)=>{r.current=d=>{d?t():u()}}))}},mn=()=>{var T;const i=yr(),x=mr(),A=xr(),[r,e]=We.useState(!1),t=Tt(V=>{var C,L;return(L=(C=V.user.data)==null?void 0:C.player)==null?void 0:L.id}),[u,d]=We.useState(null),{renderPopup:F,confirm:D}=vn({okText:"Submit"}),a=Tt(V=>{var C,L;return(L=(C=V.charts.data)==null?void 0:C[x.sharedChartId])==null?void 0:L.chart}),o=a&&`${a.track_name} ${a.chart_label}`,{register:s,handleSubmit:v,reset:w,watch:I,formState:k}=Wr({defaultValues:{grade:"",mix:"XX",mod:""}}),P=I("screenshot"),M=I(),j=async V=>{try{await D()}catch{return}e(!0),d(null);try{const C=await dn(V.screenshot[0]),L=await Zt(V.screenshot[0]),m={...V,screenshot:C,date:(L||new Date).toISOString(),isExactDate:!!L,sharedChartId:Number(x.sharedChartId),playerId:t};console.log(m);const y=new FormData;for(const c in m)y.append(c,m[c]);await A(br({body:y,url:`${Ar}/results/add-result`})),w(),i(wr.leaderboard.sharedChart.getPath(x)),await A(Fr()),A(Sr())}catch(C){console.error(C),d(C)}e(!1)};return Q.jsxs("div",{className:_e.addResultPage,children:[F({content:Q.jsxs("div",{className:_e.confirmation,children:[Q.jsxs("div",{className:_e.splitPanels,children:[Q.jsx("div",{className:_e.screenshotPanel,children:P&&Q.jsx(Ht,{file:P[0]})}),Q.jsxs("div",{className:_e.formPanel,children:[Q.jsx("div",{className:_e.chartName,children:o}),Q.jsxs("div",{className:_e.grid,children:[Q.jsx("div",{children:"Grade"}),Q.jsx("div",{children:M.grade}),Q.jsx("div",{style:{color:"#29D7FF"},children:"Perfect"}),Q.jsx("div",{style:{color:"#29D7FF"},children:M.perfect}),Q.jsx("div",{style:{color:"#21d021"},children:"Great"}),Q.jsx("div",{style:{color:"#21d021"},children:M.great}),Q.jsx("div",{style:{color:"#dede3a"},children:"Good"}),Q.jsx("div",{style:{color:"#dede3a"},children:M.good}),Q.jsx("div",{style:{color:"#f278fc"},children:"Bad"}),Q.jsx("div",{style:{color:"#f278fc"},children:M.bad}),Q.jsx("div",{style:{color:"#f48181"},children:"Miss"}),Q.jsx("div",{style:{color:"#f48181"},children:M.miss}),Q.jsx("div",{children:"Combo"}),Q.jsx("div",{children:M.combo}),Q.jsx("div",{style:{fontWeight:"bold",fontSize:"110%"},children:"Score"}),Q.jsx("div",{style:{fontWeight:"bold",fontSize:"110%"},children:M.score}),Q.jsx("div",{children:"Mods"}),Q.jsx("div",{children:M.mod||"None (normal mode)"})]})]})]}),Q.jsxs("div",{className:_e.warning,children:[Q.jsx(zr,{}),Q.jsx("span",{children:"Submitting false results may result in a BAN. Make sure your screenshot is readable and the numbers you selected are correct."})]})]})}),Q.jsx("h2",{children:"Submit a result"}),Q.jsxs("p",{children:["Chart: ",o]}),Q.jsxs("form",{onSubmit:v(j),className:_e.addResultForm,children:[Q.jsxs("label",{children:[Q.jsx("span",{children:"Screenshot *"}),Q.jsx("input",{className:`${_e.fileInput} form-control`,type:"file",...s("screenshot",{required:!0})})]}),P&&((T=P[0])==null?void 0:T.name.toLowerCase().endsWith(".heic"))&&Q.jsx("p",{children:"HEIC files are not supported. Please convert your screenshot to JPG or PNG."}),P&&Q.jsx(Ht,{showDate:!0,file:P[0]}),Q.jsxs("label",{children:[Q.jsx("span",{children:"Grade *"}),Q.jsxs("select",{className:"form-control",...s("grade",{required:!0,minLength:1}),children:[Q.jsx("option",{value:"",disabled:!0,hidden:!0,children:"(select a grade)"}),Q.jsx("option",{value:"SSS",children:"SSS"}),Q.jsx("option",{value:"SS",children:"SS"}),Q.jsx("option",{value:"S",children:"S"}),Q.jsx("option",{value:"A+",children:"A+"}),Q.jsx("option",{value:"A",children:"A"}),Q.jsx("option",{value:"B",children:"B"}),Q.jsx("option",{value:"C",children:"C"}),Q.jsx("option",{value:"D",children:"D"}),Q.jsx("option",{value:"F",children:"F"}),Q.jsx("option",{value:"B+",children:"B+"}),Q.jsx("option",{value:"C+",children:"C+"}),Q.jsx("option",{value:"D+",children:"D+"}),Q.jsx("option",{value:"F+",children:"F+"})]})]}),["perfect","great","good","bad","miss","combo"].map(V=>Q.jsxs("label",{children:[Q.jsxs("span",{children:[V[0].toUpperCase()+V.slice(1)," *"]}),Q.jsx("input",{className:"form-control",inputMode:"numeric",placeholder:"000",...s(V,{required:!0,pattern:/^[0-9]+$/})})]})),Q.jsxs("label",{children:[Q.jsx("span",{children:"Score *"}),Q.jsx("input",{className:"form-control",inputMode:"numeric",placeholder:"000000",...s("score",{required:!0,minLength:4,pattern:/^[0-9]+$/})})]}),Q.jsxs("label",{children:[Q.jsx("span",{children:"Mix *"}),Q.jsxs("select",{className:"form-control",...s("mix",{required:!0}),children:[Q.jsx("option",{value:"XX",children:"XX"}),Q.jsx("option",{value:"Prime2",children:"Prime 2"}),Q.jsx("option",{value:"Prime",children:"Prime"})]})]}),Q.jsxs("label",{children:[Q.jsx("span",{children:"Judge/rank *"}),Q.jsxs("select",{className:"form-control",...s("mod"),children:[Q.jsx("option",{value:"",children:"No mods"}),Q.jsx("option",{value:"VJ",children:"Rank (VJ)"}),Q.jsx("option",{value:"HJ",children:"HJ"})]})]}),Q.jsx("button",{disabled:r||!k.isValid,className:"btn btn-dark",type:"submit",children:r?"Loading...":"Submit"}),u&&Q.jsx("div",{className:"alert alert-danger",children:u.message})]})]})};export{mn as default};
//# sourceMappingURL=AddResult-48272268.js.map
