import{a9 as j,$,aB as Y,r as B,n as z,aC as U,aD as X}from"./index-b065257e.js";var C={},O={exports:{}},g={exports:{}};(function(){var t,o,r,n,e,a;typeof performance<"u"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(g.exports=function(){return(t()-e)/1e6},o=process.hrtime,t=function(){var c;return c=o(),c[0]*1e9+c[1]},n=t(),a=process.uptime()*1e9,e=n-a):Date.now?(g.exports=function(){return Date.now()-r},r=Date.now()):(g.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(j);var G=g.exports,J=G,p=typeof window>"u"?j:window,M=["moz","webkit"],_="AnimationFrame",y=p["request"+_],b=p["cancel"+_]||p["cancelRequest"+_];for(var T=0;!y&&T<M.length;T++)y=p[M[T]+"Request"+_],b=p[M[T]+"Cancel"+_]||p[M[T]+"CancelRequest"+_];if(!y||!b){var x=0,F=0,m=[],Q=1e3/60;y=function(t){if(m.length===0){var o=J(),r=Math.max(0,Q-(o-x));x=r+o,setTimeout(function(){var n=m.slice(0);m.length=0;for(var e=0;e<n.length;e++)if(!n[e].cancelled)try{n[e].callback(x)}catch(a){setTimeout(function(){throw a},0)}},Math.round(r))}return m.push({handle:++F,callback:t,cancelled:!1}),F},b=function(t){for(var o=0;o<m.length;o++)m[o].handle===t&&(m[o].cancelled=!0)}}O.exports=function(t){return y.call(p,t)};O.exports.cancel=function(){b.apply(p,arguments)};O.exports.polyfill=function(t){t||(t=p),t.requestAnimationFrame=y,t.cancelAnimationFrame=b};var V=O.exports;const P=$(V);var Z=P.cancel;function ee(t,o){var r=Date.now(),n=P(e);function e(){Date.now()-r>=o?t():n=P(e)}return{clear:function(){return Z(n)}}}function te(t){t&&t.clear()}const oe=Object.freeze(Object.defineProperty({__proto__:null,clearTimeout:te,setTimeout:ee},Symbol.toStringTag,{value:"Module"})),ne=Y(oe);var w={};Object.defineProperty(w,"__esModule",{value:!0});w.submitFormOnCtrlEnter=ie;w.submitContainingForm=K;w.isInternetExplorer=re;w.isElement=ae;w.getOffset=se;function ie(t,o){if((t.ctrlKey||t.metaKey)&&t.keyCode===13&&K(o))return t.preventDefault(),!0}function K(t){for(;t.parentElement;)if(t=t.parentElement,t instanceof HTMLFormElement){var o=t.querySelector("button[type=submit]");if(o)return o.click(),!0}}function re(){return window.navigator.userAgent.indexOf("MSIE ")>0||window.navigator.userAgent.indexOf("Trident/")>0}function ae(t){return t instanceof Element||t instanceof HTMLDocument}function se(t){var o=t.getBoundingClientRect(),r=document.clientLeft||document.body.clientLeft||0,n=document.clientTop||document.body.clientTop||0,e=window.pageYOffset,a=window.pageXOffset,c=o.top+e-n,f=o.left+a-r;return{top:c,left:f,width:o.width,height:o.height}}Object.defineProperty(C,"__esModule",{value:!0});var ue=C.default=void 0,N=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ce=function(){function t(o,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(o,r,n){return r&&t(o.prototype,r),n&&t(o,n),o}}(),S,R,le=B,v=D(le),fe=z,E=D(fe),de=U,l=D(de),he=X,pe=D(he),h=ne,H=w;function D(t){return t&&t.__esModule?t:{default:t}}function me(t,o){var r={};for(var n in t)o.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function ve(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function I(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:t}function we(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}var _e=v.default.PureComponent||v.default.Component,ye=(R=S=function(t){we(o,t);function o(){var r,n,e,a;ve(this,o);for(var c=arguments.length,f=Array(c),u=0;u<c;u++)f[u]=arguments[u];return a=(n=(e=I(this,(r=o.__proto__||Object.getPrototypeOf(o)).call.apply(r,[this].concat(f))),e),e.state={},e.show=function(){e.isShown=!0;var i=!1;return e.hide_timeout?((0,h.clearTimeout)(e.hide_timeout),e.hide_timeout=void 0,e.tooltip.classList.remove("rrui__tooltip--before-hide")):(e.tooltip||e.createTooltip(),i=!0),new Promise(function(s){e.setState({isShown:!0},function(){e.props.accessible;var d=e.calculate_coordinates(),k=d.x,W=d.y;e.tooltip.style.left=k+"px",e.tooltip.style.top=W+"px",i&&e.tooltip.classList.add("rrui__tooltip--after-show"),e.isTouchDevice&&document.addEventListener("touchstart",e.hideOnTouchOutside),s()})})},e.hide=function(){e.isShown=!1;var i=e.props.hidingAnimationDuration;if(!(e.hide_timeout||!e.tooltip))return e.isTouchDevice&&document.removeEventListener("touchstart",e.hideOnTouchOutside),e.tooltip.classList.add("rrui__tooltip--before-hide"),new Promise(function(s){e.hide_timeout=(0,h.setTimeout)(function(){e.hide_timeout=void 0,e.destroy_tooltip(),e._isMounted&&e.setState({isShown:!1},s)},i)})},e.hideOnTouchOutside=function(i){e.isShown&&e.tooltip&&!e.tooltip.contains(i.target)&&!e.origin.contains(i.target)&&e.hide()},e.onClick=function(){e.isShown?e.hide():e.show().then(function(){e.tooltip.focus()})},e.onMouseMove=function(){document.removeEventListener("mousemove",e.onMouseMove),e.onMouseEnter()},e.onMouseEnterTooltip=function(){e.isTouchDevice||(e.isPointerInsideTooltip=!0,e.isShown&&e.cancelHide())},e.onMouseLeaveTooltip=function(){e.isTouchDevice||(e.isPointerInsideTooltip=!1,!e.isPointerInsideElement&&e.isShown&&e.scheduleHide())},e.onMouseEnter=function(){e.isTouchDevice||(A.wasMouseMoved?e._onMouseEnter():document.addEventListener("mousemove",e.onMouseMove))},e.onMouseLeave=function(){if(!e.isTouchDevice&&(document.removeEventListener("mousemove",e.onMouseMove),e.isPointerInsideElement=!1,!e.isPointerInsideTooltip)){if(e.show_timeout){(0,h.clearTimeout)(e.show_timeout),e.show_timeout=void 0;return}e.isShown&&e.scheduleHide()}},e.onTouchStartSetTouchDevice=function(){return e.isTouchDevice=!0},e.onTouchStart=function(){var i=e.renderContent();e.isTouchDevice=!0,!(!i||!E.default.createPortal)&&(e.isShown?e.hide():e.show())},e.onTouchEnd=function(){},e.onFocusOut=function(i){!e.tooltip.contains(i.relatedTarget)&&!e.origin.contains(i.relatedTarget)&&e.hide()},e.onKeyDown=function(i){if(!i.defaultPrevented&&!(i.ctrlKey||i.altKey||i.shiftKey||i.metaKey))switch(i.keyCode){case 27:i.preventDefault(),e.hide();var s=e.props.accessible;s&&e.origin.focus();return}},e.storeOriginNode=function(i){return e.origin=i},n),I(e,a)}return ce(o,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.destroy_tooltip(),(0,h.clearTimeout)(this.show_timeout),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"createTooltip",value:function(){var n=this.props,e=n.tooltipClassName,a=n.placement,c=n.accessible;if(this.tooltip=document.createElement("div"),this.tooltip.style.position="absolute",this.tooltip.style.left=0,this.tooltip.style.top=0,c&&(this.tooltip.setAttribute("tabIndex",-1),this.tooltip.classList.add("rrui__outline"),this.tooltip.addEventListener("focusout",this.onFocusOut)),this.tooltip.classList.add("rrui__tooltip"),this.tooltip.classList.add("rrui__tooltip--"+L(a)),e)for(var i=e.split(/\s+/),f=Array.isArray(i),u=0,i=f?i:i[Symbol.iterator]();;){var s;if(f){if(u>=i.length)break;s=i[u++]}else{if(u=i.next(),u.done)break;s=u.value}var d=s;this.tooltip.classList.add(d)}this.tooltip.addEventListener("mouseenter",this.onMouseEnterTooltip),this.tooltip.addEventListener("mouseleave",this.onMouseLeaveTooltip),this.tooltip.addEventListener("keydown",this.onKeyDown),this.container().appendChild(this.tooltip)}},{key:"destroy_tooltip",value:function(){(0,h.clearTimeout)(this.hide_timeout),(0,h.clearTimeout)(this.hide_on_mouse_leave_timeout),this.tooltip&&(this.tooltip.parentNode.removeChild(this.tooltip),this.tooltip=void 0)}},{key:"container",value:function(){var n=this.props.container;return n()}},{key:"calculate_coordinates",value:function(){var n=this.props,e=n.placement,a=n.screenMargin,c=n.offsetTop,f=this.tooltip.offsetWidth,u=this.tooltip.offsetHeight,i=(0,H.getOffset)(this.origin),s=void 0,d=void 0;switch(L(e)){case"top":s=i.top-u;break;case"bottom":s=i.top+i.height;break;case"left":d=i.left-f;break;case"right":d=i.left+i.width;break}switch(L(e)){case"top":case"bottom":switch(q(e)){case"start":d=i.left;break;case"end":d=i.left+i.width-f;break;default:d=i.left+(i.width-f)/2;break}break;case"left":case"right":switch(q(e)){case"start":s=i.top;break;case"end":s=i.top+i.height-u;break;default:s=i.top+(i.height-u)/2;break}break}return Te(d,s+c-(0,H.getOffset)(this.container()).top,f,u,a)}},{key:"scheduleHide",value:function(){var n=this.props,e=n.hideTimeout,a=n.hideDelay;window.rruiCollapseOnFocusOut!==!1&&(this.hide_on_mouse_leave_timeout=(0,h.setTimeout)(this.hide,e||a))}},{key:"cancelHide",value:function(){(0,h.clearTimeout)(this.hide_on_mouse_leave_timeout),this.hide_on_mouse_leave_timeout=void 0}},{key:"_onMouseEnter",value:function(){var n=this;if(!this.isTouchDevice){if(this.isPointerInsideElement=!0,this.isShown)return this.cancelHide();var e=this.renderContent();if(!(!e||!E.default.createPortal)&&!this.show_timeout){if(this.hide_timeout)return this.show();var a=this.props.delay;this.show_timeout=(0,h.setTimeout)(function(){n.show_timeout=void 0,n.show()},a)}}}},{key:"renderContent",value:function(){var n=this.props,e=n.content,a=n.component,c=n.componentProps;return e||(a?v.default.createElement(a,N({},c,{hide:this.hide})):null)}},{key:"render",value:function(){var n=this.renderContent(),e=this.tooltip&&n&&E.default.createPortal&&E.default.createPortal(n,this.tooltip);return v.default.Fragment?v.default.createElement(v.default.Fragment,null,this._render(),e):this._render(e)}},{key:"_render",value:function(n){var e=this.props,a=e.accessible,c=e.inline,f=e.style,u=e.className,i=e.children;e.placement,e.content,e.container,e.component,e.componentProps,e.delay,e.hideDelay,e.hideTimeout,e.hidingAnimationDuration,e.screenMargin,e.offsetTop,e.tooltipClassName;var s=me(e,["accessible","inline","style","className","children","placement","content","container","component","componentProps","delay","hideDelay","hideTimeout","hidingAnimationDuration","screenMargin","offsetTop","tooltipClassName"]),d=this.state.isShown,k=a?"button":"div";return v.default.createElement(k,N({},s,{ref:this.storeOriginNode,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:a?this.onClick:void 0,onTouchStart:a?this.onTouchStartSetTouchDevice:this.onTouchStart,onTouchEnd:a?void 0:this.onTouchEnd,onTouchMove:a?void 0:this.hide,onTouchCancel:a?void 0:this.hide,"aria-expanded":a?d:void 0,type:a?"button":void 0,style:f,className:(0,pe.default)(u,"rrui__tooltip__target",{"rrui__button-reset":a,"rrui__tooltip__target--inline":c})}),i,n)}}]),o}(_e),S.propTypes={placement:l.default.oneOf(["top","top-start","top-end","left","left-start","left-end","bottom","bottom-start","bottom-end","right","right-start","right-end"]).isRequired,content:l.default.node,component:l.default.func,componentProps:l.default.object,inline:l.default.bool.isRequired,accessible:l.default.bool,delay:l.default.number.isRequired,hidingAnimationDuration:l.default.number.isRequired,hideTimeout:l.default.number,hideDelay:l.default.number.isRequired,screenMargin:l.default.number.isRequired,offsetTop:l.default.number.isRequired,container:l.default.func,style:l.default.object,className:l.default.string,tooltipClassName:l.default.string},S.defaultProps={placement:"top",inline:!0,delay:350,hidingAnimationDuration:200,hideDelay:50,screenMargin:4,offsetTop:0,container:function(){return document.body}},R);ue=C.default=ye;function Te(t,o,r,n,e){return t<e?t=e:t+r+e>window.innerWidth&&(t-=t+r+e-window.innerWidth),o<window.pageYOffset+e?o=window.pageYOffset+e:o+n+e>window.pageYOffset+window.innerHeight&&(o-=o+n+e-(window.pageYOffset+window.innerHeight)),{x:t,y:o}}function L(t){var o=t.indexOf("-");return o>=0?t.slice(0,o):t}function q(t){var o=t.indexOf("-");return o>=0?t.slice(o+1):"center"}var A={wasMouseMoved:!1};function ge(){A.wasMouseMoved=!0}function be(){A.wasMouseMoved=!1}typeof document<"u"&&(document.addEventListener("mousemove",ge),document.addEventListener("scroll",be));export{ue as _};
//# sourceMappingURL=Tooltip-85ddab9f.js.map
