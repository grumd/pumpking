import{r as te,k as Pr,m as Or,R as y,l as _r,n as pt,o as mt,p as Lr,q as Mr,j as v,s as Ne,t as Oo,v as Bt,w as Mn,x as _t,C as _o,y as Lo,z as kr,D as bn,I as Mo,E as Hr,F as Fr,H as Nr,J as Br,K as Dr,M as jr,O as wn,P as Ar,Q as ut,S as zr,T as Vr,U as Gr,V as $r,W as Wr,X as Ur,Y as Yr,f as ko,u as kn,A as to,L as Rt,Z as Hn,B as Xe,_ as Kr,i as qr,$ as Xr,a0 as gn,G as Ct,g as Zr,a1 as no,a2 as Qr,c as Jr}from"./index-B6NMOy3i.js";import{F as es,b as ts,c as ns,d as os,e as rs}from"./index.esm-B-2bGnWi.js";import{C as ss}from"./Chart-Cm9KmjB1.js";import{u as ls,a as is}from"./useInfiniteQuery-D5ReT7-y.js";import{u as cs,a as as,f as us,i as ds}from"./useFilter-BpW6s_pc.js";import{g as fs}from"./Grade-asTTVZl4.js";import"./fp-spnMem_c.js";import{F as oo}from"./Flex-D4AyTukK.js";import"./timeAgo-B23DxlQU.js";function yn(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function ps(e,t,n="ltr"){const o=te.useRef(!1),r=te.useRef(!1),s=te.useRef(0),[l,i]=te.useState(!1),c=te.useRef(null);return te.useEffect(()=>{o.current=!0},[]),{ref:te.useCallback(a=>{if(c.current&&(c.current(),c.current=null),!a)return;const h=({x:T,y:S})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(o.current&&a){a.style.userSelect="none";const p=a.getBoundingClientRect();if(p.width&&p.height){const P=yn((T-p.left)/p.width,0,1);e({x:n==="ltr"?P:1-P,y:yn((S-p.top)/p.height,0,1)})}}})},g=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",f),document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",f)},I=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",f),document.removeEventListener("touchmove",C),document.removeEventListener("touchend",f)},x=()=>{!r.current&&o.current&&(r.current=!0,typeof t?.onScrubStart=="function"&&t.onScrubStart(),i(!0),g())},f=()=>{r.current&&o.current&&(r.current=!1,i(!1),I(),setTimeout(()=>{typeof t?.onScrubEnd=="function"&&t.onScrubEnd()},0))},b=T=>{x(),T.preventDefault(),m(T)},m=T=>h({x:T.clientX,y:T.clientY}),d=T=>{T.cancelable&&T.preventDefault(),x(),C(T)},C=T=>{T.cancelable&&T.preventDefault(),h({x:T.changedTouches[0].clientX,y:T.changedTouches[0].clientY})};a.addEventListener("mousedown",b),a.addEventListener("touchstart",d,{passive:!1}),c.current=()=>{a.removeEventListener("mousedown",b),a.removeEventListener("touchstart",d)}},[n,e]),active:l}}function ms(e,t){return t.length===0?e:t.reduce((n,o)=>Math.abs(o-e)<Math.abs(n-e)?o:n)}function hs(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function xn(e){return e?.current?e.current.scrollHeight:"auto"}const Et=typeof window<"u"&&window.requestAnimationFrame,ro=0,gs=e=>({height:0,overflow:"hidden",...e?{}:{display:"none"}});function xs({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:o,keepMounted:r=!1}){const s=te.useRef(null),l=gs(r),[i,c]=te.useState(o?{}:l),u=x=>{_r.flushSync(()=>c(x))},a=x=>{u(f=>({...f,...x}))};function h(x){const f=e||hs(x);return{transition:`height ${f}ms ${t}, opacity ${f}ms ${t}`}}Pr(()=>{typeof Et=="function"&&Et(o?()=>{a({willChange:"height",display:"block",overflow:"hidden"}),Et(()=>{const x=xn(s);a({...h(x),height:x})})}:()=>{const x=xn(s);a({...h(x),willChange:"height",height:x}),Et(()=>a({height:ro,overflow:"hidden"}))})},[o]);const g=x=>{if(!(x.target!==s.current||x.propertyName!=="height"))if(o){const f=xn(s);f===i.height?u({}):a({height:f}),n()}else i.height===ro&&(u(l),n())};function I({style:x={},refKey:f="ref",...b}={}){const m=b[f],d={"aria-hidden":!o,...b,[f]:Or(s,m),onTransitionEnd:g,style:{boxSizing:"border-box",...x,...i}};return y.version.startsWith("18")?o||(d.inert=""):d.inert=!o,d}return I}const Ss={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Ho=pt((e,t)=>{const{children:n,in:o,transitionDuration:r,transitionTimingFunction:s,style:l,onTransitionEnd:i,animateOpacity:c,keepMounted:u,...a}=mt("Collapse",Ss,e),h=Lr(),g=Mr(),x=(h.respectReducedMotion?g:!1)?0:r,f=xs({opened:o,transitionDuration:x,transitionTimingFunction:s,onTransitionEnd:i,keepMounted:u});return x===0?o?v.jsx(Ne,{...a,children:n}):null:v.jsx(Ne,{...f({style:{opacity:o||!c?1:0,transition:c?`opacity ${x}ms ${s}`:"none",...fs(l,h)},ref:t,...a}),children:n})});Ho.displayName="@mantine/core/Collapse";const[vs,Fn]=Oo(),[Is,Cs]=Oo();var rn={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const bs=Mn((e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?_t(t):_t(n,"pg-gap")}})),Nn=pt((e,t)=>{const n=mt("PillGroup",null,e),{classNames:o,className:r,style:s,styles:l,unstyled:i,vars:c,size:u,disabled:a,attributes:h,...g}=n,x=Fn()?.size||u||void 0,f=Bt({name:"PillGroup",classes:rn,props:n,className:r,style:s,classNames:o,styles:l,unstyled:i,attributes:h,vars:c,varsResolver:bs,stylesCtx:{size:x},rootSelector:"group"});return v.jsx(Is,{value:{size:x,disabled:a},children:v.jsx(Ne,{ref:t,size:x,...f("group"),...g})})});Nn.classes=rn;Nn.displayName="@mantine/core/PillGroup";const ws={variant:"default"},ys=Mn((e,{radius:t},{size:n})=>({root:{"--pill-fz":_t(n,"pill-fz"),"--pill-height":_t(n,"pill-height"),"--pill-radius":t===void 0?void 0:Lo(t)}})),Lt=pt((e,t)=>{const n=mt("Pill",ws,e),{classNames:o,className:r,style:s,styles:l,unstyled:i,vars:c,variant:u,children:a,withRemoveButton:h,onRemove:g,removeButtonProps:I,radius:x,size:f,disabled:b,mod:m,attributes:d,...C}=n,T=Cs(),S=Fn(),p=f||T?.size||void 0,P=S?.variant==="filled"?"contrast":u||"default",_=Bt({name:"Pill",classes:rn,props:n,className:r,style:s,classNames:o,styles:l,unstyled:i,attributes:d,vars:c,varsResolver:ys,stylesCtx:{size:p}});return v.jsxs(Ne,{component:"span",ref:t,variant:P,size:p,..._("root",{variant:P}),mod:[{"with-remove":h&&!b,disabled:b||T?.disabled},m],...C,children:[v.jsx("span",{..._("label"),children:a}),h&&v.jsx(_o,{variant:"transparent",radius:x,tabIndex:-1,"aria-hidden":!0,unstyled:i,...I,..._("remove",{className:I?.className,style:I?.style}),onMouseDown:O=>{O.preventDefault(),O.stopPropagation(),I?.onMouseDown?.(O)},onClick:O=>{O.stopPropagation(),g?.(),I?.onClick?.(O)}})]})});Lt.classes=rn;Lt.displayName="@mantine/core/Pill";Lt.Group=Nn;var Fo={field:"m_45c4369d"};const Ts={type:"visible"},Bn=pt((e,t)=>{const n=mt("PillsInputField",Ts,e),{classNames:o,className:r,style:s,styles:l,unstyled:i,vars:c,type:u,disabled:a,id:h,pointer:g,mod:I,attributes:x,...f}=n,b=Fn(),m=kr(),d=Bt({name:"PillsInputField",classes:Fo,props:n,className:r,style:s,classNames:o,styles:l,unstyled:i,attributes:x,rootSelector:"field"}),C=a||b?.disabled;return v.jsx(Ne,{component:"input",ref:bn(t,b?.fieldRef),"data-type":u,disabled:C,mod:[{disabled:C,pointer:g},I],...d("field"),...f,id:m?.inputId||h,"aria-invalid":b?.hasError,"aria-describedby":m?.describedBy,type:"text",onMouseDown:T=>!g&&T.stopPropagation()})});Bn.classes=Fo;Bn.displayName="@mantine/core/PillsInputField";const Es={size:"sm"},Jt=pt((e,t)=>{const n=mt("PillsInput",Es,e),{children:o,onMouseDown:r,onClick:s,size:l,disabled:i,__staticSelector:c,error:u,variant:a,...h}=n,g=te.useRef(null);return v.jsx(vs,{value:{fieldRef:g,size:l,disabled:i,hasError:!!u,variant:a},children:v.jsx(Mo,{size:l,error:u,variant:a,component:"div",ref:t,"data-no-overflow":!0,onMouseDown:I=>{I.preventDefault(),r?.(I),g.current?.focus()},onClick:I=>{I.preventDefault(),I.currentTarget.closest("fieldset")?.disabled||(g.current?.focus(),s?.(I))},...h,multiline:!0,disabled:i,__staticSelector:c||"PillsInput",withAria:!1,children:o})})});Jt.displayName="@mantine/core/PillsInput";Jt.Field=Bn;function Rs({data:e,value:t}){const n=t.map(r=>r.trim().toLowerCase());return e.reduce((r,s)=>(Hr(s)?r.push({group:s.group,items:s.items.filter(l=>n.indexOf(l.value.toLowerCase().trim())===-1)}):n.indexOf(s.value.toLowerCase().trim())===-1&&r.push(s),r),[])}const Ps={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:",",clearSearchOnChange:!0,size:"sm"},dt=pt((e,t)=>{const n=mt("MultiSelect",Ps,e),{classNames:o,className:r,style:s,styles:l,unstyled:i,vars:c,size:u,value:a,defaultValue:h,onChange:g,onKeyDown:I,variant:x,data:f,dropdownOpened:b,defaultDropdownOpened:m,onDropdownOpen:d,onDropdownClose:C,selectFirstOptionOnChange:T,onOptionSubmit:S,comboboxProps:p,filter:P,limit:_,withScrollArea:O,maxDropdownHeight:M,searchValue:V,defaultSearchValue:G,onSearchChange:J,readOnly:k,disabled:N,onFocus:X,onBlur:ae,radius:ue,rightSection:me,rightSectionWidth:ce,rightSectionPointerEvents:Ie,rightSectionProps:Ee,leftSection:$e,leftSectionWidth:Be,leftSectionPointerEvents:Ce,leftSectionProps:E,inputContainer:z,inputWrapperOrder:Z,withAsterisk:re,labelProps:q,descriptionProps:ye,errorProps:j,wrapperProps:Se,description:We,label:he,error:de,maxValues:Qe,searchable:fe,nothingFoundMessage:be,withCheckIcon:St,withAlignedLabels:He,checkIconPosition:ze,hidePickedOptions:De,withErrorStyles:it,name:ct,form:at,id:Ue,clearable:zt,clearButtonProps:vt,hiddenInputProps:Je,placeholder:U,hiddenInputValuesDivider:F,required:Pe,mod:A,renderOption:pe,onRemove:Ye,onClear:et,scrollAreaProps:Vt,chevronColor:Gt,attributes:It,clearSearchOnChange:xr,...Xn}=n,fn=Fr(Ue),pn=Nr(f),Ke=Br(pn),Zn=te.useRef({}),Oe=Dr({opened:b,defaultOpened:m,onDropdownOpen:d,onDropdownClose:()=>{C?.(),Oe.resetSelectedOption()}}),{styleProps:Sr,rest:{type:yi,autoComplete:vr,...Ir}}=jr(Xn),[ve,Tt]=wn({value:a,defaultValue:h,finalValue:[],onChange:g}),[$t,Cr]=wn({value:V,defaultValue:G,finalValue:"",onChange:J}),Wt=ee=>{Cr(ee),Oe.resetSelectedOption()},mn=Bt({name:"MultiSelect",classes:{},props:n,classNames:o,styles:l,unstyled:i,attributes:It}),{resolvedClassNames:Qn,resolvedStyles:Jn}=Ar({props:n,styles:l,classNames:o}),br=ee=>{I?.(ee),ee.key===" "&&!fe&&(ee.preventDefault(),Oe.toggleDropdown()),ee.key==="Backspace"&&$t.length===0&&ve.length>0&&(Ye?.(ve[ve.length-1]),Tt(ve.slice(0,ve.length-1)))},wr=ve.map((ee,hn)=>{const Er=Ke[ee]||Zn.current[ee];return v.jsx(Lt,{withRemoveButton:!k&&!Ke[ee]?.disabled,onRemove:()=>{Tt(ve.filter(Rr=>ee!==Rr)),Ye?.(ee)},unstyled:i,disabled:N,...mn("pill"),children:Er?.label||ee},`${ee}-${hn}`)});te.useEffect(()=>{T&&Oe.selectFirstOption()},[T,$t]),te.useEffect(()=>{ve.forEach(ee=>{ee in Ke&&(Zn.current[ee]=Ke[ee])})},[Ke,ve]);const yr=v.jsx(ut.ClearButton,{...vt,onClear:()=>{et?.(),Tt([]),Wt("")}}),Tr=Rs({data:pn,value:ve}),eo=zt&&ve.length>0&&!N&&!k;return v.jsxs(v.Fragment,{children:[v.jsxs(ut,{store:Oe,classNames:Qn,styles:Jn,unstyled:i,size:u,readOnly:k,__staticSelector:"MultiSelect",attributes:It,onOptionSubmit:ee=>{S?.(ee),xr&&Wt(""),Oe.updateSelectedOptionIndex("selected"),ve.includes(Ke[ee].value)?(Tt(ve.filter(hn=>hn!==Ke[ee].value)),Ye?.(Ke[ee].value)):ve.length<Qe&&Tt([...ve,Ke[ee].value])},...p,children:[v.jsx(ut.DropdownTarget,{children:v.jsx(Jt,{...Sr,__staticSelector:"MultiSelect",classNames:Qn,styles:Jn,unstyled:i,size:u,className:r,style:s,variant:x,disabled:N,radius:ue,__defaultRightSection:v.jsx(ut.Chevron,{size:u,error:de,unstyled:i,color:Gt}),__clearSection:yr,__clearable:eo,rightSection:me,rightSectionPointerEvents:Ie||"none",rightSectionWidth:ce,rightSectionProps:Ee,leftSection:$e,leftSectionWidth:Be,leftSectionPointerEvents:Ce,leftSectionProps:E,inputContainer:z,inputWrapperOrder:Z,withAsterisk:re,labelProps:q,descriptionProps:ye,errorProps:j,wrapperProps:Se,description:We,label:he,error:de,withErrorStyles:it,__stylesApiProps:{...n,rightSectionPointerEvents:Ie||(eo?"all":"none"),multiline:!0},pointer:!fe,onClick:()=>fe?Oe.openDropdown():Oe.toggleDropdown(),"data-expanded":Oe.dropdownOpened||void 0,id:fn,required:Pe,mod:A,attributes:It,children:v.jsxs(Lt.Group,{attributes:It,disabled:N,unstyled:i,...mn("pillsList"),children:[wr,v.jsx(ut.EventsTarget,{autoComplete:vr,children:v.jsx(Jt.Field,{...Ir,ref:t,id:fn,placeholder:U,type:!fe&&!U?"hidden":"visible",...mn("inputField"),unstyled:i,onFocus:ee=>{X?.(ee),fe&&Oe.openDropdown()},onBlur:ee=>{ae?.(ee),Oe.closeDropdown(),Wt("")},onKeyDown:br,value:$t,onChange:ee=>{Wt(ee.currentTarget.value),fe&&Oe.openDropdown(),T&&Oe.selectFirstOption()},disabled:N,readOnly:k||!fe,pointer:!fe})})]})})}),v.jsx(zr,{data:De?Tr:pn,hidden:k||N,filter:P,search:$t,limit:_,hiddenWhenEmpty:!be,withScrollArea:O,maxDropdownHeight:M,filterOptions:fe,value:ve,checkIconPosition:ze,withCheckIcon:St,withAlignedLabels:He,nothingFoundMessage:be,unstyled:i,labelId:he?`${fn}-label`:void 0,"aria-label":he?void 0:Xn["aria-label"],renderOption:pe,scrollAreaProps:Vt})]}),v.jsx(ut.HiddenInput,{name:ct,valuesDivider:F,value:ve,form:at,disabled:N,...Je})]})});dt.classes={...Mo.classes,...ut.classes};dt.displayName="@mantine/core/MultiSelect";const[Os,sn]=Vr("SliderProvider was not found in tree"),No=te.forwardRef(({size:e,disabled:t,variant:n,color:o,thumbSize:r,radius:s,...l},i)=>{const{getStyles:c}=sn();return v.jsx(Ne,{tabIndex:-1,variant:n,size:e,ref:i,...c("root"),...l})});No.displayName="@mantine/core/SliderRoot";const Tn=te.forwardRef(({max:e,min:t,value:n,position:o,label:r,dragging:s,onMouseDown:l,onKeyDownCapture:i,labelTransitionProps:c,labelAlwaysOn:u,thumbLabel:a,onFocus:h,onBlur:g,showLabelOnHover:I,isHovered:x,children:f=null,disabled:b},m)=>{const{getStyles:d}=sn(),[C,T]=te.useState(!1),S=u||s||C||I&&x;return v.jsxs(Ne,{tabIndex:0,role:"slider","aria-label":a,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:m,__vars:{"--slider-thumb-offset":`${o}%`},...d("thumb",{focusable:!0}),mod:{dragging:s,disabled:b},onFocus:p=>{T(!0),typeof h=="function"&&h(p)},onBlur:p=>{T(!1),typeof g=="function"&&g(p)},onTouchStart:l,onMouseDown:l,onKeyDownCapture:i,onClick:p=>p.stopPropagation(),children:[f,v.jsx(Gr,{mounted:r!=null&&!!S,transition:"fade",duration:0,...c,children:p=>v.jsx("div",{...d("label",{style:p}),children:r})})]})});Tn.displayName="@mantine/core/SliderThumb";function En({value:e,min:t,max:n}){const o=(e-t)/(n-t)*100;return Math.min(Math.max(o,0),100)}function _s({mark:e,offset:t,value:n,inverted:o=!1}){return o?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function Bo({marks:e,min:t,max:n,disabled:o,value:r,offset:s,inverted:l}){const{getStyles:i}=sn();if(!e)return null;const c=e.map((u,a)=>te.createElement(Ne,{...i("markWrapper"),__vars:{"--mark-offset":`${En({value:u.value,min:t,max:n})}%`},key:a},v.jsx(Ne,{...i("mark"),mod:{filled:_s({mark:u,value:r,offset:s,inverted:l}),disabled:o}}),u.label&&v.jsx("div",{...i("markLabel"),children:u.label})));return v.jsx("div",{children:c})}Bo.displayName="@mantine/core/SliderMarks";function Do({filled:e,children:t,offset:n,disabled:o,marksOffset:r,inverted:s,containerProps:l,...i}){const{getStyles:c}=sn();return v.jsx(Ne,{...c("trackContainer"),mod:{disabled:o},...l,children:v.jsxs(Ne,{...c("track"),mod:{inverted:s,disabled:o},children:[v.jsx(Ne,{mod:{inverted:s,disabled:o},__vars:{"--slider-bar-width":`calc(${e}% + 2 * var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...c("bar")}),t,v.jsx(Bo,{...i,offset:r,disabled:o,inverted:s})]})})}Do.displayName="@mantine/core/SliderTrack";function so({value:e,containerWidth:t,min:n,max:o,step:r,precision:s}){const i=(t?Math.min(Math.max(e,0),t)/t:e)*(o-n),c=(i!==0?Math.round(i/r)*r:0)+n,u=Math.max(c,n);return s!==void 0?Number(u.toFixed(s)):u}function tt(e,t){return parseFloat(e.toFixed(t))}function Ls(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function Ut(e,t){const o=[...t].sort((r,s)=>r.value-s.value).find(r=>r.value>e);return o?o.value:e}function Yt(e,t){const o=[...t].sort((r,s)=>s.value-r.value).find(r=>r.value<e);return o?o.value:e}function Ms(e){const t=[...e].sort((n,o)=>n.value-o.value);return t.length>0?t[0].value:0}function ks(e){const t=[...e].sort((n,o)=>n.value-o.value);return t.length>0?t[t.length-1].value:100}var jo={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};function Hs(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const Fs=Mn((e,{size:t,color:n,thumbSize:o,radius:r})=>({root:{"--slider-size":_t(t,"slider-size"),"--slider-color":n?Ur(n,e):void 0,"--slider-radius":r===void 0?void 0:Lo(r),"--slider-thumb-size":o!==void 0?Wr(o):"calc(var(--slider-size) * 2)"}})),Ns={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,pushOnOverlap:!0,scale:e=>e,size:"md",maxRange:1/0},Dn=pt((e,t)=>{const n=mt("RangeSlider",Ns,e),{classNames:o,styles:r,value:s,onChange:l,onChangeEnd:i,size:c,min:u,max:a,domain:h,minRange:g,maxRange:I,step:x,precision:f,defaultValue:b,name:m,marks:d,label:C,labelTransitionProps:T,labelAlwaysOn:S,thumbFromLabel:p,thumbToLabel:P,showLabelOnHover:_,thumbChildren:O,disabled:M,unstyled:V,scale:G,inverted:J,className:k,style:N,vars:X,hiddenInputProps:ae,restrictToMarks:ue,thumbProps:me,pushOnOverlap:ce,attributes:Ie,...Ee}=n,$e=Bt({name:"Slider",props:n,classes:jo,classNames:o,className:k,styles:r,style:N,attributes:Ie,vars:X,varsResolver:Fs,unstyled:V}),Be=te.useRef(null),{dir:Ce}=$r(),[E,z]=te.useState(-1),[Z,re]=te.useState(!1),[q,ye]=wn({value:s,defaultValue:b,finalValue:[u,a],onChange:l}),j=te.useRef(q),Se=te.useRef([]),We=te.useRef(null),he=te.useRef(void 0),[de,Qe]=h||[u,a],fe=[En({value:q[0],min:de,max:Qe}),En({value:q[1],min:de,max:Qe})],be=f??Ls(x),St=U=>{ye(U),j.current=U};te.useEffect(()=>{Array.isArray(s)&&(j.current=s)},Array.isArray(s)?[s[0],s[1]]:[null,null]);const He=(U,F,Pe)=>{if(F===-1)return;const A=[...j.current];if(ue&&d){const pe=ms(U,d.map(It=>It.value)),Ye=A[F];A[F]=pe;const et=F===0?1:0,Vt=ks(d),Gt=Ms(d);pe===Vt&&A[et]===Vt||pe===Gt&&A[et]===Gt?A[F]=Ye:pe===A[et]&&(Ye>A[et]?A[et]=Yt(pe,d):A[et]=Ut(pe,d))}else{const pe=yn(U,u,a);A[F]=pe,F===0&&(pe>A[1]-(g-1e-9)&&(ce?A[1]=Math.min(U+g,a):A[F]=j.current[F]),pe>(a-(g-1e-9)||u)&&(A[F]=j.current[F]),A[1]-U>I&&(ce?A[1]=U+I:A[F]=j.current[F])),F===1&&(pe<A[0]+g&&(ce?A[0]=Math.max(U-g,u):A[F]=j.current[F]),pe<A[0]+g&&(A[F]=j.current[F]),pe-A[0]>I&&(ce?A[0]=U-I:A[F]=j.current[F]))}if(A[0]=tt(A[0],be),A[1]=tt(A[1],be),A[0]>A[1]){const pe=A[0];A[0]=A[1],A[1]=pe}St(A),Pe&&i?.(j.current)},ze=U=>{if(!M&&he.current!==void 0){const F=so({value:U,min:de,max:Qe,step:x,precision:be});He(F,he.current,!1)}},{ref:De,active:it}=ps(({x:U})=>ze(U),{onScrubEnd:()=>!M&&i?.(j.current)},Ce);function ct(U){he.current=U}const at=U=>{if(Be.current){Be.current.focus();const F=Be.current.getBoundingClientRect(),Pe=Hs(U.nativeEvent),A=so({value:Pe-F.left,max:a,min:u,step:x,containerWidth:F.width}),pe=Math.abs(q[0]-A)>Math.abs(q[1]-A)?1:0,Ye=Ce==="ltr"?pe:pe===1?0:1;he.current=Ye}},Ue=()=>E!==1&&E!==0?(z(0),0):E,zt=U=>{if(!M)switch(U.key){case"ArrowUp":{U.preventDefault();const F=Ue();Se.current[F].focus();const Pe=ue&&d?Ut(j.current[F],d):Math.min(Math.max(j.current[F]+x,u),a);He(tt(Pe,be),F,!0);break}case"ArrowRight":{U.preventDefault();const F=Ue();Se.current[F].focus();const Pe=ue&&d?(Ce==="rtl"?Yt:Ut)(j.current[F],d):Math.min(Math.max(Ce==="rtl"?j.current[F]-x:j.current[F]+x,u),a);He(tt(Pe,be),F,!0);break}case"ArrowDown":{U.preventDefault();const F=Ue();Se.current[F].focus();const Pe=ue&&d?Yt(j.current[F],d):Math.min(Math.max(j.current[F]-x,u),a);He(tt(Pe,be),F,!0);break}case"ArrowLeft":{U.preventDefault();const F=Ue();Se.current[F].focus();const Pe=ue&&d?(Ce==="rtl"?Ut:Yt)(j.current[F],d):Math.min(Math.max(Ce==="rtl"?j.current[F]+x:j.current[F]-x,u),a);He(tt(Pe,be),F,!0);break}}},vt={max:a,min:u,size:c,labelTransitionProps:T,labelAlwaysOn:S,onBlur:()=>z(-1)},Je=Array.isArray(O);return v.jsx(Os,{value:{getStyles:$e},children:v.jsxs(No,{...Ee,size:c,ref:bn(t,We),disabled:M,onMouseDownCapture:()=>We.current?.focus(),onKeyDownCapture:()=>{Se.current[0]?.parentElement?.contains(document.activeElement)||Se.current[0]?.focus()},children:[v.jsxs(Do,{offset:fe[0],marksOffset:q[0],filled:fe[1]-fe[0],marks:d,inverted:J,min:de,max:Qe,value:q[1],disabled:M,containerProps:{ref:bn(Be,De),onMouseEnter:_?()=>re(!0):void 0,onMouseLeave:_?()=>re(!1):void 0,onTouchStartCapture:at,onTouchEndCapture:()=>{he.current=-1},onMouseDownCapture:at,onMouseUpCapture:()=>{he.current=-1},onKeyDownCapture:zt},children:[v.jsx(Tn,{...vt,value:G(q[0]),position:fe[0],dragging:it,label:typeof C=="function"?C(tt(G(q[0]),be)):C,ref:U=>{U&&(Se.current[0]=U)},thumbLabel:p,onMouseDown:()=>ct(0),onFocus:()=>z(0),showLabelOnHover:_,isHovered:Z,disabled:M,...me?.(0),children:Je?O[0]:O}),v.jsx(Tn,{...vt,thumbLabel:P,value:G(q[1]),position:fe[1],dragging:it,label:typeof C=="function"?C(tt(G(q[1]),be)):C,ref:U=>{U&&(Se.current[1]=U)},onMouseDown:()=>ct(1),onFocus:()=>z(1),showLabelOnHover:_,isHovered:Z,disabled:M,...me?.(1),children:Je?O[1]:O})]}),v.jsx("input",{type:"hidden",name:`${m}_from`,value:q[0],...ae}),v.jsx("input",{type:"hidden",name:`${m}_to`,value:q[1],...ae})]})})});Dn.classes=jo;Dn.displayName="@mantine/core/RangeSlider";const ln=0,rt=1,yt=2,Ao=4;function zo(e,t){return n=>e(t(n))}function Bs(e,t){return t(e)}function Vo(e,t){return n=>e(t,n)}function lo(e,t){return()=>e(t)}function cn(e,t){return t(e),e}function le(...e){return e}function Ds(e){e()}function io(e){return()=>e}function js(...e){return()=>{e.map(Ds)}}function jn(e){return e!==void 0}function ht(){}function ne(e,t){return e(rt,t)}function $(e,t){e(ln,t)}function An(e){e(yt)}function Le(e){return e(Ao)}function H(e,t){return ne(e,Vo(t,ln))}function Ze(e,t){const n=e(rt,o=>{n(),t(o)});return n}function K(){const e=[];return(t,n)=>{switch(t){case yt:e.splice(0,e.length);return;case rt:return e.push(n),()=>{const o=e.indexOf(n);o>-1&&e.splice(o,1)};case ln:e.slice().forEach(o=>{o(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function R(e){let t=e;const n=K();return(o,r)=>{switch(o){case rt:r(t);break;case ln:t=r;break;case Ao:return t}return n(o,r)}}function As(e){let t,n;const o=()=>t&&t();return function(r,s){switch(r){case rt:return s?n===s?void 0:(o(),n=s,t=ne(e,s),t):(o(),ht);case yt:o(),n=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function Me(e){return cn(K(),t=>H(e,t))}function we(e,t){return cn(R(t),n=>H(e,n))}function zs(...e){return t=>e.reduceRight(Bs,t)}function w(e,...t){const n=zs(...t);return(o,r)=>{switch(o){case rt:return ne(e,n(r));case yt:An(e);return}}}function Go(e,t){return e===t}function se(e=Go){let t;return n=>o=>{e(t,o)||(t=o,n(o))}}function D(e){return t=>n=>{e(n)&&t(n)}}function L(e){return t=>zo(t,e)}function qe(e){return t=>()=>t(e)}function Ve(e,t){return n=>o=>n(t=e(t,o))}function wt(e){return t=>n=>{e>0?e--:t(n)}}function nt(e){let t=null,n;return o=>r=>{t=r,!n&&(n=setTimeout(()=>{n=void 0,o(t)},e))}}function co(e){let t,n;return o=>r=>{t=r,n&&clearTimeout(n),n=setTimeout(()=>{o(t)},e)}}function W(...e){const t=new Array(e.length);let n=0,o=null;const r=Math.pow(2,e.length)-1;return e.forEach((s,l)=>{const i=Math.pow(2,l);ne(s,c=>{const u=n;n=n|i,t[l]=c,u!==r&&n===r&&o&&(o(),o=null)})}),s=>l=>{const i=()=>s([l].concat(t));n===r?i():o=i}}function ao(...e){return function(t,n){switch(t){case rt:return js(...e.map(o=>ne(o,n)));case yt:return;default:throw new Error(`unrecognized action ${t}`)}}}function B(e,t=Go){return w(e,se(t))}function xe(...e){const t=K(),n=new Array(e.length);let o=0;const r=Math.pow(2,e.length)-1;return e.forEach((s,l)=>{const i=Math.pow(2,l);ne(s,c=>{n[l]=c,o=o|i,o===r&&$(t,n)})}),function(s,l){switch(s){case rt:return o===r&&l(n),ne(t,l);case yt:return An(t);default:throw new Error(`unrecognized action ${s}`)}}}function Q(e,t=[],{singleton:n}={singleton:!0}){return{id:Vs(),constructor:e,dependencies:t,singleton:n}}const Vs=()=>Symbol();function Gs(e){const t=new Map,n=({id:o,constructor:r,dependencies:s,singleton:l})=>{if(l&&t.has(o))return t.get(o);const i=r(s.map(c=>n(c)));return l&&t.set(o,i),i};return n(e)}function $s(e,t){const n={},o={};let r=0;const s=e.length;for(;r<s;)o[e[r]]=1,r+=1;for(const l in t)o.hasOwnProperty(l)||(n[l]=t[l]);return n}const Kt=typeof document<"u"?y.useLayoutEffect:y.useEffect;function $o(e,t,n){const o=Object.keys(t.required||{}),r=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),l=Object.keys(t.events||{}),i=y.createContext({});function c(f,b){f.propsReady&&$(f.propsReady,!1);for(const m of o){const d=f[t.required[m]];$(d,b[m])}for(const m of r)if(m in b){const d=f[t.optional[m]];$(d,b[m])}f.propsReady&&$(f.propsReady,!0)}function u(f){return s.reduce((b,m)=>(b[m]=d=>{const C=f[t.methods[m]];$(C,d)},b),{})}function a(f){return l.reduce((b,m)=>(b[m]=As(f[t.events[m]]),b),{})}return{Component:y.forwardRef((f,b)=>{const{children:m,...d}=f,[C]=y.useState(()=>cn(Gs(e),S=>c(S,d))),[T]=y.useState(lo(a,C));return Kt(()=>{for(const S of l)S in d&&ne(T[S],d[S]);return()=>{Object.values(T).map(An)}},[d,T,C]),Kt(()=>{c(C,d)}),y.useImperativeHandle(b,io(u(C))),y.createElement(i.Provider,{value:C},n?y.createElement(n,$s([...o,...r,...l],d),m):m)}),usePublisher:f=>y.useCallback(Vo($,y.useContext(i)[f]),[f]),useEmitterValue:f=>{const m=y.useContext(i)[f],[d,C]=y.useState(lo(Le,m));return Kt(()=>ne(m,T=>{T!==d&&C(io(T))}),[m,d]),d},useEmitter:(f,b)=>{const d=y.useContext(i)[f];Kt(()=>ne(d,b),[b,d])}}}const Ws=typeof document<"u"?y.useLayoutEffect:y.useEffect,Us=Ws;var ke=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(ke||{});const Ys={0:"debug",1:"log",2:"warn",3:"error"},Ks=()=>typeof globalThis>"u"?window:globalThis,st=Q(()=>{const e=R(3);return{log:R((n,o,r=1)=>{var s;const l=(s=Ks().VIRTUOSO_LOG_LEVEL)!=null?s:Le(e);r>=l&&console[Ys[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,o)}),logLevel:e}},[],{singleton:!0});function zn(e,t=!0){const n=y.useRef(null);let o=r=>{};if(typeof ResizeObserver<"u"){const r=y.useMemo(()=>new ResizeObserver(s=>{const l=s[0].target;l.offsetParent!==null&&e(l)}),[e]);o=s=>{s&&t?(r.observe(s),n.current=s):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function gt(e,t=!0){return zn(e,t).callbackRef}function qs(e,t,n,o,r,s,l){const i=y.useCallback(c=>{const u=Xs(c.children,t,"offsetHeight",r);let a=c.parentElement;for(;!a.dataset.virtuosoScroller;)a=a.parentElement;const h=a.lastElementChild.dataset.viewportType==="window",g=l?l.scrollTop:h?window.pageYOffset||document.documentElement.scrollTop:a.scrollTop,I=l?l.scrollHeight:h?document.documentElement.scrollHeight:a.scrollHeight,x=l?l.offsetHeight:h?window.innerHeight:a.offsetHeight;o({scrollTop:Math.max(g,0),scrollHeight:I,viewportHeight:x}),s?.(Zs("row-gap",getComputedStyle(c).rowGap,r)),u!==null&&e(u)},[e,t,r,s,l,o]);return zn(i,n)}function Xs(e,t,n,o){const r=e.length;if(r===0)return null;const s=[];for(let l=0;l<r;l++){const i=e.item(l);if(!i||i.dataset.index===void 0)continue;const c=parseInt(i.dataset.index),u=parseFloat(i.dataset.knownSize),a=t(i,n);if(a===0&&o("Zero-sized element, this should not happen",{child:i},ke.ERROR),a===u)continue;const h=s[s.length-1];s.length===0||h.size!==a||h.endIndex!==c-1?s.push({startIndex:c,endIndex:c,size:a}):s[s.length-1].endIndex++}return s}function Zs(e,t,n){return t!=="normal"&&!t?.endsWith("px")&&n(`${e} was not resolved to pixel value correctly`,t,ke.WARN),t==="normal"?0:parseInt(t??"0",10)}function ot(e,t){return Math.round(e.getBoundingClientRect()[t])}function Wo(e,t){return Math.abs(e-t)<1.01}function Uo(e,t,n,o=ht,r){const s=y.useRef(null),l=y.useRef(null),i=y.useRef(null),c=y.useCallback(h=>{const g=h.target,I=g===window||g===document,x=I?window.pageYOffset||document.documentElement.scrollTop:g.scrollTop,f=I?document.documentElement.scrollHeight:g.scrollHeight,b=I?window.innerHeight:g.offsetHeight,m=()=>{e({scrollTop:Math.max(x,0),scrollHeight:f,viewportHeight:b})};h.suppressFlushSync?m():Yr.flushSync(m),l.current!==null&&(x===l.current||x<=0||x===f-b)&&(l.current=null,t(!0),i.current&&(clearTimeout(i.current),i.current=null))},[e,t]);y.useEffect(()=>{const h=r||s.current;return o(r||s.current),c({target:h,suppressFlushSync:!0}),h.addEventListener("scroll",c,{passive:!0}),()=>{o(null),h.removeEventListener("scroll",c)}},[s,c,n,o,r]);function u(h){const g=s.current;if(!g||"offsetHeight"in g&&g.offsetHeight===0)return;const I=h.behavior==="smooth";let x,f,b;g===window?(f=Math.max(ot(document.documentElement,"height"),document.documentElement.scrollHeight),x=window.innerHeight,b=document.documentElement.scrollTop):(f=g.scrollHeight,x=ot(g,"height"),b=g.scrollTop);const m=f-x;if(h.top=Math.ceil(Math.max(Math.min(m,h.top),0)),Wo(x,f)||h.top===b){e({scrollTop:b,scrollHeight:f,viewportHeight:x}),I&&t(!0);return}I?(l.current=h.top,i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{i.current=null,l.current=null,t(!0)},1e3)):l.current=null,g.scrollTo(h)}function a(h){s.current.scrollBy(h)}return{scrollerRef:s,scrollByCallback:a,scrollToCallback:u}}const Te=Q(()=>{const e=K(),t=K(),n=R(0),o=K(),r=R(0),s=K(),l=K(),i=R(0),c=R(0),u=R(0),a=R(0),h=K(),g=K(),I=R(!1);return H(w(e,L(({scrollTop:x})=>x)),t),H(w(e,L(({scrollHeight:x})=>x)),l),H(t,r),{scrollContainerState:e,scrollTop:t,viewportHeight:s,headerHeight:i,fixedHeaderHeight:c,fixedFooterHeight:u,footerHeight:a,scrollHeight:l,smoothScrollTargetReached:o,scrollTo:h,scrollBy:g,statefulScrollTop:r,deviation:n,scrollingInProgress:I}},[],{singleton:!0}),Mt={lvl:0};function Yo(e,t,n,o=Mt,r=Mt){return{k:e,v:t,lvl:n,l:o,r}}function oe(e){return e===Mt}function bt(){return Mt}function Rn(e,t){if(oe(e))return Mt;const{k:n,l:o,r}=e;if(t===n){if(oe(o))return r;if(oe(r))return o;{const[s,l]=Ko(o);return Zt(ge(e,{k:s,v:l,l:qo(o)}))}}else return t<n?Zt(ge(e,{l:Rn(o,t)})):Zt(ge(e,{r:Rn(r,t)}))}function kt(e,t){if(!oe(e))return t===e.k?e.v:t<e.k?kt(e.l,t):kt(e.r,t)}function Ae(e,t,n="k"){if(oe(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const o=Ae(e.r,t,n);return o[0]===-1/0?[e.k,e.v]:o}return Ae(e.l,t,n)}function _e(e,t,n){return oe(e)?Yo(t,n,1):t===e.k?ge(e,{k:t,v:n}):t<e.k?uo(ge(e,{l:_e(e.l,t,n)})):uo(ge(e,{r:_e(e.r,t,n)}))}function Pn(e,t,n){if(oe(e))return[];const{k:o,v:r,l:s,r:l}=e;let i=[];return o>t&&(i=i.concat(Pn(s,t,n))),o>=t&&o<=n&&i.push({k:o,v:r}),o<=n&&(i=i.concat(Pn(l,t,n))),i}function ft(e){return oe(e)?[]:[...ft(e.l),{k:e.k,v:e.v},...ft(e.r)]}function Ko(e){return oe(e.r)?[e.k,e.v]:Ko(e.r)}function qo(e){return oe(e.r)?e.l:Zt(ge(e,{r:qo(e.r)}))}function ge(e,t){return Yo(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function Sn(e){return oe(e)||e.lvl>e.r.lvl}function uo(e){return On(Zo(e))}function Zt(e){const{l:t,r:n,lvl:o}=e;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(Sn(t))return Zo(ge(e,{lvl:o-1}));if(!oe(t)&&!oe(t.r))return ge(t.r,{l:ge(t,{r:t.r.l}),r:ge(e,{l:t.r.r,lvl:o-1}),lvl:o});throw new Error("Unexpected empty nodes")}else{if(Sn(e))return On(ge(e,{lvl:o-1}));if(!oe(n)&&!oe(n.l)){const r=n.l,s=Sn(r)?n.lvl-1:n.lvl;return ge(r,{l:ge(e,{r:r.l,lvl:o-1}),r:On(ge(n,{l:r.r,lvl:s})),lvl:r.lvl+1})}else throw new Error("Unexpected empty nodes")}}function an(e,t,n){if(oe(e))return[];const o=Ae(e,t)[0];return Qs(Pn(e,o,n))}function Xo(e,t){const n=e.length;if(n===0)return[];let{index:o,value:r}=t(e[0]);const s=[];for(let l=1;l<n;l++){const{index:i,value:c}=t(e[l]);s.push({start:o,end:i-1,value:r}),o=i,r=c}return s.push({start:o,end:1/0,value:r}),s}function Qs(e){return Xo(e,({k:t,v:n})=>({index:t,value:n}))}function On(e){const{r:t,lvl:n}=e;return!oe(t)&&!oe(t.r)&&t.lvl===n&&t.r.lvl===n?ge(t,{l:ge(e,{r:t.l}),lvl:n+1}):e}function Zo(e){const{l:t}=e;return!oe(t)&&t.lvl===e.lvl?ge(t,{r:ge(e,{l:t.r})}):e}function en(e,t,n,o=0){let r=e.length-1;for(;o<=r;){const s=Math.floor((o+r)/2),l=e[s],i=n(l,t);if(i===0)return s;if(i===-1){if(r-o<2)return s-1;r=s-1}else{if(r===o)return s;o=s+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function Qo(e,t,n){return e[en(e,t,n)]}function Js(e,t,n,o){const r=en(e,t,o),s=en(e,n,o,r);return e.slice(r,s+1)}const Vn=Q(()=>({recalcInProgress:R(!1)}),[],{singleton:!0});function el(e){const{size:t,startIndex:n,endIndex:o}=e;return r=>r.start===n&&(r.end===o||r.end===1/0)&&r.value===t}function fo(e,t){let n=0,o=0;for(;n<e;)n+=t[o+1]-t[o]-1,o++;return o-(n===e?0:1)}function tl(e,t){let n=oe(e)?0:1/0;for(const o of t){const{size:r,startIndex:s,endIndex:l}=o;if(n=Math.min(n,s),oe(e)){e=_e(e,0,r);continue}const i=an(e,s-1,l+1);if(i.some(el(o)))continue;let c=!1,u=!1;for(const{start:a,end:h,value:g}of i)c?(l>=a||r===g)&&(e=Rn(e,a)):(u=g!==r,c=!0),h>l&&l>=a&&g!==r&&(e=_e(e,l+1,g));u&&(e=_e(e,s,r))}return[e,n]}function nl(){return{offsetTree:[],sizeTree:bt(),groupOffsetTree:bt(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function Gn({index:e},t){return t===e?0:t<e?-1:1}function ol({offset:e},t){return t===e?0:t<e?-1:1}function rl(e){return{index:e.index,value:e}}function sl(e,t,n,o=0){return o>0&&(t=Math.max(t,Qo(e,o,Gn).offset)),Xo(Js(e,t,n,ol),rl)}function _n(e,t,n,o){let r=e,s=0,l=0,i=0,c=0;if(t!==0){c=en(r,t-1,Gn),i=r[c].offset;const a=Ae(n,t-1);s=a[0],l=a[1],r.length&&r[c].size===Ae(n,t)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:u,value:a}of an(n,t,1/0)){const h=u-s,g=h*l+i+h*o;r.push({offset:g,size:a,index:u}),s=u,i=g,l=a}return{offsetTree:r,lastIndex:s,lastOffset:i,lastSize:l}}function ll(e,[t,n,o,r]){t.length>0&&o("received item sizes",t,ke.DEBUG);const s=e.sizeTree;let l=s,i=0;if(n.length>0&&oe(s)&&t.length===2){const g=t[0].size,I=t[1].size;l=n.reduce((x,f)=>_e(_e(x,f,g),f+1,I),l)}else[l,i]=tl(l,t);if(l===s)return e;const{offsetTree:c,lastIndex:u,lastSize:a,lastOffset:h}=_n(e.offsetTree,i,l,r);return{sizeTree:l,offsetTree:c,lastIndex:u,lastOffset:h,lastSize:a,groupOffsetTree:n.reduce((g,I)=>_e(g,I,Ht(I,c,r)),bt()),groupIndices:n}}function Ht(e,t,n){if(t.length===0)return 0;const{offset:o,index:r,size:s}=Qo(t,e,Gn),l=e-r,i=s*l+(l-1)*n+o;return i>0?i+n:i}function il(e){return typeof e.groupIndex<"u"}function Jo(e,t,n){if(il(e))return t.groupIndices[e.groupIndex]+1;{const o=e.index==="LAST"?n:e.index;let r=er(o,t);return r=Math.max(0,r,Math.min(n,r)),r}}function er(e,t){if(!un(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function un(e){return!oe(e.groupOffsetTree)}function cl(e){return ft(e).map(({k:t,v:n},o,r)=>{const s=r[o+1],l=s?s.k-1:1/0;return{startIndex:t,endIndex:l,size:n}})}const al={offsetHeight:"height",offsetWidth:"width"},Ge=Q(([{log:e},{recalcInProgress:t}])=>{const n=K(),o=K(),r=we(o,0),s=K(),l=K(),i=R(0),c=R([]),u=R(void 0),a=R(void 0),h=R((S,p)=>ot(S,al[p])),g=R(void 0),I=R(0),x=nl(),f=we(w(n,W(c,e,I),Ve(ll,x),se()),x),b=we(w(c,se(),Ve((S,p)=>({prev:S.current,current:p}),{prev:[],current:[]}),L(({prev:S})=>S)),[]);H(w(c,D(S=>S.length>0),W(f,I),L(([S,p,P])=>{const _=S.reduce((O,M,V)=>_e(O,M,Ht(M,p.offsetTree,P)||V),bt());return{...p,groupIndices:S,groupOffsetTree:_}})),f),H(w(o,W(f),D(([S,{lastIndex:p}])=>S<p),L(([S,{lastIndex:p,lastSize:P}])=>[{startIndex:S,endIndex:p,size:P}])),n),H(u,a);const m=we(w(u,L(S=>S===void 0)),!0);H(w(a,D(S=>S!==void 0&&oe(Le(f).sizeTree)),L(S=>[{startIndex:0,endIndex:0,size:S}])),n);const d=Me(w(n,W(f),Ve(({sizes:S},[p,P])=>({changed:P!==S,sizes:P}),{changed:!1,sizes:x}),L(S=>S.changed)));ne(w(i,Ve((S,p)=>({diff:S.prev-p,prev:p}),{diff:0,prev:0}),L(S=>S.diff)),S=>{const{groupIndices:p}=Le(f);if(S>0)$(t,!0),$(s,S+fo(S,p));else if(S<0){const P=Le(b);P.length>0&&(S-=fo(-S,P)),$(l,S)}}),ne(w(i,W(e)),([S,p])=>{S<0&&p("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:i},ke.ERROR)});const C=Me(s);H(w(s,W(f),L(([S,p])=>{const P=p.groupIndices.length>0,_=[],O=p.lastSize;if(P){const M=kt(p.sizeTree,0);let V=0,G=0;for(;V<S;){const N=p.groupIndices[G],X=p.groupIndices.length===G+1?1/0:p.groupIndices[G+1]-N-1;_.push({startIndex:N,endIndex:N,size:M}),_.push({startIndex:N+1,endIndex:N+1+X-1,size:O}),G++,V+=X+1}const J=ft(p.sizeTree);return V!==S&&J.shift(),J.reduce((N,{k:X,v:ae})=>{let ue=N.ranges;return N.prevSize!==0&&(ue=[...N.ranges,{startIndex:N.prevIndex,endIndex:X+S-1,size:N.prevSize}]),{ranges:ue,prevIndex:X+S,prevSize:ae}},{ranges:_,prevIndex:S,prevSize:0}).ranges}return ft(p.sizeTree).reduce((M,{k:V,v:G})=>({ranges:[...M.ranges,{startIndex:M.prevIndex,endIndex:V+S-1,size:M.prevSize}],prevIndex:V+S,prevSize:G}),{ranges:[],prevIndex:0,prevSize:O}).ranges})),n);const T=Me(w(l,W(f,I),L(([S,{offsetTree:p},P])=>{const _=-S;return Ht(_,p,P)})));return H(w(l,W(f,I),L(([S,p,P])=>{if(p.groupIndices.length>0){if(oe(p.sizeTree))return p;let O=bt();const M=Le(b);let V=0,G=0,J=0;for(;V<-S;){J=M[G];const N=M[G+1]-J-1;G++,V+=N+1}if(O=ft(p.sizeTree).reduce((N,{k:X,v:ae})=>_e(N,Math.max(0,X+S),ae),O),V!==-S){const N=kt(p.sizeTree,J);O=_e(O,0,N);const X=Ae(p.sizeTree,-S+1)[1];O=_e(O,1,X)}return{...p,sizeTree:O,..._n(p.offsetTree,0,O,P)}}else{const O=ft(p.sizeTree).reduce((M,{k:V,v:G})=>_e(M,Math.max(0,V+S),G),bt());return{...p,sizeTree:O,..._n(p.offsetTree,0,O,P)}}})),f),{data:g,totalCount:o,sizeRanges:n,groupIndices:c,defaultItemSize:a,fixedItemSize:u,unshiftWith:s,shiftWith:l,shiftWithOffset:T,beforeUnshiftWith:C,firstItemIndex:i,gap:I,sizes:f,listRefresh:d,statefulTotalCount:r,trackItemSizes:m,itemSize:h}},le(st,Vn),{singleton:!0}),ul=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function tr(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!ul)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const Dt=Q(([{sizes:e,totalCount:t,listRefresh:n,gap:o},{scrollingInProgress:r,viewportHeight:s,scrollTo:l,smoothScrollTargetReached:i,headerHeight:c,footerHeight:u,fixedHeaderHeight:a,fixedFooterHeight:h},{log:g}])=>{const I=K(),x=R(0);let f=null,b=null,m=null;function d(){f&&(f(),f=null),m&&(m(),m=null),b&&(clearTimeout(b),b=null),$(r,!1)}return H(w(I,W(e,s,t,x,c,u,g),W(o,a,h),L(([[C,T,S,p,P,_,O,M],V,G,J])=>{const k=tr(C),{align:N,behavior:X,offset:ae}=k,ue=p-1,me=Jo(k,T,ue);let ce=Ht(me,T.offsetTree,V)+_;N==="end"?(ce+=G+Ae(T.sizeTree,me)[1]-S+J,me===ue&&(ce+=O)):N==="center"?ce+=(G+Ae(T.sizeTree,me)[1]-S+J)/2:ce-=P,ae&&(ce+=ae);const Ie=Ee=>{d(),Ee?(M("retrying to scroll to",{location:C},ke.DEBUG),$(I,C)):M("list did not change, scroll successful",{},ke.DEBUG)};if(d(),X==="smooth"){let Ee=!1;m=ne(n,$e=>{Ee=Ee||$e}),f=Ze(i,()=>{Ie(Ee)})}else f=Ze(w(n,dl(150)),Ie);return b=setTimeout(()=>{d()},1200),$(r,!0),M("scrolling from index to",{index:me,top:ce,behavior:X},ke.DEBUG),{top:ce,behavior:X}})),l),{scrollToIndex:I,topListHeight:x}},le(Ge,Te,st),{singleton:!0});function dl(e){return t=>{const n=setTimeout(()=>{t(!1)},e);return o=>{o&&(t(!0),clearTimeout(n))}}}const Ft="up",Pt="down",fl="none",pl={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},ml=0,jt=Q(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:o,footerHeight:r,scrollBy:s}])=>{const l=R(!1),i=R(!0),c=K(),u=K(),a=R(4),h=R(ml),g=we(w(ao(w(B(t),wt(1),qe(!0)),w(B(t),wt(1),qe(!1),co(100))),se()),!1),I=we(w(ao(w(s,qe(!0)),w(s,qe(!1),co(200))),se()),!1);H(w(xe(B(t),B(h)),L(([d,C])=>d<=C),se()),i),H(w(i,nt(50)),u);const x=Me(w(xe(e,B(n),B(o),B(r),B(a)),Ve((d,[{scrollTop:C,scrollHeight:T},S,p,P,_])=>{const O=C+S-T>-_,M={viewportHeight:S,scrollTop:C,scrollHeight:T};if(O){let G,J;return C>d.state.scrollTop?(G="SCROLLED_DOWN",J=d.state.scrollTop-C):(G="SIZE_DECREASED",J=d.state.scrollTop-C||d.scrollTopDelta),{atBottom:!0,state:M,atBottomBecause:G,scrollTopDelta:J}}let V;return M.scrollHeight>d.state.scrollHeight?V="SIZE_INCREASED":S<d.state.viewportHeight?V="VIEWPORT_HEIGHT_DECREASING":C<d.state.scrollTop?V="SCROLLING_UPWARDS":V="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:V,state:M}},pl),se((d,C)=>d&&d.atBottom===C.atBottom))),f=we(w(e,Ve((d,{scrollTop:C,scrollHeight:T,viewportHeight:S})=>{if(Wo(d.scrollHeight,T))return{scrollTop:C,scrollHeight:T,jump:0,changed:!1};{const p=T-(C+S)<1;return d.scrollTop!==C&&p?{scrollHeight:T,scrollTop:C,jump:d.scrollTop-C,changed:!0}:{scrollHeight:T,scrollTop:C,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),D(d=>d.changed),L(d=>d.jump)),0);H(w(x,L(d=>d.atBottom)),l),H(w(l,nt(50)),c);const b=R(Pt);H(w(e,L(({scrollTop:d})=>d),se(),Ve((d,C)=>Le(I)?{direction:d.direction,prevScrollTop:C}:{direction:C<d.prevScrollTop?Ft:Pt,prevScrollTop:C},{direction:Pt,prevScrollTop:0}),L(d=>d.direction)),b),H(w(e,nt(50),qe(fl)),b);const m=R(0);return H(w(g,D(d=>!d),qe(0)),m),H(w(t,nt(100),W(g),D(([d,C])=>!!C),Ve(([d,C],[T])=>[C,T],[0,0]),L(([d,C])=>C-d)),m),{isScrolling:g,isAtTop:i,isAtBottom:l,atBottomState:x,atTopStateChange:u,atBottomStateChange:c,scrollDirection:b,atBottomThreshold:a,atTopThreshold:h,scrollVelocity:m,lastJumpDueToItemResize:f}},le(Te)),lt=Q(([{log:e}])=>{const t=R(!1),n=Me(w(t,D(o=>o),se()));return ne(t,o=>{o&&Le(e)("props updated",{},ke.DEBUG)}),{propsReady:t,didMount:n}},le(st),{singleton:!0});function $n(e,t){e==0?t():requestAnimationFrame(()=>$n(e-1,t))}function Wn(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}const At=Q(([{sizes:e,listRefresh:t,defaultItemSize:n},{scrollTop:o},{scrollToIndex:r},{didMount:s}])=>{const l=R(!0),i=R(0),c=R(!1);return H(w(s,W(i),D(([u,a])=>!!a),qe(!1)),l),ne(w(xe(t,s),W(l,e,n,c),D(([[,u],a,{sizeTree:h},g,I])=>u&&(!oe(h)||jn(g))&&!a&&!I),W(i)),([,u])=>{$(c,!0),$n(3,()=>{Ze(o,()=>$(l,!0)),$(r,u)})}),{scrolledToInitialItem:l,initialTopMostItemIndex:i}},le(Ge,Te,Dt,lt),{singleton:!0});function po(e){return e?e==="smooth"?"smooth":"auto":!1}const hl=(e,t)=>typeof e=="function"?po(e(t)):t&&po(e),gl=Q(([{totalCount:e,listRefresh:t},{isAtBottom:n,atBottomState:o},{scrollToIndex:r},{scrolledToInitialItem:s},{propsReady:l,didMount:i},{log:c},{scrollingInProgress:u}])=>{const a=R(!1),h=K();let g=null;function I(f){$(r,{index:"LAST",align:"end",behavior:f})}ne(w(xe(w(B(e),wt(1)),i),W(B(a),n,s,u),L(([[f,b],m,d,C,T])=>{let S=b&&C,p="auto";return S&&(p=hl(m,d||T),S=S&&!!p),{totalCount:f,shouldFollow:S,followOutputBehavior:p}}),D(({shouldFollow:f})=>f)),({totalCount:f,followOutputBehavior:b})=>{g&&(g(),g=null),g=Ze(t,()=>{Le(c)("following output to ",{totalCount:f},ke.DEBUG),I(b),g=null})});function x(f){const b=Ze(o,m=>{f&&!m.atBottom&&m.notAtBottomBecause==="SIZE_INCREASED"&&!g&&(Le(c)("scrolling to bottom due to increased size",{},ke.DEBUG),I("auto"))});setTimeout(b,100)}return ne(w(xe(B(a),e,l),D(([f,,b])=>f&&b),Ve(({value:f},[,b])=>({refreshed:f===b,value:b}),{refreshed:!1,value:0}),D(({refreshed:f})=>f),W(a,e)),([,f])=>{x(f!==!1)}),ne(h,()=>{x(Le(a)!==!1)}),ne(xe(B(a),o),([f,b])=>{f&&!b.atBottom&&b.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&I("auto")}),{followOutput:a,autoscrollToBottom:h}},le(Ge,jt,Dt,At,lt,st,Te));function xl(e){return e.reduce((t,n)=>(t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t),{totalCount:0,groupIndices:[]})}const nr=Q(([{totalCount:e,groupIndices:t,sizes:n},{scrollTop:o,headerHeight:r}])=>{const s=K(),l=K(),i=Me(w(s,L(xl)));return H(w(i,L(c=>c.totalCount)),e),H(w(i,L(c=>c.groupIndices)),t),H(w(xe(o,n,r),D(([c,u])=>un(u)),L(([c,u,a])=>Ae(u.groupOffsetTree,Math.max(c-a,0),"v")[0]),se(),L(c=>[c])),l),{groupCounts:s,topItemsIndexes:l}},le(Ge,Te));function Nt(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function or(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const tn="top",nn="bottom",mo="none";function ho(e,t,n){return typeof e=="number"?n===Ft&&t===tn||n===Pt&&t===nn?e:0:n===Ft?t===tn?e.main:e.reverse:t===nn?e.main:e.reverse}function go(e,t){return typeof e=="number"?e:e[t]||0}const Un=Q(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:o,fixedHeaderHeight:r}])=>{const s=K(),l=R(0),i=R(0),c=R(0),u=we(w(xe(B(e),B(t),B(o),B(s,Nt),B(c),B(l),B(r),B(n),B(i)),L(([a,h,g,[I,x],f,b,m,d,C])=>{const T=a-d,S=b+m,p=Math.max(g-T,0);let P=mo;const _=go(C,tn),O=go(C,nn);return I-=d,I+=g+m,x+=g+m,x-=d,I>a+S-_&&(P=Ft),x<a-p+h+O&&(P=Pt),P!==mo?[Math.max(T-g-ho(f,tn,P)-_,0),T-p-m+h+ho(f,nn,P)+O]:null}),D(a=>a!=null),se(Nt)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:l,increaseViewportBy:i,visibleRange:u}},le(Te),{singleton:!0});function Sl(e,t,n){if(un(t)){const o=er(e,t);return[{index:Ae(t.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}const vn={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function xo(e,t,n){if(e.length===0)return[];if(!un(t))return e.map(u=>({...u,index:u.index+n,originalIndex:u.index}));const o=e[0].index,r=e[e.length-1].index,s=[],l=an(t.groupOffsetTree,o,r);let i,c=0;for(const u of e){(!i||i.end<u.index)&&(i=l.shift(),c=t.groupIndices.indexOf(i.start));let a;u.index===i.start?a={type:"group",index:c}:a={index:u.index-(c+1)+n,groupIndex:c},s.push({...a,size:u.size,offset:u.offset,originalIndex:u.index,data:u.data})}return s}function Qt(e,t,n,o,r,s){const{lastSize:l,lastOffset:i,lastIndex:c}=r;let u=0,a=0;if(e.length>0){u=e[0].offset;const f=e[e.length-1];a=f.offset+f.size}const h=n-c,g=i+h*l+(h-1)*o,I=u,x=g-a;return{items:xo(e,r,s),topItems:xo(t,r,s),topListHeight:t.reduce((f,b)=>b.size+f,0),offsetTop:u,offsetBottom:x,top:I,bottom:a,totalCount:n,firstItemIndex:s}}function rr(e,t,n,o,r,s){let l=0;if(n.groupIndices.length>0)for(const a of n.groupIndices){if(a-l>=e)break;l++}const i=e+l,c=Wn(t,i),u=Array.from({length:i}).map((a,h)=>({index:h+c,size:0,offset:0,data:s[h+c]}));return Qt(u,[],i,r,n,o)}const xt=Q(([{sizes:e,totalCount:t,data:n,firstItemIndex:o,gap:r},s,{visibleRange:l,listBoundary:i,topListHeight:c},{scrolledToInitialItem:u,initialTopMostItemIndex:a},{topListHeight:h},g,{didMount:I},{recalcInProgress:x}])=>{const f=R([]),b=R(0),m=K();H(s.topItemsIndexes,f);const d=we(w(xe(I,x,B(l,Nt),B(t),B(e),B(a),u,B(f),B(o),B(r),n),D(([p,P,,_,,,,,,,O])=>{const M=O&&O.length!==_;return p&&!P&&!M}),L(([,,[p,P],_,O,M,V,G,J,k,N])=>{const X=O,{sizeTree:ae,offsetTree:ue}=X,me=Le(b);if(_===0)return{...vn,totalCount:_};if(p===0&&P===0)return me===0?{...vn,totalCount:_}:rr(me,M,O,J,k,N||[]);if(oe(ae))return me>0?null:Qt(Sl(Wn(M,_),X,N),[],_,k,X,J);const ce=[];if(G.length>0){const Ce=G[0],E=G[G.length-1];let z=0;for(const Z of an(ae,Ce,E)){const re=Z.value,q=Math.max(Z.start,Ce),ye=Math.min(Z.end,E);for(let j=q;j<=ye;j++)ce.push({index:j,size:re,offset:z,data:N&&N[j]}),z+=re}}if(!V)return Qt([],ce,_,k,X,J);const Ie=G.length>0?G[G.length-1]+1:0,Ee=sl(ue,p,P,Ie);if(Ee.length===0)return null;const $e=_-1,Be=cn([],Ce=>{for(const E of Ee){const z=E.value;let Z=z.offset,re=E.start;const q=z.size;if(z.offset<p){re+=Math.floor((p-z.offset+k)/(q+k));const j=re-E.start;Z+=j*q+j*k}re<Ie&&(Z+=(Ie-re)*q,re=Ie);const ye=Math.min(E.end,$e);for(let j=re;j<=ye&&!(Z>=P);j++)Ce.push({index:j,size:q,offset:Z,data:N&&N[j]}),Z+=q+k}});return Qt(Be,ce,_,k,X,J)}),D(p=>p!==null),se()),vn);H(w(n,D(jn),L(p=>p?.length)),t),H(w(d,L(p=>p.topListHeight)),h),H(h,c),H(w(d,L(p=>[p.top,p.bottom])),i),H(w(d,L(p=>p.items)),m);const C=Me(w(d,D(({items:p})=>p.length>0),W(t,n),D(([{items:p},P])=>p[p.length-1].originalIndex===P-1),L(([,p,P])=>[p-1,P]),se(Nt),L(([p])=>p))),T=Me(w(d,nt(200),D(({items:p,topItems:P})=>p.length>0&&p[0].originalIndex===P.length),L(({items:p})=>p[0].index),se())),S=Me(w(d,D(({items:p})=>p.length>0),L(({items:p})=>{let P=0,_=p.length-1;for(;p[P].type==="group"&&P<_;)P++;for(;p[_].type==="group"&&_>P;)_--;return{startIndex:p[P].index,endIndex:p[_].index}}),se(or)));return{listState:d,topItemsIndexes:f,endReached:C,startReached:T,rangeChanged:S,itemsRendered:m,initialItemCount:b,...g}},le(Ge,nr,Un,At,Dt,jt,lt,Vn),{singleton:!0}),vl=Q(([{sizes:e,firstItemIndex:t,data:n,gap:o},{initialTopMostItemIndex:r},{initialItemCount:s,listState:l},{didMount:i}])=>(H(w(i,W(s),D(([,c])=>c!==0),W(r,e,t,o,n),L(([[,c],u,a,h,g,I=[]])=>rr(c,u,a,h,g,I))),l),{}),le(Ge,At,xt,lt),{singleton:!0}),sr=Q(([{scrollVelocity:e}])=>{const t=R(!1),n=K(),o=R(!1);return H(w(e,W(o,t,n),D(([r,s])=>!!s),L(([r,s,l,i])=>{const{exit:c,enter:u}=s;if(l){if(c(r,i))return!1}else if(u(r,i))return!0;return l}),se()),t),ne(w(xe(t,e,n),W(o)),([[r,s,l],i])=>r&&i&&i.change&&i.change(s,l)),{isSeeking:t,scrollSeekConfiguration:o,scrollVelocity:e,scrollSeekRangeChanged:n}},le(jt),{singleton:!0}),Il=Q(([{topItemsIndexes:e}])=>{const t=R(0);return H(w(t,D(n=>n>0),L(n=>Array.from({length:n}).map((o,r)=>r))),e),{topItemCount:t}},le(xt)),lr=Q(([{footerHeight:e,headerHeight:t,fixedHeaderHeight:n,fixedFooterHeight:o},{listState:r}])=>{const s=K(),l=we(w(xe(e,o,t,n,r),L(([i,c,u,a,h])=>i+c+u+a+h.offsetBottom+h.bottom)),0);return H(B(l),s),{totalListHeight:l,totalListHeightChanged:s}},le(Te,xt),{singleton:!0});function ir(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const Cl=ir(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),bl=Q(([{scrollBy:e,scrollTop:t,deviation:n,scrollingInProgress:o},{isScrolling:r,isAtBottom:s,scrollDirection:l,lastJumpDueToItemResize:i},{listState:c},{beforeUnshiftWith:u,shiftWithOffset:a,sizes:h,gap:g},{log:I},{recalcInProgress:x}])=>{const f=Me(w(c,W(i),Ve(([,m,d,C],[{items:T,totalCount:S,bottom:p,offsetBottom:P},_])=>{const O=p+P;let M=0;return d===S&&m.length>0&&T.length>0&&(T[0].originalIndex===0&&m[0].originalIndex===0||(M=O-C,M!==0&&(M+=_))),[M,T,S,O]},[0,[],0,0]),D(([m])=>m!==0),W(t,l,o,s,I,x),D(([,m,d,C,,,T])=>!T&&!C&&m!==0&&d===Ft),L(([[m],,,,,d])=>(d("Upward scrolling compensation",{amount:m},ke.DEBUG),m))));function b(m){m>0?($(e,{top:-m,behavior:"auto"}),$(n,0)):($(n,0),$(e,{top:-m,behavior:"auto"}))}return ne(w(f,W(n,r)),([m,d,C])=>{C&&Cl()?$(n,d-m):b(-m)}),ne(w(xe(we(r,!1),n,x),D(([m,d,C])=>!m&&!C&&d!==0),L(([m,d])=>d),nt(1)),b),H(w(a,L(m=>({top:-m}))),e),ne(w(u,W(h,g),L(([m,{lastSize:d,groupIndices:C,sizeTree:T},S])=>{function p(P){return P*(d+S)}if(C.length===0)return p(m);{let P=0;const _=kt(T,0);let O=0,M=0;for(;O<m;){O++,P+=_;let V=C.length===M+1?1/0:C[M+1]-C[M]-1;O+V>m&&(P-=_,V=m-O+1),O+=V,P+=p(V),M++}return P}})),m=>{$(n,m),requestAnimationFrame(()=>{$(e,{top:m}),requestAnimationFrame(()=>{$(n,0),$(x,!1)})})}),{deviation:n}},le(Te,jt,xt,Ge,st,Vn)),wl=Q(([{didMount:e},{scrollTo:t},{listState:n}])=>{const o=R(0);return ne(w(e,W(o),D(([,r])=>r!==0),L(([,r])=>({top:r}))),r=>{Ze(w(n,wt(1),D(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{$(t,r)})})}),{initialScrollTop:o}},le(lt,Te,xt),{singleton:!0}),yl=Q(([{viewportHeight:e},{totalListHeight:t}])=>{const n=R(!1),o=we(w(xe(n,e,t),D(([r])=>r),L(([,r,s])=>Math.max(0,r-s)),nt(0),se()),0);return{alignToBottom:n,paddingTopAddition:o}},le(Te,lr),{singleton:!0}),Yn=Q(([{scrollTo:e,scrollContainerState:t}])=>{const n=K(),o=K(),r=K(),s=R(!1),l=R(void 0);return H(w(xe(n,o),L(([{viewportHeight:i,scrollTop:c,scrollHeight:u},{offsetTop:a}])=>({scrollTop:Math.max(0,c-a),scrollHeight:u,viewportHeight:i}))),t),H(w(e,W(o),L(([i,{offsetTop:c}])=>({...i,top:i.top+c}))),r),{useWindowScroll:s,customScrollParent:l,windowScrollContainerState:n,windowViewportRect:o,windowScrollTo:r}},le(Te)),Tl=({itemTop:e,itemBottom:t,viewportTop:n,viewportBottom:o,locationParams:{behavior:r,align:s,...l}})=>e<n?{...l,behavior:r,align:s??"start"}:t>o?{...l,behavior:r,align:s??"end"}:null,El=Q(([{sizes:e,totalCount:t,gap:n},{scrollTop:o,viewportHeight:r,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:i,scrollingInProgress:c},{scrollToIndex:u}])=>{const a=K();return H(w(a,W(e,r,t,s,l,i,o),W(n),L(([[h,g,I,x,f,b,m,d],C])=>{const{done:T,behavior:S,align:p,calculateViewLocation:P=Tl,..._}=h,O=Jo(h,g,x-1),M=Ht(O,g.offsetTree,C)+f+b,V=M+Ae(g.sizeTree,O)[1],G=d+b,J=d+I-m,k=P({itemTop:M,itemBottom:V,viewportTop:G,viewportBottom:J,locationParams:{behavior:S,align:p,..._}});return k?T&&Ze(w(c,D(N=>N===!1),wt(Le(c)?1:2)),T):T&&T(),k}),D(h=>h!==null)),u),{scrollIntoView:a}},le(Ge,Te,Dt,xt,st),{singleton:!0}),Rl=Q(([{sizes:e,sizeRanges:t},{scrollTop:n},{initialTopMostItemIndex:o},{didMount:r},{useWindowScroll:s,windowScrollContainerState:l,windowViewportRect:i}])=>{const c=K(),u=R(void 0),a=R(null),h=R(null);return H(l,a),H(i,h),ne(w(c,W(e,n,s,a,h)),([g,I,x,f,b,m])=>{const d=cl(I.sizeTree);f&&b!==null&&m!==null&&(x=b.scrollTop-m.offsetTop),g({ranges:d,scrollTop:x})}),H(w(u,D(jn),L(Pl)),o),H(w(r,W(u),D(([,g])=>g!==void 0),se(),L(([,g])=>g.ranges)),t),{getState:c,restoreStateFrom:u}},le(Ge,Te,At,lt,Yn));function Pl(e){return{offset:e.scrollTop,index:0,align:"start"}}const Ol=Q(([e,t,n,o,r,s,l,i,c,u])=>({...e,...t,...n,...o,...r,...s,...l,...i,...c,...u}),le(Un,vl,lt,sr,lr,wl,yl,Yn,El,st)),cr=Q(([{totalCount:e,sizeRanges:t,fixedItemSize:n,defaultItemSize:o,trackItemSizes:r,itemSize:s,data:l,firstItemIndex:i,groupIndices:c,statefulTotalCount:u,gap:a,sizes:h},{initialTopMostItemIndex:g,scrolledToInitialItem:I},x,f,b,{listState:m,topItemsIndexes:d,...C},{scrollToIndex:T},S,{topItemCount:p},{groupCounts:P},_])=>(H(C.rangeChanged,_.scrollSeekRangeChanged),H(w(_.windowViewportRect,L(O=>O.visibleHeight)),x.viewportHeight),{totalCount:e,data:l,firstItemIndex:i,sizeRanges:t,initialTopMostItemIndex:g,scrolledToInitialItem:I,topItemsIndexes:d,topItemCount:p,groupCounts:P,fixedItemHeight:n,defaultItemHeight:o,gap:a,...b,statefulTotalCount:u,listState:m,scrollToIndex:T,trackItemSizes:r,itemSize:s,groupIndices:c,...C,..._,...x,sizes:h,...f}),le(Ge,At,Te,Rl,gl,xt,Dt,bl,Il,nr,Ol)),In="-webkit-sticky",So="sticky",ar=ir(()=>{if(typeof document>"u")return So;const e=document.createElement("div");return e.style.position=In,e.style.position===In?In:So});function ur(e,t){const n=y.useRef(null),o=y.useCallback(i=>{if(i===null||!i.offsetParent)return;const c=i.getBoundingClientRect(),u=c.width;let a,h;if(t){const g=t.getBoundingClientRect(),I=c.top-g.top;a=g.height-Math.max(0,I),h=I+t.scrollTop}else a=window.innerHeight-Math.max(0,c.top),h=c.top+window.pageYOffset;n.current={offsetTop:h,visibleHeight:a,visibleWidth:u},e(n.current)},[e,t]),{callbackRef:r,ref:s}=zn(o),l=y.useCallback(()=>{o(s.current)},[o,s]);return y.useEffect(()=>{if(t){t.addEventListener("scroll",l);const i=new ResizeObserver(l);return i.observe(t),()=>{t.removeEventListener("scroll",l),i.unobserve(t)}}else return window.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[l,t]),r}const dr=y.createContext(void 0),fr=y.createContext(void 0);function Kn(e){return e}const _l=Q(()=>{const e=R(c=>`Item ${c}`),t=R(null),n=R(c=>`Group ${c}`),o=R({}),r=R(Kn),s=R("div"),l=R(ht),i=(c,u=null)=>we(w(o,L(a=>a[c]),se()),u);return{context:t,itemContent:e,groupContent:n,components:o,computeItemKey:r,headerFooterTag:s,scrollerRef:l,FooterComponent:i("Footer"),HeaderComponent:i("Header"),TopItemListComponent:i("TopItemList"),ListComponent:i("List","div"),ItemComponent:i("Item","div"),GroupComponent:i("Group","div"),ScrollerComponent:i("Scroller","div"),EmptyPlaceholder:i("EmptyPlaceholder"),ScrollSeekPlaceholder:i("ScrollSeekPlaceholder")}}),Ll=Q(([e,t])=>({...e,...t}),le(cr,_l)),Ml=({height:e})=>y.createElement("div",{style:{height:e}}),kl={position:ar(),zIndex:1,overflowAnchor:"none"},Hl={overflowAnchor:"none"},vo=y.memo(function({showTopList:t=!1}){const n=Y("listState"),o=Fe("sizeRanges"),r=Y("useWindowScroll"),s=Y("customScrollParent"),l=Fe("windowScrollContainerState"),i=Fe("scrollContainerState"),c=s||r?l:i,u=Y("itemContent"),a=Y("context"),h=Y("groupContent"),g=Y("trackItemSizes"),I=Y("itemSize"),x=Y("log"),f=Fe("gap"),{callbackRef:b}=qs(o,I,g,t?ht:c,x,f,s),[m,d]=y.useState(0);qn("deviation",k=>{m!==k&&d(k)});const C=Y("EmptyPlaceholder"),T=Y("ScrollSeekPlaceholder")||Ml,S=Y("ListComponent"),p=Y("ItemComponent"),P=Y("GroupComponent"),_=Y("computeItemKey"),O=Y("isSeeking"),M=Y("groupIndices").length>0,V=Y("paddingTopAddition"),G=Y("scrolledToInitialItem"),J=t?{}:{boxSizing:"border-box",paddingTop:n.offsetTop+V,paddingBottom:n.offsetBottom,marginTop:m,...G?{}:{visibility:"hidden"}};return!t&&n.totalCount===0&&C?y.createElement(C,Re(C,a)):y.createElement(S,{...Re(S,a),ref:b,style:J,"data-test-id":t?"virtuoso-top-item-list":"virtuoso-item-list"},(t?n.topItems:n.items).map(k=>{const N=k.originalIndex,X=_(N+n.firstItemIndex,k.data,a);return O?y.createElement(T,{...Re(T,a),key:X,index:k.index,height:k.size,type:k.type||"item",...k.type==="group"?{}:{groupIndex:k.groupIndex}}):k.type==="group"?y.createElement(P,{...Re(P,a),key:X,"data-index":N,"data-known-size":k.size,"data-item-index":k.index,style:kl},h(k.index,a)):y.createElement(p,{...Re(p,a),...Bl(p,k.data),key:X,"data-index":N,"data-known-size":k.size,"data-item-index":k.index,"data-item-group-index":k.groupIndex,style:Hl},M?u(k.index,k.groupIndex,k.data,a):u(k.index,k.data,a))}))}),Fl={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},dn={width:"100%",height:"100%",position:"absolute",top:0},Nl={width:"100%",position:ar(),top:0,zIndex:1};function Re(e,t){if(typeof e!="string")return{context:t}}function Bl(e,t){return{item:typeof e=="string"?void 0:t}}const Dl=y.memo(function(){const t=Y("HeaderComponent"),n=Fe("headerHeight"),o=Y("headerFooterTag"),r=gt(l=>n(ot(l,"height"))),s=Y("context");return t?y.createElement(o,{ref:r},y.createElement(t,Re(t,s))):null}),jl=y.memo(function(){const t=Y("FooterComponent"),n=Fe("footerHeight"),o=Y("headerFooterTag"),r=gt(l=>n(ot(l,"height"))),s=Y("context");return t?y.createElement(o,{ref:r},y.createElement(t,Re(t,s))):null});function pr({usePublisher:e,useEmitter:t,useEmitterValue:n}){return y.memo(function({style:s,children:l,...i}){const c=e("scrollContainerState"),u=n("ScrollerComponent"),a=e("smoothScrollTargetReached"),h=n("scrollerRef"),g=n("context"),{scrollerRef:I,scrollByCallback:x,scrollToCallback:f}=Uo(c,a,u,h);return t("scrollTo",f),t("scrollBy",x),y.createElement(u,{ref:I,style:{...Fl,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...i,...Re(u,g)},l)})}function mr({usePublisher:e,useEmitter:t,useEmitterValue:n}){return y.memo(function({style:s,children:l,...i}){const c=e("windowScrollContainerState"),u=n("ScrollerComponent"),a=e("smoothScrollTargetReached"),h=n("totalListHeight"),g=n("deviation"),I=n("customScrollParent"),x=n("context"),{scrollerRef:f,scrollByCallback:b,scrollToCallback:m}=Uo(c,a,u,ht,I);return Us(()=>(f.current=I||window,()=>{f.current=null}),[f,I]),t("windowScrollTo",m),t("scrollBy",b),y.createElement(u,{style:{position:"relative",...s,...h!==0?{height:h+g}:{}},"data-virtuoso-scroller":!0,...i,...Re(u,x)},l)})}const Al=({children:e})=>{const t=y.useContext(dr),n=Fe("viewportHeight"),o=Fe("fixedItemHeight"),r=gt(zo(n,s=>ot(s,"height")));return y.useEffect(()=>{t&&(n(t.viewportHeight),o(t.itemHeight))},[t,n,o]),y.createElement("div",{style:dn,ref:r,"data-viewport-type":"element"},e)},zl=({children:e})=>{const t=y.useContext(dr),n=Fe("windowViewportRect"),o=Fe("fixedItemHeight"),r=Y("customScrollParent"),s=ur(n,r);return y.useEffect(()=>{t&&(o(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,o]),y.createElement("div",{ref:s,style:dn,"data-viewport-type":"window"},e)},Vl=({children:e})=>{const t=Y("TopItemListComponent"),n=Y("headerHeight"),o={...Nl,marginTop:`${n}px`},r=Y("context");return y.createElement(t||"div",{style:o,context:r},e)},Gl=y.memo(function(t){const n=Y("useWindowScroll"),o=Y("topItemsIndexes").length>0,r=Y("customScrollParent"),s=r||n?Ul:Wl,l=r||n?zl:Al;return y.createElement(s,{...t},o&&y.createElement(Vl,null,y.createElement(vo,{showTopList:!0})),y.createElement(l,null,y.createElement(Dl,null),y.createElement(vo,null),y.createElement(jl,null)))}),{Component:$l,usePublisher:Fe,useEmitterValue:Y,useEmitter:qn}=$o(Ll,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Gl),Wl=pr({usePublisher:Fe,useEmitterValue:Y,useEmitter:qn}),Ul=mr({usePublisher:Fe,useEmitterValue:Y,useEmitter:qn}),Yl=$l,Io={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Kl={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Co,ceil:bo,floor:on,min:Cn,max:Ot}=Math;function ql(e){return{...Kl,items:e}}function wo(e,t,n){return Array.from({length:t-e+1}).map((o,r)=>{const s=n===null?null:n[r+e];return{index:r+e,data:s}})}function Xl(e,t){return e&&e.column===t.column&&e.row===t.row}function qt(e,t){return e&&e.width===t.width&&e.height===t.height}const Zl=Q(([{overscan:e,visibleRange:t,listBoundary:n},{scrollTop:o,viewportHeight:r,scrollBy:s,scrollTo:l,smoothScrollTargetReached:i,scrollContainerState:c,footerHeight:u,headerHeight:a},h,g,{propsReady:I,didMount:x},{windowViewportRect:f,useWindowScroll:b,customScrollParent:m,windowScrollContainerState:d,windowScrollTo:C},T])=>{const S=R(0),p=R(0),P=R(Io),_=R({height:0,width:0}),O=R({height:0,width:0}),M=K(),V=K(),G=R(0),J=R(null),k=R({row:0,column:0}),N=K(),X=K(),ae=R(!1),ue=R(0),me=R(!0),ce=R(!1);ne(w(x,W(ue),D(([E,z])=>!!z)),()=>{$(me,!1),$(p,0)}),ne(w(xe(x,me,O,_,ue,ce),D(([E,z,Z,re,,q])=>E&&!z&&Z.height!==0&&re.height!==0&&!q)),([,,,,E])=>{$(ce,!0),$n(1,()=>{$(M,E)}),Ze(w(o),()=>{$(n,[0,0]),$(me,!0)})}),H(w(X,D(E=>E!=null&&E.scrollTop>0),qe(0)),p),ne(w(x,W(X),D(([,E])=>E!=null)),([,E])=>{E&&($(_,E.viewport),$(O,E?.item),$(k,E.gap),E.scrollTop>0&&($(ae,!0),Ze(w(o,wt(1)),z=>{$(ae,!1)}),$(l,{top:E.scrollTop})))}),H(w(_,L(({height:E})=>E)),r),H(w(xe(B(_,qt),B(O,qt),B(k,(E,z)=>E&&E.column===z.column&&E.row===z.row),B(o)),L(([E,z,Z,re])=>({viewport:E,item:z,gap:Z,scrollTop:re}))),N),H(w(xe(B(S),t,B(k,Xl),B(O,qt),B(_,qt),B(J),B(p),B(ae),B(me),B(ue)),D(([,,,,,,,E])=>!E),L(([E,[z,Z],re,q,ye,j,Se,,We,he])=>{const{row:de,column:Qe}=re,{height:fe,width:be}=q,{width:St}=ye;if(Se===0&&(E===0||St===0))return Io;if(be===0){const Je=Wn(he,E),U=Je===0?Math.max(Se-1,0):Je;return ql(wo(Je,U,j))}const He=hr(St,be,Qe);let ze,De;We?z===0&&Z===0&&Se>0?(ze=0,De=Se-1):(ze=He*on((z+de)/(fe+de)),De=He*bo((Z+de)/(fe+de))-1,De=Cn(E-1,Ot(De,He-1)),ze=Cn(De,Ot(0,ze))):(ze=0,De=-1);const it=wo(ze,De,j),{top:ct,bottom:at}=yo(ye,re,q,it),Ue=bo(E/He),vt=Ue*fe+(Ue-1)*de-at;return{items:it,offsetTop:ct,offsetBottom:vt,top:ct,bottom:at,itemHeight:fe,itemWidth:be}})),P),H(w(J,D(E=>E!==null),L(E=>E.length)),S),H(w(xe(_,O,P,k),D(([E,z,{items:Z}])=>Z.length>0&&z.height!==0&&E.height!==0),L(([E,z,{items:Z},re])=>{const{top:q,bottom:ye}=yo(E,re,z,Z);return[q,ye]}),se(Nt)),n);const Ie=R(!1);H(w(o,W(Ie),L(([E,z])=>z||E!==0)),Ie);const Ee=Me(w(B(P),D(({items:E})=>E.length>0),W(S,Ie),D(([{items:E},z,Z])=>Z&&E[E.length-1].index===z-1),L(([,E])=>E-1),se())),$e=Me(w(B(P),D(({items:E})=>E.length>0&&E[0].index===0),qe(0),se())),Be=Me(w(B(P),W(ae),D(([{items:E},z])=>E.length>0&&!z),L(([{items:E}])=>({startIndex:E[0].index,endIndex:E[E.length-1].index})),se(or),nt(0)));H(Be,g.scrollSeekRangeChanged),H(w(M,W(_,O,S,k),L(([E,z,Z,re,q])=>{const ye=tr(E),{align:j,behavior:Se,offset:We}=ye;let he=ye.index;he==="LAST"&&(he=re-1),he=Ot(0,he,Cn(re-1,he));let de=Ln(z,q,Z,he);return j==="end"?de=Co(de-z.height+Z.height):j==="center"&&(de=Co(de-z.height/2+Z.height/2)),We&&(de+=We),{top:de,behavior:Se}})),l);const Ce=we(w(P,L(E=>E.offsetBottom+E.bottom)),0);return H(w(f,L(E=>({width:E.visibleWidth,height:E.visibleHeight}))),_),{data:J,totalCount:S,viewportDimensions:_,itemDimensions:O,scrollTop:o,scrollHeight:V,overscan:e,scrollBy:s,scrollTo:l,scrollToIndex:M,smoothScrollTargetReached:i,windowViewportRect:f,windowScrollTo:C,useWindowScroll:b,customScrollParent:m,windowScrollContainerState:d,deviation:G,scrollContainerState:c,footerHeight:u,headerHeight:a,initialItemCount:p,gap:k,restoreStateFrom:X,...g,initialTopMostItemIndex:ue,gridState:P,totalListHeight:Ce,...h,startReached:$e,endReached:Ee,rangeChanged:Be,stateChanged:N,propsReady:I,stateRestoreInProgress:ae,...T}},le(Un,Te,jt,sr,lt,Yn,st));function yo(e,t,n,o){const{height:r}=n;if(r===void 0||o.length===0)return{top:0,bottom:0};const s=Ln(e,t,n,o[0].index),l=Ln(e,t,n,o[o.length-1].index)+r;return{top:s,bottom:l}}function Ln(e,t,n,o){const r=hr(e.width,n.width,t.column),s=on(o/r),l=s*n.height+Ot(0,s-1)*t.row;return l>0?l+t.row:l}function hr(e,t,n){return Ot(1,on((e+n)/(on(t)+n)))}const Ql=Q(()=>{const e=R(u=>`Item ${u}`),t=R({}),n=R(null),o=R("virtuoso-grid-item"),r=R("virtuoso-grid-list"),s=R(Kn),l=R("div"),i=R(ht),c=(u,a=null)=>we(w(t,L(h=>h[u]),se()),a);return{context:n,itemContent:e,components:t,computeItemKey:s,itemClassName:o,listClassName:r,headerFooterTag:l,scrollerRef:i,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),Jl=Q(([e,t])=>({...e,...t}),le(Zl,Ql)),ei=y.memo(function(){const t=ie("gridState"),n=ie("listClassName"),o=ie("itemClassName"),r=ie("itemContent"),s=ie("computeItemKey"),l=ie("isSeeking"),i=je("scrollHeight"),c=ie("ItemComponent"),u=ie("ListComponent"),a=ie("ScrollSeekPlaceholder"),h=ie("context"),g=je("itemDimensions"),I=je("gap"),x=ie("log"),f=ie("stateRestoreInProgress"),b=gt(m=>{const d=m.parentElement.parentElement.scrollHeight;i(d);const C=m.firstChild;if(C){const{width:T,height:S}=C.getBoundingClientRect();g({width:T,height:S})}I({row:To("row-gap",getComputedStyle(m).rowGap,x),column:To("column-gap",getComputedStyle(m).columnGap,x)})});return f?null:y.createElement(u,{ref:b,className:n,...Re(u,h),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-test-id":"virtuoso-item-list"},t.items.map(m=>{const d=s(m.index,m.data,h);return l?y.createElement(a,{key:d,...Re(a,h),index:m.index,height:t.itemHeight,width:t.itemWidth}):y.createElement(c,{...Re(c,h),className:o,"data-index":m.index,key:d},r(m.index,m.data,h))}))}),ti=y.memo(function(){const t=ie("HeaderComponent"),n=je("headerHeight"),o=ie("headerFooterTag"),r=gt(l=>n(ot(l,"height"))),s=ie("context");return t?y.createElement(o,{ref:r},y.createElement(t,Re(t,s))):null}),ni=y.memo(function(){const t=ie("FooterComponent"),n=je("footerHeight"),o=ie("headerFooterTag"),r=gt(l=>n(ot(l,"height"))),s=ie("context");return t?y.createElement(o,{ref:r},y.createElement(t,Re(t,s))):null}),oi=({children:e})=>{const t=y.useContext(fr),n=je("itemDimensions"),o=je("viewportDimensions"),r=gt(s=>{o(s.getBoundingClientRect())});return y.useEffect(()=>{t&&(o({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,o,n]),y.createElement("div",{style:dn,ref:r},e)},ri=({children:e})=>{const t=y.useContext(fr),n=je("windowViewportRect"),o=je("itemDimensions"),r=ie("customScrollParent"),s=ur(n,r);return y.useEffect(()=>{t&&(o({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,o]),y.createElement("div",{ref:s,style:dn},e)},si=y.memo(function({...t}){const n=ie("useWindowScroll"),o=ie("customScrollParent"),r=o||n?ii:li,s=o||n?ri:oi;return y.createElement(r,{...t},y.createElement(s,null,y.createElement(ti,null),y.createElement(ei,null),y.createElement(ni,null)))}),{usePublisher:je,useEmitterValue:ie,useEmitter:gr}=$o(Jl,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},si),li=pr({usePublisher:je,useEmitterValue:ie,useEmitter:gr}),ii=mr({usePublisher:je,useEmitterValue:ie,useEmitter:gr});function To(e,t,n){return t!=="normal"&&!t?.endsWith("px")&&n(`${e} was not resolved to pixel value correctly`,t,ke.WARN),t==="normal"?0:parseInt(t??"0",10)}const ci=Q(()=>{const e=R(c=>y.createElement("td",null,"Item $",c)),t=R(null),n=R(null),o=R(null),r=R({}),s=R(Kn),l=R(ht),i=(c,u=null)=>we(w(r,L(a=>a[c]),se()),u);return{context:t,itemContent:e,fixedHeaderContent:n,fixedFooterContent:o,components:r,computeItemKey:s,scrollerRef:l,TableComponent:i("Table","table"),TableHeadComponent:i("TableHead","thead"),TableFooterComponent:i("TableFoot","tfoot"),TableBodyComponent:i("TableBody","tbody"),TableRowComponent:i("TableRow","tr"),ScrollerComponent:i("Scroller","div"),EmptyPlaceholder:i("EmptyPlaceholder"),ScrollSeekPlaceholder:i("ScrollSeekPlaceholder"),FillerRow:i("FillerRow")}});le(cr,ci);const ai=()=>{const t=cs(),n=te.useMemo(()=>({pageSize:10,...t}),[t]);return ls(ko.charts.search.infiniteQueryOptions(n,{getNextPageParam:o=>o.nextCursor,initialCursor:0}))},ui=()=>{const e=ai(),t=kn(),n=e.data?.pages.flatMap(o=>o.items.map(r=>v.jsx(ss,{chart:r},r.id)));return v.jsxs("div",{className:"top-list",children:[e.isError?v.jsx(to,{radius:"md",variant:"light",color:"red",title:t.ERROR,icon:v.jsx(es,{}),children:e.error instanceof Error?e.error.message:t.SOMETHING_WENT_WRONG}):e.isFetched&&!n?.length?v.jsx(to,{radius:"md",variant:"default",title:t.NOTHING_FOUND,icon:v.jsx(ts,{})}):n?.length?v.jsx(Yl,{endReached:()=>{e.hasNextPage&&e.fetchNextPage()},useWindowScroll:!0,data:n,itemContent:o=>n[o]}):null,e.isFetching&&v.jsx(Rt,{className:"loader"})]})},di="_highlight_uraco_1",Xt={highlight:di};function Eo({children:e,title:t,buttonClassName:n}){const[o,{toggle:r}]=is(!1);return v.jsxs(Hn,{gap:"xs",children:[v.jsx(Xe,{className:n,variant:"light",justify:"start",onClick:r,leftSection:v.jsx(ns,{style:o?{transform:"rotate(90deg)"}:{}}),children:t}),e&&v.jsx(Ho,{in:o,children:e})]})}const fi=({onReset:e,value:t,...n})=>v.jsx(Kr,{...n,value:t,rightSection:t?v.jsx(_o,{onClick:e}):null}),pi=()=>[{id:26}],mi=()=>{const e=pi();return qr(ko.players.list.queryOptions({mixes:e.map(t=>t.id)}))},hi="_toggleButton_1xoyf_1",gi={toggleButton:hi},xi=({pressed:e=!1,onToggle:t,children:n,className:o})=>v.jsx(Xe,{"aria-pressed":e,onClick:()=>t(!e),className:Xr(o,gi.toggleButton),children:n}),Ro=({options:e,onChange:t,selected:n})=>{const o=r=>{n.includes(r)?n.filter(l=>l!==r).length===0?t(e.map(l=>l.value)):t(n.filter(l=>l!==r)):t([...n,r])};return v.jsx(v.Fragment,{children:e.map(r=>v.jsx(xi,{pressed:n.includes(r.value),onToggle:()=>o(r.value),children:r.label},r.value))})};function Si({form:e,buttonClassName:t}){const n=kn(),o=e.values.levels??[1,28];return v.jsxs(gn,{children:[v.jsx(gn.Target,{children:v.jsx(Xe,{className:t,children:n.FILTER_CHARTS})}),v.jsx(gn.Dropdown,{bg:"var(--mantine-color-dark-6)",children:v.jsxs(Hn,{gap:"sm",align:"center",children:[v.jsx(Ct,{gap:"sm",children:v.jsx(Ro,{options:[{value:"S",label:"Single"},{value:"D",label:"Double"},{value:"COOP",label:"COOP"}],selected:e.values.labels??["S","D","COOP"],onChange:r=>e.setFieldValue("labels",r)})}),v.jsx(Ct,{gap:"sm",children:v.jsx(Ro,{options:["Full","Remix","Short","Standard"].map(r=>({value:r,label:r})),selected:e.values.durations??["Full","Remix","Short","Standard"],onChange:r=>e.setFieldValue("durations",r)})}),v.jsx(Dn,{mt:"xl",color:"grape",w:"100%",step:1,min:1,max:28,minRange:0,labelAlwaysOn:!0,...e.getInputProps("levels")}),v.jsxs(Ct,{w:"100%",gap:"sm",children:[v.jsx(Xe,{size:"xs",onClick:()=>{e.setFieldValue("levels",[Math.max(1,(o[0]??0)-1),o[1]??28])},children:"<"}),v.jsx(Xe,{size:"xs",onClick:()=>{const r=Math.min(28,Math.max(1,(o[0]??0)+1));e.setFieldValue("levels",[r,Math.max(r,Math.min(28,o[1]??28))])},children:">"}),v.jsx(Xe,{size:"xs",ml:"auto",onClick:()=>{const r=Math.max(1,Math.min(28,(o[1]??28)-1));e.setFieldValue("levels",[Math.min(r,o[0]??1),r])},children:"<"}),v.jsx(Xe,{size:"xs",onClick:()=>{e.setFieldValue("levels",[o[0]??1,Math.min(28,(o[1]??28)+1)])},children:">"})]})]})})]})}const vi=[{label:"Prime",value:"24"},{label:"Prime 2",value:"25"},{label:"XX",value:"26"},{label:"Phoenix",value:"27"}],Ii=[{label:"Phoenix",value:"phoenix"},{label:"XX",value:"xx"}],Ci=()=>{const e=mi(),t=Jr();return te.useMemo(()=>({isLoading:t.isLoading||e.isLoading,options:e.data?.map(({nickname:n,arcade_name:o,id:r})=>({label:`${n} (${o})`,value:`${r}`,isCurrentPlayer:t?.data?.id===r})).sort((n,o)=>n.isCurrentPlayer?-1:o.isCurrentPlayer?1:n.label.localeCompare(o.label))??[]}),[e.isLoading,t.isLoading,e.data,t.data?.id])},bi=({sortingType:e,mixes:t,playersSome:n,playersNone:o,playersAll:r,sortChartsByPlayers:s,levels:l,...i})=>({...i,sortChartsBy:e?.split(",")[0],sortChartsDir:e?.split(",")[1],mixes:t?.map(Number),playersAll:r?.map(Number),playersSome:n?.map(Number),playersNone:o?.map(Number),sortChartsByPlayers:s?.map(Number),minLevel:l?.[0],maxLevel:l?.[1]}),Po=e=>({...e,sortingType:e.sortChartsBy&&e.sortChartsDir?`${e.sortChartsBy},${e.sortChartsDir}`:"date,desc",mixes:e.mixes?.map(String)??["26","27"],playersAll:e.playersAll?.map(String)??[],playersSome:e.playersSome?.map(String)??[],playersNone:e.playersNone?.map(String)??[],sortChartsByPlayers:e.sortChartsByPlayers?.map(String)??[],levels:[e.minLevel??1,e.maxLevel??28],scoring:e.scoring??"phoenix"}),wi=()=>{const e=kn(),{options:t,isLoading:n}=Ci(),[o,r]=as(us),s=Zr({initialValues:Po(o)}),l=g=>{r({...o,...bi(g)})},i=()=>{const g=structuredClone(ds);r(g),s.setValues(Po(g))},c=te.useMemo(()=>[{label:e.BY_DATE_DESC,value:"date,desc"},{label:e.BY_DATE_ASC,value:"date,asc"},{label:e.BY_DIFFICULTY_ASC,value:"difficulty,asc"},{label:e.BY_DIFFICULTY_DESC,value:"difficulty,desc"},{label:e.BY_PP_DESC,value:"pp,desc"},{label:e.BY_PP_ASC,value:"pp,asc"}],[e]),u=!!o.playersAll?.length||!!o.playersSome?.length||!!o.playersNone?.length,a=o.sortChartsBy&&o.sortChartsBy!=="date"||o.sortChartsDir&&o.sortChartsDir!=="desc",h=o.labels&&o.labels.length!==3||o.durations&&o.durations.length!==4||o.minLevel&&o.minLevel!==1||o.maxLevel&&o.maxLevel!==28;return v.jsx("form",{onSubmit:s.onSubmit(l),children:v.jsxs(Hn,{gap:"sm",children:[v.jsxs(Ct,{gap:"md",grow:!0,children:[v.jsx(fi,{label:e.SONG_NAME_LABEL,placeholder:e.SONG_NAME_PLACEHOLDER,classNames:{input:o.songName?Xt.highlight:""},onReset:()=>s.setFieldValue("songName",""),...s.getInputProps("songName")}),v.jsx(dt,{label:e.MIXES_LABEL,checkIconPosition:"left",data:vi,...s.getInputProps("mixes")}),v.jsx(no,{label:e.SCORING_LABEL,data:Ii,...s.getInputProps("scoring")})]}),v.jsxs(Eo,{buttonClassName:u?Xt.highlight:"",title:e.FILTERS,children:[v.jsx(Qr,{children:e.SHOW_CHARTS_PLAYED_BY}),v.jsxs(Ct,{gap:"md",grow:!0,children:[v.jsx(dt,{label:e.EACH_OF_THESE,placeholder:e.PLAYERS_PLACEHOLDER,checkIconPosition:"left",data:t,rightSection:n?v.jsx(Rt,{}):null,nothingFoundMessage:e.NOTHING_FOUND,searchable:!0,...s.getInputProps("playersAll")}),v.jsx(dt,{label:e.AND_ANY_OF_THESE,placeholder:e.PLAYERS_PLACEHOLDER,checkIconPosition:"left",data:t,rightSection:n?v.jsx(Rt,{}):null,nothingFoundMessage:e.NOTHING_FOUND,searchable:!0,...s.getInputProps("playersSome")}),v.jsx(dt,{label:e.AND_NONE_OF_THESE,placeholder:e.PLAYERS_PLACEHOLDER,checkIconPosition:"left",data:t,rightSection:n?v.jsx(Rt,{}):null,nothingFoundMessage:e.NOTHING_FOUND,searchable:!0,...s.getInputProps("playersNone")})]})]}),v.jsxs(oo,{gap:"md",children:[v.jsx("div",{style:{flex:"1 1 auto"},children:v.jsx(Eo,{buttonClassName:a?Xt.highlight:"",title:e.SORTING,children:v.jsxs(Ct,{gap:"md",grow:!0,children:[v.jsx(no,{label:e.SORTING_LABEL,placeholder:e.SORTING_PLACEHOLDER,clearable:!1,data:c,...s.getInputProps("sortingType")}),v.jsx(dt,{label:e.PLAYER_LABEL,placeholder:e.PLAYERS_PLACEHOLDER,checkIconPosition:"left",data:t,rightSection:n?v.jsx(Rt,{}):null,nothingFoundMessage:e.NOTHING_FOUND,searchable:!0,...s.getInputProps("sortChartsByPlayers")})]})})}),v.jsx(Si,{buttonClassName:h?Xt.highlight:"",form:s})]}),v.jsxs(oo,{gap:"md",children:[v.jsx(Xe,{style:{flex:"1 1 auto"},leftSection:v.jsx(os,{}),type:"submit",children:e.SEARCH}),v.jsx(Xe,{leftSection:v.jsx(rs,{}),onClick:i,children:e.RESET_FILTERS})]})]})})},Hi=()=>v.jsx("div",{className:"leaderboard-page",children:v.jsxs("div",{className:"content",children:[v.jsx(wi,{}),v.jsx("div",{className:"top-list",children:v.jsx(ui,{})})]})});export{Hi as default};
//# sourceMappingURL=Leaderboards-Cu7FSSpQ.js.map
