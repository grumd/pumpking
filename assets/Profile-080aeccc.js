import{r as i,A as Le,p as _,s as ee,i as h,B as G,t as te,x as Se,y as Ae,a0 as st,v as K,a1 as ot,w as F,o as B,D as Ge,j as o,b as re,u as W,d as Ee,G as ct,N as lt,a2 as it,F as dt,a3 as ut}from"./index-82be7e26.js";import{c as De,u as ft,F as mt,a as ht}from"./FocusTrap-652e769e.js";import{n as ne,a as vt,O as pt,T as $e,t as gt,L as je,A as ge,G as Ce,w as O,C as yt,r as xt,x as ze,B as St}from"./timeAgo-cc33a152.js";import{u as Et,C as jt,A as bt}from"./Alert-3e4dc2f9.js";import{G as wt,a as Mt,b as Ct,c as Nt,d as _t,e as Rt,f as Bt,g as Tt,h as kt,i as Pt,j as Ot,k as It}from"./index.esm-96282398.js";import{c as Lt}from"./index-5cbd7a7b.js";import{S as L}from"./Stack-f0ef5972.js";import{T as w,G as be}from"./Text-5e35310d.js";import{S as Fe,G as At,a as Gt,D as Dt,u as $t,M as zt,E as Ft,b as Ht,P as Wt,c as Vt}from"./PpRankHistoryGraph-cc479f32.js";import"./index-55996473.js";import"./ExpRankImg-799de5a2.js";import"./BarChart-e5275049.js";var I=function(){return I=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},I.apply(this,arguments)};function Yt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Xt(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Z="right-scroll-bar-position",U="width-before-scroll-bar",qt="with-scroll-bars-hidden",Qt="--removed-body-scroll-bar-size";function me(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Zt(e,t){var r=i.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Ne=new WeakMap;function Ut(e,t){var r=Zt(t||null,function(n){return e.forEach(function(a){return me(a,n)})});return i.useLayoutEffect(function(){var n=Ne.get(r);if(n){var a=new Set(n),s=new Set(e),l=r.current;a.forEach(function(c){s.has(c)||me(c,null)}),s.forEach(function(c){a.has(c)||me(c,l)})}Ne.set(r,e)},[e]),r}var J=function(){return J=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},J.apply(this,arguments)};function Kt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Jt(e){return e}function er(e,t){t===void 0&&(t=Jt);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var l=t(s,n);return r.push(l),function(){r=r.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(n=!0;r.length;){var l=r;r=[],l.forEach(s)}r={push:function(c){return s(c)},filter:function(){return r}}},assignMedium:function(s){n=!0;var l=[];if(r.length){var c=r;r=[],c.forEach(s),l=r}var f=function(){var m=l;l=[],m.forEach(s)},u=function(){return Promise.resolve().then(f)};u(),r={push:function(m){l.push(m),u()},filter:function(m){return l=l.filter(m),r}}}};return a}function tr(e){e===void 0&&(e={});var t=er(null);return t.options=J({async:!0,ssr:!1},e),t}var He=function(e){var t=e.sideCar,r=Kt(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return i.createElement(n,J({},r))};He.isSideCarExport=!0;function rr(e,t){return e.useMedium(t),He}var We=tr(),he=function(){},ae=i.forwardRef(function(e,t){var r=i.useRef(null),n=i.useState({onScrollCapture:he,onWheelCapture:he,onTouchMoveCapture:he}),a=n[0],s=n[1],l=e.forwardProps,c=e.children,f=e.className,u=e.removeScrollBar,m=e.enabled,p=e.shards,g=e.sideCar,y=e.noIsolation,S=e.inert,d=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,j=Yt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=g,E=Ut([r,t]),P=I(I({},j),a);return i.createElement(i.Fragment,null,m&&i.createElement(M,{sideCar:We,removeScrollBar:u,shards:p,noIsolation:y,inert:S,setCallbacks:s,allowPinchZoom:!!d,lockRef:r,gapMode:b}),l?i.cloneElement(i.Children.only(c),I(I({},P),{ref:E})):i.createElement(x,I({},P,{className:f,ref:E}),c))});ae.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ae.classNames={fullWidth:U,zeroRight:Z};var _e,nr=function(){if(_e)return _e;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ar(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nr();return t&&e.setAttribute("nonce",t),e}function sr(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function or(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cr=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ar())&&(sr(t,r),or(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lr=function(){var e=cr();return function(t,r){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Ve=function(){var e=lr(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},ir={left:0,top:0,right:0,gap:0},ve=function(e){return parseInt(e||"",10)||0},dr=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ve(r),ve(n),ve(a)]},ur=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ir;var t=dr(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},fr=Ve(),mr=function(e,t,r,n){var a=e.left,s=e.top,l=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qt,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Z,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(U,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Z," .").concat(Z,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(U," .").concat(U,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body {
    `).concat(Qt,": ").concat(c,`px;
  }
`)},hr=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n,s=i.useMemo(function(){return ur(a)},[a]);return i.createElement(fr,{styles:mr(s,!t,a,r?"":"!important")})},ye=!1;if(typeof window<"u")try{var X=Object.defineProperty({},"passive",{get:function(){return ye=!0,!0}});window.addEventListener("test",X,X),window.removeEventListener("test",X,X)}catch{ye=!1}var $=ye?{passive:!1}:!1,vr=function(e){return e.tagName==="TEXTAREA"},Ye=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!vr(e)&&r[t]==="visible")},pr=function(e){return Ye(e,"overflowY")},gr=function(e){return Ye(e,"overflowX")},Re=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Xe(e,n);if(a){var s=qe(e,n),l=s[1],c=s[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},yr=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},xr=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Xe=function(e,t){return e==="v"?pr(t):gr(t)},qe=function(e,t){return e==="v"?yr(t):xr(t)},Sr=function(e,t){return e==="h"&&t==="rtl"?-1:1},Er=function(e,t,r,n,a){var s=Sr(e,window.getComputedStyle(t).direction),l=s*n,c=r.target,f=t.contains(c),u=!1,m=l>0,p=0,g=0;do{var y=qe(e,c),S=y[0],d=y[1],v=y[2],x=d-v-s*S;(S||x)&&Xe(e,c)&&(p+=x,g+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(t.contains(c)||t===c));return(m&&(a&&Math.abs(p)<1||!a&&l>p)||!m&&(a&&Math.abs(g)<1||!a&&-l>g))&&(u=!0),u},q=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Be=function(e){return[e.deltaX,e.deltaY]},Te=function(e){return e&&"current"in e?e.current:e},jr=function(e,t){return e[0]===t[0]&&e[1]===t[1]},br=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wr=0,z=[];function Mr(e){var t=i.useRef([]),r=i.useRef([0,0]),n=i.useRef(),a=i.useState(wr++)[0],s=i.useState(Ve)[0],l=i.useRef(e);i.useEffect(function(){l.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var d=Xt([e.lockRef.current],(e.shards||[]).map(Te),!0).filter(Boolean);return d.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),d.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=i.useCallback(function(d,v){if("touches"in d&&d.touches.length===2)return!l.current.allowPinchZoom;var x=q(d),b=r.current,j="deltaX"in d?d.deltaX:b[0]-x[0],M="deltaY"in d?d.deltaY:b[1]-x[1],E,P=d.target,A=Math.abs(j)>Math.abs(M)?"h":"v";if("touches"in d&&A==="h"&&P.type==="range")return!1;var D=Re(A,P);if(!D)return!0;if(D?E=A:(E=A==="v"?"h":"v",D=Re(A,P)),!D)return!1;if(!n.current&&"changedTouches"in d&&(j||M)&&(n.current=E),!E)return!0;var Y=n.current||E;return Er(Y,v,d,Y==="h"?j:M,!0)},[]),f=i.useCallback(function(d){var v=d;if(!(!z.length||z[z.length-1]!==s)){var x="deltaY"in v?Be(v):q(v),b=t.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&jr(E.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var j=(l.current.shards||[]).map(Te).filter(Boolean).filter(function(E){return E.contains(v.target)}),M=j.length>0?c(v,j[0]):!l.current.noIsolation;M&&v.cancelable&&v.preventDefault()}}},[]),u=i.useCallback(function(d,v,x,b){var j={name:d,delta:v,target:x,should:b,shadowParent:Cr(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(M){return M!==j})},1)},[]),m=i.useCallback(function(d){r.current=q(d),n.current=void 0},[]),p=i.useCallback(function(d){u(d.type,Be(d),d.target,c(d,e.lockRef.current))},[]),g=i.useCallback(function(d){u(d.type,q(d),d.target,c(d,e.lockRef.current))},[]);i.useEffect(function(){return z.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",f,$),document.addEventListener("touchmove",f,$),document.addEventListener("touchstart",m,$),function(){z=z.filter(function(d){return d!==s}),document.removeEventListener("wheel",f,$),document.removeEventListener("touchmove",f,$),document.removeEventListener("touchstart",m,$)}},[]);var y=e.removeScrollBar,S=e.inert;return i.createElement(i.Fragment,null,S?i.createElement(s,{styles:br(a)}):null,y?i.createElement(hr,{gapMode:e.gapMode}):null)}function Cr(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Nr=rr(We,Mr);var Qe=i.forwardRef(function(e,t){return i.createElement(ae,I({},e,{ref:t,sideCar:Nr}))});Qe.classNames=ae.classNames;const _r=Qe;function Rr(e,t,r){i.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function Br(e=[!1,!0]){const[[t],r]=i.useReducer((n,a)=>{const s=a instanceof Function?a(n[0]):a,l=Math.abs(n.indexOf(s));return n.slice(l).concat(n.slice(0,l))},e);return[t,r]}var Ze={root:"m-1b7284a3"};const Tr={},kr=te((e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Se(t),"--paper-shadow":Ae(r)}})),se=Le((e,t)=>{const r=_("Paper",Tr,e),{classNames:n,className:a,style:s,styles:l,unstyled:c,withBorder:f,vars:u,radius:m,shadow:p,variant:g,mod:y,...S}=r,d=ee({name:"Paper",props:r,classes:Ze,className:a,style:s,classNames:n,styles:l,unstyled:c,vars:u,varsResolver:kr});return h.createElement(G,{ref:t,mod:[{"data-with-border":f},y],...d("root"),variant:g,...S})});se.classes=Ze;se.displayName="@mantine/core/Paper";var Ue={root:"m-9814e45f"};const Pr={zIndex:ne("modal")},Or=te((e,{gradient:t,color:r,backgroundOpacity:n,blur:a,radius:s,zIndex:l})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&st(r||"#000",n??.6)||void 0,"--overlay-filter":a?`blur(${K(a)})`:void 0,"--overlay-radius":s===void 0?void 0:Se(s),"--overlay-z-index":l==null?void 0:l.toString()}})),we=Le((e,t)=>{const r=_("Overlay",Pr,e),{classNames:n,className:a,style:s,styles:l,unstyled:c,vars:f,fixed:u,center:m,children:p,radius:g,zIndex:y,gradient:S,blur:d,color:v,backgroundOpacity:x,mod:b,...j}=r,M=ee({name:"Overlay",props:r,classes:Ue,className:a,style:s,classNames:n,styles:l,unstyled:c,vars:f,varsResolver:Or});return h.createElement(G,{ref:t,...M("root"),mod:[{center:m,fixed:u},b],...j},p)});we.classes=Ue;we.displayName="@mantine/core/Overlay";const[Ir,T]=De("ModalBase component was not found in tree");function Lr({opened:e,transitionDuration:t}){const[r,n]=i.useState(e),a=i.useRef(),l=vt()?0:t;return i.useEffect(()=>(e?(n(!0),window.clearTimeout(a.current)):l===0?n(!1):a.current=window.setTimeout(()=>n(!1),l),()=>window.clearTimeout(a.current)),[e,l]),r}function Ar({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:a,onClose:s,returnFocus:l}){const c=Et(e),[f,u]=i.useState(!1),[m,p]=i.useState(!1),g=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,y=Lr({opened:r,transitionDuration:g});return Rr("keydown",S=>{!n&&S.key==="Escape"&&a&&s()}),ft({opened:r,shouldReturnFocus:n&&l}),{_id:c,titleMounted:f,bodyMounted:m,shouldLockScroll:y,setTitleMounted:u,setBodyMounted:p}}const Gr=i.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:a,trapFocus:s,closeOnEscape:l,returnFocus:c,closeOnClickOutside:f,withinPortal:u,portalProps:m,lockScroll:p,children:g,zIndex:y,shadow:S,padding:d,__vars:v,unstyled:x,removeScrollProps:b,...j},M)=>{const{_id:E,titleMounted:P,bodyMounted:A,shouldLockScroll:D,setTitleMounted:Y,setBodyMounted:at}=Ar({id:n,transitionProps:a,opened:t,trapFocus:s,closeOnEscape:l,onClose:r,returnFocus:c});return h.createElement(pt,{...m,withinPortal:u},h.createElement(Ir,{value:{opened:t,onClose:r,closeOnClickOutside:f,transitionProps:{...a,keepMounted:e},getTitleId:()=>`${E}-title`,getBodyId:()=>`${E}-body`,titleMounted:P,bodyMounted:A,setTitleMounted:Y,setBodyMounted:at,trapFocus:s,closeOnEscape:l,zIndex:y,unstyled:x}},h.createElement(_r,{enabled:D&&p,...b},h.createElement(G,{ref:M,...j,__vars:{...v,"--mb-z-index":(y||ne("modal")).toString(),"--mb-shadow":Ae(S),"--mb-padding":ot(d)}},g))))});function Dr(){const e=T();return i.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var H={title:"m-615af6c9",header:"m-b5489c3c",inner:"m-60c222c7",content:"m-fd1ab0aa",close:"m-606cb269",body:"m-5df29311"};const Ke=i.forwardRef(({className:e,...t},r)=>{const n=Dr(),a=T();return h.createElement(G,{ref:r,...t,id:n,className:F({[H.body]:!a.unstyled},e)})});Ke.displayName="@mantine/core/ModalBaseBody";const Je=i.forwardRef(({className:e,onClick:t,...r},n)=>{const a=T();return h.createElement(jt,{ref:n,...r,onClick:s=>{a.onClose(),t==null||t(s)},className:F({[H.close]:!a.unstyled},e),unstyled:a.unstyled})});Je.displayName="@mantine/core/ModalBaseCloseButton";const $r=i.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:a,...s},l)=>{const c=T(),f=u=>{var p;((p=u.target)==null?void 0:p.getAttribute("data-mantine-stop-propagation"))!=="true"&&u.key==="Escape"&&c.closeOnEscape&&c.onClose(),n==null||n(u)};return h.createElement($e,{mounted:c.opened,transition:"pop",...c.transitionProps,...e},u=>h.createElement("div",{...r,className:F({[H.inner]:!c.unstyled},r.className)},h.createElement(mt,{active:c.opened&&c.trapFocus},h.createElement(se,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":c.bodyMounted?c.getBodyId():void 0,"aria-labelledby":c.titleMounted?c.getTitleId():void 0,onKeyDown:f,ref:l,style:[a,u],className:F({[H.content]:!c.unstyled},t),unstyled:c.unstyled},s.children))))}),et=i.forwardRef(({className:e,...t},r)=>{const n=T();return h.createElement(G,{component:"header",ref:r,className:F({[H.header]:!n.unstyled},e),...t})});et.displayName="@mantine/core/ModalBaseHeader";const zr={duration:200,timingFunction:"ease",transition:"fade"};function Fr(e){const t=T();return{...zr,...t.transitionProps,...e}}const tt=i.forwardRef(({onClick:e,transitionProps:t,style:r,...n},a)=>{const s=T(),l=Fr(t);return h.createElement($e,{mounted:s.opened,...l,transition:"fade"},c=>h.createElement(we,{ref:a,fixed:!0,style:[r,c],zIndex:s.zIndex,unstyled:s.unstyled,onClick:f=>{e==null||e(f),s.closeOnClickOutside&&s.onClose()},...n}))});tt.displayName="@mantine/core/ModalBaseOverlay";function Hr(){const e=T();return i.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const rt=i.forwardRef(({className:e,...t},r)=>{const n=Hr(),a=T();return h.createElement(G,{component:"h2",ref:r,className:F({[H.title]:!a.unstyled},e),...t,id:n})});rt.displayName="@mantine/core/ModalBaseTitle";function Wr({children:e}){return h.createElement(h.Fragment,null,e)}var nt={root:"m-7485cace"};const Vr={},Yr=te((e,{size:t,fluid:r})=>({root:{"--container-size":r?void 0:Ge(t,"container-size")}})),Me=B((e,t)=>{const r=_("Container",Vr,e),{classNames:n,className:a,style:s,styles:l,unstyled:c,vars:f,fluid:u,mod:m,...p}=r,g=ee({name:"Container",classes:nt,props:r,className:a,style:s,classNames:n,styles:l,unstyled:c,vars:f,varsResolver:Yr});return h.createElement(G,{ref:t,mod:[{fluid:u},m],...g("root"),...p})});Me.classes=nt;Me.displayName="@mantine/core/Container";const[Xr,V]=De("Modal component was not found in tree");var k={root:"m-9df02822",content:"m-54c44539",inner:"m-1f958f16",header:"m-d0e2b9cd"};const qr={},oe=B((e,t)=>{const r=_("ModalBody",qr,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,u=V();return h.createElement(Ke,{ref:t,...u.getStyles("body",{classNames:n,style:s,styles:l,className:a}),...f})});oe.classes=k;oe.displayName="@mantine/core/ModalBody";const Qr={},ce=B((e,t)=>{const r=_("ModalCloseButton",Qr,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,u=V();return h.createElement(Je,{ref:t,...u.getStyles("close",{classNames:n,style:s,styles:l,className:a}),...f})});ce.classes=k;ce.displayName="@mantine/core/ModalCloseButton";const Zr={},le=B((e,t)=>{const r=_("ModalContent",Zr,e),{classNames:n,className:a,style:s,styles:l,vars:c,children:f,...u}=r,m=V(),p=m.scrollAreaComponent||Wr;return h.createElement($r,{...m.getStyles("content",{className:a,style:s,styles:l,classNames:n}),innerProps:m.getStyles("inner",{className:a,style:s,styles:l,classNames:n}),"data-full-screen":m.fullScreen||void 0,ref:t,...u},h.createElement(p,{style:{maxHeight:m.fullScreen?"100dvh":`calc(100dvh - (${K(m.yOffset)} * 2))`}},f))});le.classes=k;le.displayName="@mantine/core/ModalContent";const Ur={},ie=B((e,t)=>{const r=_("ModalHeader",Ur,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,u=V();return h.createElement(et,{ref:t,...u.getStyles("header",{classNames:n,style:s,styles:l,className:a}),...f})});ie.classes=k;ie.displayName="@mantine/core/ModalHeader";const Kr={},de=B((e,t)=>{const r=_("ModalOverlay",Kr,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,u=V();return h.createElement(tt,{ref:t,...u.getStyles("overlay",{classNames:n,style:s,styles:l,className:a}),...f})});de.classes=k;de.displayName="@mantine/core/ModalOverlay";const Jr={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ne("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},en=te((e,{radius:t,size:r,yOffset:n,xOffset:a})=>({root:{"--modal-radius":t===void 0?void 0:Se(t),"--modal-size":Ge(r,"modal-size"),"--modal-y-offset":K(n),"--modal-x-offset":K(a)}})),ue=B((e,t)=>{const r=_("ModalRoot",Jr,e),{classNames:n,className:a,style:s,styles:l,unstyled:c,vars:f,yOffset:u,scrollAreaComponent:m,radius:p,fullScreen:g,centered:y,xOffset:S,__staticSelector:d,...v}=r,x=ee({name:d,classes:k,props:r,className:a,style:s,classNames:n,styles:l,unstyled:c,vars:f,varsResolver:en});return h.createElement(Xr,{value:{yOffset:u,scrollAreaComponent:m,getStyles:x,fullScreen:g}},h.createElement(Gr,{ref:t,...x("root"),"data-full-screen":g||void 0,"data-centered":y||void 0,unstyled:c,...v}))});ue.classes=k;ue.displayName="@mantine/core/ModalRoot";const tn={},fe=B((e,t)=>{const r=_("ModalTitle",tn,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,u=V();return h.createElement(rt,{ref:t,...u.getStyles("title",{classNames:n,style:s,styles:l,className:a}),...f})});fe.classes=k;fe.displayName="@mantine/core/ModalTitle";const rn={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ne("modal"),transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0},R=B((e,t)=>{const{title:r,withOverlay:n,overlayProps:a,withCloseButton:s,closeButtonProps:l,children:c,radius:f,...u}=_("Modal",rn,e),m=!!r||s;return h.createElement(ue,{ref:t,radius:f,...u},n&&h.createElement(de,{...a}),h.createElement(le,{radius:f},m&&h.createElement(ie,null,r&&h.createElement(fe,null,r),s&&h.createElement(ce,{...l})),h.createElement(oe,null,c)))});R.classes=k;R.displayName="@mantine/core/Modal";R.Root=ue;R.Overlay=de;R.Content=le;R.Body=oe;R.Header=ie;R.Title=fe;R.CloseButton=ce;const nn="_profile_1brcl_1",an={profile:nn},sn="_header_1koik_1",on="_text_1koik_9",ke={header:sn,text:on},N=({children:e,headerNode:t,level:r=1,title:n,...a})=>o.jsxs(se,{shadow:"sm",radius:"md",p:"sm",bg:["dark.6","dark.5","dark.4","dark.3"][r-1],...a,children:[(n||t)&&o.jsxs("header",{className:ke.header,children:[n&&o.jsx("span",{className:ke.text,children:n}),t&&o.jsx("div",{children:t})]}),e]}),cn=({renderButton:e,children:t,...r})=>{const[n,{open:a,close:s}]=ht(!1);return o.jsxs(o.Fragment,{children:[e({open:a}),o.jsx(R,{size:"auto",centered:!0,radius:"md",...r,opened:n,onClose:s,children:t})]})},ln="_progress_k6ns6_1",dn="_progressBackground_k6ns6_7",un="_completed_k6ns6_22",fn="_zero_k6ns6_29",Q={progress:ln,progressBackground:dn,completed:un,zero:fn},xe=({progress:e,children:t,...r})=>o.jsxs(N,{...r,level:2,className:Q.progress,style:{["--progress"]:`${Math.round(e)}%`},children:[o.jsx("div",{className:Lt(Q.progressBackground,{[Q.completed]:e===100,[Q.zero]:e===0})}),t]}),C=({name:e,progress:t,icon:r,desc:n})=>o.jsx(xe,{level:2,progress:t,children:o.jsx(gt,{multiline:!0,maw:"20em",disabled:!n,label:n??"",children:o.jsxs(L,{h:"100%",gap:"0.25em",align:"center",justify:"center",children:[o.jsx(w,{size:"3em",lh:"1em",children:r}),o.jsx(w,{lh:"1em",children:e})]})})}),mn=()=>{const e=re(),t=W(),r=Ee.players.achievements.useQuery(e.id?Number(e.id):void 0);return o.jsxs(N,{title:t.ACHIEVEMENTS,children:[r.isLoading&&o.jsx(je,{}),r.data&&o.jsxs(Fe,{cols:6,spacing:"xs",children:[o.jsx(C,{icon:o.jsx(wt,{}),progress:r.data.combo500?100:0,name:t.COMBO_500}),o.jsx(C,{icon:o.jsx(Mt,{}),progress:r.data.combo1000?100:0,name:t.COMBO_1000}),o.jsx(C,{icon:o.jsx(Ct,{}),progress:r.data.combo2000?100:0,name:t.COMBO_2000}),o.jsx(C,{icon:o.jsx(Nt,{}),progress:Math.round(r.data.fingering*100),name:t.FINGERING,desc:t.FINGERING_DESC}),o.jsx(C,{icon:o.jsx(_t,{}),progress:Math.round(r.data.bit8*100),name:t.EIGHT_BIT,desc:t.EIGHT_BIT_DESC}),o.jsx(C,{icon:o.jsx(Rt,{}),progress:Math.round(r.data.loveIs*100),name:t.LOVE_IS,desc:t.LOVE_IS_DESC}),o.jsx(C,{icon:o.jsx(Bt,{}),progress:Math.round(r.data.snail*100),name:t.SNAIL,desc:t.SNAIL_DESC}),o.jsx(C,{icon:o.jsx(Tt,{}),progress:r.data.brownS?100:0,name:t.BROWN_S,desc:t.BROWN_S_DESC}),o.jsx(C,{icon:o.jsx(kt,{}),progress:r.data.lowHealth?100:0,name:t.LIFE_BAR,desc:t.LIFE_BAR_DESC}),o.jsx(C,{icon:o.jsx(Pt,{}),progress:r.data.padMiss?100:0,name:t.PAD_MISS,desc:t.PAD_MISS_DESC}),o.jsx(C,{icon:o.jsx(Ot,{}),progress:r.data.weekLongTraining?100:0,name:t.WEEK_LONG_TRAINING,desc:t.WEEK_LONG_TRAINING_DESC}),o.jsx(C,{icon:o.jsx(It,{}),progress:r.data.sightread?100:0,name:t.SIGHTREADER,desc:t.SIGHTREADER_DESC})]})]})};function Pe(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M15 4l4 0l0 4"}},{tag:"path",attr:{d:"M14.75 9.25l4.25 -5.25"}},{tag:"path",attr:{d:"M5 19l4 -4"}},{tag:"path",attr:{d:"M15 19l4 0l0 -4"}},{tag:"path",attr:{d:"M5 5l14 14"}}]})(e)}const hn=()=>{const[e,t]=Br(["combined","separate"]),r=W();return e==="combined"?o.jsx(N,{title:r.GRADES,headerNode:o.jsx(ge,{variant:"subtle",onClick:()=>t(),"aria-label":"Switch graphs",children:o.jsx(Pe,{})}),children:o.jsx(At,{})}):o.jsxs(L,{gap:"xs",justify:"stretch",children:[o.jsx(N,{flex:"1 1 0",title:r.GRADES,headerNode:o.jsx(ge,{variant:"subtle",onClick:()=>t(),"aria-label":"Switch graphs",children:o.jsx(Pe,{})}),children:o.jsx(Gt,{})}),o.jsx(N,{flex:"1 1 0",children:o.jsx(Dt,{})})]})},Oe=["S","D"],Ie=["SSS","SS","S","AAA"],vn=()=>{const e=re(),t=$t({playerId:e.id?Number(e.id):void 0}),r=W(),n=i.useMemo(()=>{if(!t)return null;const a={level:null,achieved:0,required:0,weight:0},s={S:{[O.SSS]:a,[O.SS]:a,[O.S]:a,[O.AAA]:a},D:{[O.SSS]:a,[O.SS]:a,[O.S]:a,[O.AAA]:a}};return t.forEach(l=>{var p;const{level:c,byTypeGrade:f,totalChartsByType:u}=l;if(c==null)return;const m=30*(1+2**(c/4))/11;for(const g of Oe){const y=u[g],S=Math.round(Math.min(y,1+y/20+Math.sqrt(Math.max(y-1,0))*.7));for(const d of Ie){const v=f[`${g}-${d}`]??0,x=Math.min(1,v/S)*m;x>(((p=s[g][d])==null?void 0:p.weight)??0)&&(s[g][d]={level:c,achieved:v,required:S,weight:x})}}}),s},[t]);return n?o.jsxs(N,{title:r.LEVEL_ACHIEVEMENTS,children:[o.jsx(be,{align:"stretch",children:Oe.flatMap(a=>{const s=n[a];return Ie.map(l=>{const c=s[l];return(c==null?void 0:c.level)==null?o.jsx(xe,{flex:"1 1 0",progress:0,level:2,children:o.jsx(Ce,{fit:"contain",h:"2.8em",grade:l,scoring:"phoenix",isPass:!0})},`${a}-${l}`):o.jsxs(xe,{pl:"0",pr:"0",flex:"1 1 0",progress:Math.min(100,Math.round(100*c.achieved/c.required)),level:2,children:[o.jsx(Ce,{pt:"0.3em",h:"3em",fit:"contain",grade:l,scoring:"phoenix",isPass:!0}),o.jsxs(w,{size:"2.3em",lh:"1.2",pt:"0.3em",pb:"0.1em",fw:"bold",c:a==="D"?"green.2":"red.2",children:[a,c.level]}),o.jsxs("div",{children:[Math.round(c.achieved/c.required*100),"% (",c.achieved,"/",c.required,")"]})]},`${a}-${l}`)})})}),o.jsx(w,{pt:"1em",ta:"right",size:"xs",children:r.LEVEL_ACHIEVEMENTS_HINT})]}):null},pn=e=>{const[t,r]=(e==null?void 0:e.match(/(\D+)|(\d+)/g))??[];return[t,r]},gn="_grid_qdjmr_1",yn="_row_qdjmr_5",xn="_playIcon_qdjmr_13",pe={grid:gn,row:yn,playIcon:xn},Sn=10,En=()=>{var n;const e=re(),t=Ee.players.mostPlayed.useInfiniteQuery({playerId:e.id?Number(e.id):void 0,pageSize:Sn},{getNextPageParam:a=>a.nextCursor,initialCursor:0}),r=W();return o.jsxs(N,{p:"xs",title:r.MOST_PLAYED_CHARTS,children:[o.jsx(Fe,{spacing:"xs",className:pe.grid,children:(n=t.data)==null?void 0:n.pages.flatMap(a=>a.items.map(s=>{const[l,c]=pn(s.label);return o.jsxs(N,{fz:"md",p:"0.5em",level:2,className:pe.row,children:[l&&c?o.jsx(yt,{type:l,level:c}):o.jsx("span",{children:s.label}),o.jsx(lt,{to:xt.leaderboard.sharedChart.getPath({sharedChartId:s.shared_chart}),children:s.full_name}),o.jsx(w,{lh:"1",c:"grey",fz:"xs",pr:"2em",children:ze(r,new Date(s.latestDate))}),o.jsxs(w,{fw:"bold",ta:"right",children:[o.jsx(it,{className:pe.playIcon}),s.count]})]},s.shared_chart)}))}),t.isFetchingNextPage?o.jsx(je,{}):o.jsx(St,{leftSection:o.jsx(zt,{}),mt:"xs",color:"dark.4",onClick:()=>t.fetchNextPage(),children:r.SHOW_MORE})]})},jn=()=>{const e=re(),t=W(),{data:r,isLoading:n}=Ee.players.stats.useQuery();if(!r||n)return o.jsx(je,{});const a=r.findIndex(l=>l.id===Number(e.id)),s=r[a];return s?o.jsx(Me,{p:"md",children:o.jsxs(be,{gap:"xl",justify:"start",children:[o.jsxs(L,{gap:"0",children:[o.jsx(w,{size:"sm",c:"grey",children:t.PLAYER}),o.jsx(w,{size:"2.2em",lh:"1.4em",children:s==null?void 0:s.nickname})]}),o.jsxs(L,{gap:"0",children:[o.jsx(w,{size:"sm",c:"grey",children:t.RANK}),o.jsxs(w,{size:"2.2em",lh:"1.4em",children:["#",a+1]})]}),o.jsxs(L,{gap:"0",children:[o.jsx(w,{size:"sm",c:"grey",children:t.PP}),o.jsx(w,{size:"2.2em",lh:"1.4em",children:s==null?void 0:s.pp})]}),(s==null?void 0:s.last_result_date)&&o.jsxs(L,{gap:"0",children:[o.jsx(w,{size:"sm",c:"grey",children:t.LAST_TIME_PLAYED}),o.jsx(w,{size:"2.2em",lh:"1.4em",children:ze(t,new Date(s==null?void 0:s.last_result_date))})]})]})}):o.jsx("header",{children:o.jsx(bt,{radius:"md",variant:"light",color:"red",title:t.ERROR,icon:o.jsx(dt,{}),children:t.PROFILE_NOT_FOUND})})},In=()=>{const e=W();return o.jsxs("div",{className:an.profile,children:[o.jsx(jn,{}),o.jsxs(L,{gap:"xs",children:[o.jsx(N,{title:e.EXP,headerNode:o.jsx(cn,{title:e.EXP_FAQ_TITLE,w:"40em",renderButton:({open:t})=>o.jsx(ge,{variant:"subtle","aria-label":"Exp FAQ",onClick:t,children:o.jsx(ut,{})}),children:o.jsx(Ft,{})}),children:o.jsx(Ht,{})}),o.jsxs(be,{grow:!0,gap:"xs",align:"stretch",children:[o.jsx(hn,{}),o.jsxs(L,{gap:"xs",justify:"stretch",children:[o.jsx(N,{flex:"1 1 0",children:o.jsx(Wt,{})}),o.jsx(N,{flex:"1 1 0",children:o.jsx(Vt,{})})]})]}),o.jsx(vn,{}),o.jsx(mn,{}),o.jsx(En,{})]})]})};export{In as default};
//# sourceMappingURL=Profile-080aeccc.js.map
