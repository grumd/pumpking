import{R as Ve,G as yi,r as We,j as Z,a as Ti,c as Cn,u as Fi,b as Ii,d as bi,e as Pn,p as _i,H as Ci,f as Pi,g as Ui,h as vi}from"./index-b1e4bdb1.js";var Tt=e=>e.type==="checkbox",ft=e=>e instanceof Date,Te=e=>e==null;const Ar=e=>typeof e=="object";var me=e=>!Te(e)&&!Array.isArray(e)&&Ar(e)&&!ft(e),Ni=e=>me(e)&&e.target?Tt(e.target)?e.target.checked:e.target.value:e,Di=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ri=(e,t)=>e.has(Di(t)),Oi=e=>{const t=e.constructor&&e.constructor.prototype;return me(t)&&t.hasOwnProperty("isPrototypeOf")},mn=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xe(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(mn&&(e instanceof Blob||e instanceof FileList))&&(r||me(e)))if(t=r?[]:{},!r&&!Oi(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Xe(e[i]));else return e;return t}var Ft=e=>Array.isArray(e)?e.filter(Boolean):[],pe=e=>e===void 0,q=(e,t,r)=>{if(!t||!me(e))return r;const i=Ft(t.split(/[,[\].]+?/)).reduce((n,o)=>Te(n)?n:n[o],e);return pe(i)||i===e?pe(e[t])?r:e[t]:i};const Un={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ve={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ge={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ve.createContext(null);var Mi=(e,t,r,i=!0)=>{const n={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const s=o;return t._proxyFormState[s]!==ve.all&&(t._proxyFormState[s]=!i||ve.all),r&&(r[s]=!0),e[s]}});return n},_e=e=>me(e)&&!Object.keys(e).length,wi=(e,t,r,i)=>{r(e);const{name:n,...o}=e;return _e(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!i||ve.all))},zt=e=>Array.isArray(e)?e:[e];function Li(e){const t=Ve.useRef(e);t.current=e,Ve.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Me=e=>typeof e=="string",ki=(e,t,r,i,n)=>Me(e)?(i&&t.watch.add(e),q(r,e,n)):Array.isArray(e)?e.map(o=>(i&&t.watch.add(o),q(r,o))):(i&&(t.watchAll=!0),r),xn=e=>/^\w*$/.test(e),yr=e=>Ft(e.replace(/["|']|\]/g,"").split(/\.|\[/));function ce(e,t,r){let i=-1;const n=xn(t)?[t]:yr(t),o=n.length,s=o-1;for(;++i<o;){const c=n[i];let d=r;if(i!==s){const x=e[c];d=me(x)||Array.isArray(x)?x:isNaN(+n[i+1])?{}:[]}e[c]=d,e=e[c]}return e}var Gi=(e,t,r,i,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:n||!0}}:{};const nn=(e,t,r)=>{for(const i of r||Object.keys(e)){const n=q(e,i);if(n){const{_f:o,...s}=n;if(o&&t(o.name)){if(o.ref.focus){o.ref.focus();break}else if(o.refs&&o.refs[0].focus){o.refs[0].focus();break}}else me(s)&&nn(s,t)}}};var vn=e=>({isOnSubmit:!e||e===ve.onSubmit,isOnBlur:e===ve.onBlur,isOnChange:e===ve.onChange,isOnAll:e===ve.all,isOnTouch:e===ve.onTouched}),Nn=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length)))),Bi=(e,t,r)=>{const i=Ft(q(e,r));return ce(i,"root",t[r]),ce(e,r,i),e},dt=e=>typeof e=="boolean",Sn=e=>e.type==="file",Ye=e=>typeof e=="function",Pt=e=>{if(!mn)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},_t=e=>Me(e),En=e=>e.type==="radio",Ut=e=>e instanceof RegExp;const Dn={value:!1,isValid:!1},Rn={value:!0,isValid:!0};var Tr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pe(e[0].attributes.value)?pe(e[0].value)||e[0].value===""?Rn:{value:e[0].value,isValid:!0}:Rn:Dn}return Dn};const On={isValid:!1,value:null};var Fr=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,On):On;function Mn(e,t,r="validate"){if(_t(e)||Array.isArray(e)&&e.every(_t)||dt(e)&&!e)return{type:r,message:_t(e)?e:"",ref:t}}var ot=e=>me(e)&&!Ut(e)?e:{value:e,message:""},wn=async(e,t,r,i,n)=>{const{ref:o,refs:s,required:c,maxLength:d,minLength:x,min:a,max:f,pattern:u,validate:l,name:S,valueAsNumber:P,mount:I,disabled:y}=e._f,v=q(t,S);if(!I||y)return{};const L=s?s[0]:o,R=T=>{i&&L.reportValidity&&(L.setCustomValidity(dt(T)?"":T||""),L.reportValidity())},M={},E=En(o),w=Tt(o),m=E||w,g=(P||Sn(o))&&pe(o.value)&&pe(v)||Pt(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,b=Gi.bind(null,S,r,M),C=(T,_,F,U=Ge.maxLength,p=Ge.minLength)=>{const h=T?_:F;M[S]={type:T?U:p,message:h,ref:o,...b(T?U:p,h)}};if(n?!Array.isArray(v)||!v.length:c&&(!m&&(g||Te(v))||dt(v)&&!v||w&&!Tr(s).isValid||E&&!Fr(s).isValid)){const{value:T,message:_}=_t(c)?{value:!!c,message:c}:ot(c);if(T&&(M[S]={type:Ge.required,message:_,ref:L,...b(Ge.required,_)},!r))return R(_),M}if(!g&&(!Te(a)||!Te(f))){let T,_;const F=ot(f),U=ot(a);if(!Te(v)&&!isNaN(v)){const p=o.valueAsNumber||v&&+v;Te(F.value)||(T=p>F.value),Te(U.value)||(_=p<U.value)}else{const p=o.valueAsDate||new Date(v),h=B=>new Date(new Date().toDateString()+" "+B),G=o.type=="time",N=o.type=="week";Me(F.value)&&v&&(T=G?h(v)>h(F.value):N?v>F.value:p>new Date(F.value)),Me(U.value)&&v&&(_=G?h(v)<h(U.value):N?v<U.value:p<new Date(U.value))}if((T||_)&&(C(!!T,F.message,U.message,Ge.max,Ge.min),!r))return R(M[S].message),M}if((d||x)&&!g&&(Me(v)||n&&Array.isArray(v))){const T=ot(d),_=ot(x),F=!Te(T.value)&&v.length>+T.value,U=!Te(_.value)&&v.length<+_.value;if((F||U)&&(C(F,T.message,_.message),!r))return R(M[S].message),M}if(u&&!g&&Me(v)){const{value:T,message:_}=ot(u);if(Ut(T)&&!v.match(T)&&(M[S]={type:Ge.pattern,message:_,ref:o,...b(Ge.pattern,_)},!r))return R(_),M}if(l){if(Ye(l)){const T=await l(v,t),_=Mn(T,L);if(_&&(M[S]={..._,...b(Ge.validate,_.message)},!r))return R(_.message),M}else if(me(l)){let T={};for(const _ in l){if(!_e(T)&&!r)break;const F=Mn(await l[_](v,t),L,_);F&&(T={...F,...b(_,F.message)},R(F.message),r&&(M[S]=T))}if(!_e(T)&&(M[S]={ref:L,...T},!r))return M}}return R(!0),M};function Hi(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=pe(e)?i++:e[t[i++]];return e}function ji(e){for(const t in e)if(e.hasOwnProperty(t)&&!pe(e[t]))return!1;return!0}function Se(e,t){const r=Array.isArray(t)?t:xn(t)?[t]:yr(t),i=r.length===1?e:Hi(e,r),n=r.length-1,o=r[n];return i&&delete i[o],n!==0&&(me(i)&&_e(i)||Array.isArray(i)&&ji(i))&&Se(e,r.slice(0,-1)),e}function Xt(){let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}}var vt=e=>Te(e)||!Ar(e);function et(e,t){if(vt(e)||vt(t))return e===t;if(ft(e)&&ft(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const n of r){const o=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const s=t[n];if(ft(o)&&ft(s)||me(o)&&me(s)||Array.isArray(o)&&Array.isArray(s)?!et(o,s):o!==s)return!1}}return!0}var Ir=e=>e.type==="select-multiple",$i=e=>En(e)||Tt(e),Wt=e=>Pt(e)&&e.isConnected,br=e=>{for(const t in e)if(Ye(e[t]))return!0;return!1};function Nt(e,t={}){const r=Array.isArray(e);if(me(e)||r)for(const i in e)Array.isArray(e[i])||me(e[i])&&!br(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Nt(e[i],t[i])):Te(e[i])||(t[i]=!0);return t}function _r(e,t,r){const i=Array.isArray(e);if(me(e)||i)for(const n in e)Array.isArray(e[n])||me(e[n])&&!br(e[n])?pe(t)||vt(r[n])?r[n]=Array.isArray(e[n])?Nt(e[n],[]):{...Nt(e[n])}:_r(e[n],Te(t)?{}:t[n],r[n]):r[n]=!et(e[n],t[n]);return r}var Yt=(e,t)=>_r(e,t,Nt(t)),Cr=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>pe(e)?e:t?e===""?NaN:e&&+e:r&&Me(e)?new Date(e):i?i(e):e;function Kt(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Sn(t)?t.files:En(t)?Fr(e.refs).value:Ir(t)?[...t.selectedOptions].map(({value:r})=>r):Tt(t)?Tr(e.refs).value:Cr(pe(t.value)?e.ref.value:t.value,e)}var Zi=(e,t,r,i)=>{const n={};for(const o of e){const s=q(t,o);s&&ce(n,o,s._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:i}},xt=e=>pe(e)?e:Ut(e)?e.source:me(e)?Ut(e.value)?e.value.source:e.value:e,zi=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ln(e,t,r){const i=q(e,r);if(i||xn(r))return{error:i,name:r};const n=r.split(".");for(;n.length;){const o=n.join("."),s=q(t,o),c=q(e,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};n.pop()}return{name:r}}var Xi=(e,t,r,i,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?i.isOnBlur:n.isOnBlur)?!e:(r?i.isOnChange:n.isOnChange)?e:!0,Wi=(e,t)=>!Ft(q(e,t)).length&&Se(e,t);const Yi={mode:ve.onSubmit,reValidateMode:ve.onChange,shouldFocusError:!0};function Ki(e={},t){let r={...Yi,...e},i={submitCount:0,isDirty:!1,isLoading:Ye(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},o=me(r.defaultValues)||me(r.values)?Xe(r.defaultValues||r.values)||{}:{},s=r.shouldUnregister?{}:Xe(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},x,a=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:Xt(),array:Xt(),state:Xt()},l=e.resetOptions&&e.resetOptions.keepDirtyValues,S=vn(r.mode),P=vn(r.reValidateMode),I=r.criteriaMode===ve.all,y=A=>D=>{clearTimeout(a),a=setTimeout(A,D)},v=async A=>{if(f.isValid||A){const D=r.resolver?_e((await g()).errors):await C(n,!0);D!==i.isValid&&u.state.next({isValid:D})}},L=A=>f.isValidating&&u.state.next({isValidating:A}),R=(A,D=[],O,X,$=!0,H=!0)=>{if(X&&O){if(c.action=!0,H&&Array.isArray(q(n,A))){const Y=O(q(n,A),X.argA,X.argB);$&&ce(n,A,Y)}if(H&&Array.isArray(q(i.errors,A))){const Y=O(q(i.errors,A),X.argA,X.argB);$&&ce(i.errors,A,Y),Wi(i.errors,A)}if(f.touchedFields&&H&&Array.isArray(q(i.touchedFields,A))){const Y=O(q(i.touchedFields,A),X.argA,X.argB);$&&ce(i.touchedFields,A,Y)}f.dirtyFields&&(i.dirtyFields=Yt(o,s)),u.state.next({name:A,isDirty:_(A,D),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else ce(s,A,D)},M=(A,D)=>{ce(i.errors,A,D),u.state.next({errors:i.errors})},E=(A,D,O,X)=>{const $=q(n,A);if($){const H=q(s,A,pe(O)?q(o,A):O);pe(H)||X&&X.defaultChecked||D?ce(s,A,D?H:Kt($._f)):p(A,H),c.mount&&v()}},w=(A,D,O,X,$)=>{let H=!1,Y=!1;const ee={name:A};if(!O||X){f.isDirty&&(Y=i.isDirty,i.isDirty=ee.isDirty=_(),H=Y!==ee.isDirty);const V=et(q(o,A),D);Y=q(i.dirtyFields,A),V?Se(i.dirtyFields,A):ce(i.dirtyFields,A,!0),ee.dirtyFields=i.dirtyFields,H=H||f.dirtyFields&&Y!==!V}if(O){const V=q(i.touchedFields,A);V||(ce(i.touchedFields,A,O),ee.touchedFields=i.touchedFields,H=H||f.touchedFields&&V!==O)}return H&&$&&u.state.next(ee),H?ee:{}},m=(A,D,O,X)=>{const $=q(i.errors,A),H=f.isValid&&dt(D)&&i.isValid!==D;if(e.delayError&&O?(x=y(()=>M(A,O)),x(e.delayError)):(clearTimeout(a),x=null,O?ce(i.errors,A,O):Se(i.errors,A)),(O?!et($,O):$)||!_e(X)||H){const Y={...X,...H&&dt(D)?{isValid:D}:{},errors:i.errors,name:A};i={...i,...Y},u.state.next(Y)}L(!1)},g=async A=>r.resolver(s,r.context,Zi(A||d.mount,n,r.criteriaMode,r.shouldUseNativeValidation)),b=async A=>{const{errors:D}=await g();if(A)for(const O of A){const X=q(D,O);X?ce(i.errors,O,X):Se(i.errors,O)}else i.errors=D;return D},C=async(A,D,O={valid:!0})=>{for(const X in A){const $=A[X];if($){const{_f:H,...Y}=$;if(H){const ee=d.array.has(H.name),V=await wn($,s,I,r.shouldUseNativeValidation&&!D,ee);if(V[H.name]&&(O.valid=!1,D))break;!D&&(q(V,H.name)?ee?Bi(i.errors,V,H.name):ce(i.errors,H.name,V[H.name]):Se(i.errors,H.name))}Y&&await C(Y,D,O)}}return O.valid},T=()=>{for(const A of d.unMount){const D=q(n,A);D&&(D._f.refs?D._f.refs.every(O=>!Wt(O)):!Wt(D._f.ref))&&Q(A)}d.unMount=new Set},_=(A,D)=>(A&&D&&ce(s,A,D),!et(J(),o)),F=(A,D,O)=>ki(A,d,{...c.mount?s:pe(D)?o:Me(A)?{[A]:D}:D},O,D),U=A=>Ft(q(c.mount?s:o,A,e.shouldUnregister?q(o,A,[]):[])),p=(A,D,O={})=>{const X=q(n,A);let $=D;if(X){const H=X._f;H&&(!H.disabled&&ce(s,A,Cr(D,H)),$=Pt(H.ref)&&Te(D)?"":D,Ir(H.ref)?[...H.ref.options].forEach(Y=>Y.selected=$.includes(Y.value)):H.refs?Tt(H.ref)?H.refs.length>1?H.refs.forEach(Y=>(!Y.defaultChecked||!Y.disabled)&&(Y.checked=Array.isArray($)?!!$.find(ee=>ee===Y.value):$===Y.value)):H.refs[0]&&(H.refs[0].checked=!!$):H.refs.forEach(Y=>Y.checked=Y.value===$):Sn(H.ref)?H.ref.value="":(H.ref.value=$,H.ref.type||u.values.next({name:A,values:{...s}})))}(O.shouldDirty||O.shouldTouch)&&w(A,$,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&B(A)},h=(A,D,O)=>{for(const X in D){const $=D[X],H=`${A}.${X}`,Y=q(n,H);(d.array.has(A)||!vt($)||Y&&!Y._f)&&!ft($)?h(H,$,O):p(H,$,O)}},G=(A,D,O={})=>{const X=q(n,A),$=d.array.has(A),H=Xe(D);ce(s,A,H),$?(u.array.next({name:A,values:{...s}}),(f.isDirty||f.dirtyFields)&&O.shouldDirty&&u.state.next({name:A,dirtyFields:Yt(o,s),isDirty:_(A,H)})):X&&!X._f&&!Te(H)?h(A,H,O):p(A,H,O),Nn(A,d)&&u.state.next({...i}),u.values.next({name:A,values:{...s}}),!c.mount&&t()},N=async A=>{const D=A.target;let O=D.name,X=!0;const $=q(n,O),H=()=>D.type?Kt($._f):Ni(A);if($){let Y,ee;const V=H(),de=A.type===Un.BLUR||A.type===Un.FOCUS_OUT,Ne=!zi($._f)&&!r.resolver&&!q(i.errors,O)&&!$._f.deps||Xi(de,q(i.touchedFields,O),i.isSubmitted,P,S),je=Nn(O,d,de);ce(s,O,V),de?($._f.onBlur&&$._f.onBlur(A),x&&x(0)):$._f.onChange&&$._f.onChange(A);const he=w(O,V,de,!1),Le=!_e(he)||je;if(!de&&u.values.next({name:O,type:A.type,values:{...s}}),Ne)return f.isValid&&v(),Le&&u.state.next({name:O,...je?{}:he});if(!de&&je&&u.state.next({...i}),L(!0),r.resolver){const{errors:xe}=await g([O]),be=Ln(i.errors,n,O),ye=Ln(xe,n,be.name||O);Y=ye.error,O=ye.name,ee=_e(xe)}else Y=(await wn($,s,I,r.shouldUseNativeValidation))[O],X=isNaN(V)||V===q(s,O,V),X&&(Y?ee=!1:f.isValid&&(ee=await C(n,!0)));X&&($._f.deps&&B($._f.deps),m(O,ee,Y,he))}},B=async(A,D={})=>{let O,X;const $=zt(A);if(L(!0),r.resolver){const H=await b(pe(A)?A:$);O=_e(H),X=A?!$.some(Y=>q(H,Y)):O}else A?(X=(await Promise.all($.map(async H=>{const Y=q(n,H);return await C(Y&&Y._f?{[H]:Y}:Y)}))).every(Boolean),!(!X&&!i.isValid)&&v()):X=O=await C(n);return u.state.next({...!Me(A)||f.isValid&&O!==i.isValid?{}:{name:A},...r.resolver||!A?{isValid:O}:{},errors:i.errors,isValidating:!1}),D.shouldFocus&&!X&&nn(n,H=>H&&q(i.errors,H),A?$:d.mount),X},J=A=>{const D={...o,...c.mount?s:{}};return pe(A)?D:Me(A)?q(D,A):A.map(O=>q(D,O))},z=(A,D)=>({invalid:!!q((D||i).errors,A),isDirty:!!q((D||i).dirtyFields,A),isTouched:!!q((D||i).touchedFields,A),error:q((D||i).errors,A)}),K=A=>{A&&zt(A).forEach(D=>Se(i.errors,D)),u.state.next({errors:A?i.errors:{}})},j=(A,D,O)=>{const X=(q(n,A,{_f:{}})._f||{}).ref;ce(i.errors,A,{...D,ref:X}),u.state.next({name:A,errors:i.errors,isValid:!1}),O&&O.shouldFocus&&X&&X.focus&&X.focus()},k=(A,D)=>Ye(A)?u.values.subscribe({next:O=>A(F(void 0,D),O)}):F(A,D,!0),Q=(A,D={})=>{for(const O of A?zt(A):d.mount)d.mount.delete(O),d.array.delete(O),D.keepValue||(Se(n,O),Se(s,O)),!D.keepError&&Se(i.errors,O),!D.keepDirty&&Se(i.dirtyFields,O),!D.keepTouched&&Se(i.touchedFields,O),!r.shouldUnregister&&!D.keepDefaultValue&&Se(o,O);u.values.next({values:{...s}}),u.state.next({...i,...D.keepDirty?{isDirty:_()}:{}}),!D.keepIsValid&&v()},oe=(A,D={})=>{let O=q(n,A);const X=dt(D.disabled);return ce(n,A,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:A}},name:A,mount:!0,...D}}),d.mount.add(A),O?X&&ce(s,A,D.disabled?void 0:q(s,A,Kt(O._f))):E(A,!0,D.value),{...X?{disabled:D.disabled}:{},...r.progressive?{required:!!D.required,min:xt(D.min),max:xt(D.max),minLength:xt(D.minLength),maxLength:xt(D.maxLength),pattern:xt(D.pattern)}:{},name:A,onChange:N,onBlur:N,ref:$=>{if($){oe(A,D),O=q(n,A);const H=pe($.value)&&$.querySelectorAll&&$.querySelectorAll("input,select,textarea")[0]||$,Y=$i(H),ee=O._f.refs||[];if(Y?ee.find(V=>V===H):H===O._f.ref)return;ce(n,A,{_f:{...O._f,...Y?{refs:[...ee.filter(Wt),H,...Array.isArray(q(o,A))?[{}]:[]],ref:{type:H.type,name:A}}:{ref:H}}}),E(A,!1,void 0,H)}else O=q(n,A,{}),O._f&&(O._f.mount=!1),(r.shouldUnregister||D.shouldUnregister)&&!(Ri(d.array,A)&&c.action)&&d.unMount.add(A)}}},ie=()=>r.shouldFocusError&&nn(n,A=>A&&q(i.errors,A),d.mount),re=(A,D)=>async O=>{O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let X=Xe(s);if(u.state.next({isSubmitting:!0}),r.resolver){const{errors:$,values:H}=await g();i.errors=$,X=H}else await C(n);Se(i.errors,"root"),_e(i.errors)?(u.state.next({errors:{}}),await A(X,O)):(D&&await D({...i.errors},O),ie(),setTimeout(ie)),u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_e(i.errors),submitCount:i.submitCount+1,errors:i.errors})},se=(A,D={})=>{q(n,A)&&(pe(D.defaultValue)?G(A,q(o,A)):(G(A,D.defaultValue),ce(o,A,D.defaultValue)),D.keepTouched||Se(i.touchedFields,A),D.keepDirty||(Se(i.dirtyFields,A),i.isDirty=D.defaultValue?_(A,q(o,A)):_()),D.keepError||(Se(i.errors,A),f.isValid&&v()),u.state.next({...i}))},ue=(A,D={})=>{const O=A||o,X=Xe(O),$=A&&!_e(A)?X:o;if(D.keepDefaultValues||(o=O),!D.keepValues){if(D.keepDirtyValues||l)for(const H of d.mount)q(i.dirtyFields,H)?ce($,H,q(s,H)):G(H,q($,H));else{if(mn&&pe(A))for(const H of d.mount){const Y=q(n,H);if(Y&&Y._f){const ee=Array.isArray(Y._f.refs)?Y._f.refs[0]:Y._f.ref;if(Pt(ee)){const V=ee.closest("form");if(V){V.reset();break}}}}n={}}s=e.shouldUnregister?D.keepDefaultValues?Xe(o):{}:Xe($),u.array.next({values:{...$}}),u.values.next({values:{...$}})}d={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!c.mount&&t(),c.mount=!f.isValid||!!D.keepIsValid,c.watch=!!e.shouldUnregister,u.state.next({submitCount:D.keepSubmitCount?i.submitCount:0,isDirty:D.keepDirty?i.isDirty:!!(D.keepDefaultValues&&!et(A,o)),isSubmitted:D.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:D.keepDirtyValues?i.dirtyFields:D.keepDefaultValues&&A?Yt(o,A):{},touchedFields:D.keepTouched?i.touchedFields:{},errors:D.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},le=(A,D)=>ue(Ye(A)?A(s):A,D);return{control:{register:oe,unregister:Q,getFieldState:z,handleSubmit:re,setError:j,_executeSchema:g,_getWatch:F,_getDirty:_,_updateValid:v,_removeUnmounted:T,_updateFieldArray:R,_getFieldArray:U,_reset:ue,_resetDefaultValues:()=>Ye(r.defaultValues)&&r.defaultValues().then(A=>{le(A,r.resetOptions),u.state.next({isLoading:!1})}),_updateFormState:A=>{i={...i,...A}},_subjects:u,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return c},set _state(A){c=A},get _defaultValues(){return o},get _names(){return d},set _names(A){d=A},get _formState(){return i},set _formState(A){i=A},get _options(){return r},set _options(A){r={...r,...A}}},trigger:B,register:oe,handleSubmit:re,watch:k,setValue:G,getValues:J,reset:le,resetField:se,clearErrors:K,unregister:Q,setError:j,setFocus:(A,D={})=>{const O=q(n,A),X=O&&O._f;if(X){const $=X.refs?X.refs[0]:X.ref;$.focus&&($.focus(),D.shouldSelect&&$.select())}},getFieldState:z}}function qi(e={}){const t=Ve.useRef(),[r,i]=Ve.useState({isDirty:!1,isValidating:!1,isLoading:Ye(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Ye(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Ki(e,()=>i(o=>({...o}))),formState:r});const n=t.current.control;return n._options=e,Li({subject:n._subjects.state,next:o=>{wi(o,n._proxyFormState,n._updateFormState,!0)&&i({...n._formState})}}),Ve.useEffect(()=>{e.values&&!et(e.values,n._defaultValues)?n._reset(e.values,n._options.resetOptions):n._resetDefaultValues()},[e.values,n]),Ve.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),t.current.formState=Mi(r,n),t.current}function Ji(e){return yi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.9 79.9L51.8 403.1C40.6 423.3 55.5 448 78.9 448h354.3c23.3 0 38.2-24.7 27.1-44.9L283.1 79.9c-11.7-21.2-42.5-21.2-54.2 0zM273.6 214L270 336h-28l-3.6-122h35.2zM256 402.4c-10.7 0-19.1-8.1-19.1-18.4s8.4-18.4 19.1-18.4 19.1 8.1 19.1 18.4-8.4 18.4-19.1 18.4z"}}]})(e)}const Qi="_addResultPage_1gb69_1",Vi="_addResultForm_1gb69_9",eo="_fileInput_1gb69_19",to="_confirmation_1gb69_23",no="_splitPanels_1gb69_23",ro="_screenshotPanel_1gb69_28",io="_formPanel_1gb69_31",oo="_chartName_1gb69_34",so="_grid_1gb69_39",ao="_warning_1gb69_45",Re={addResultPage:Qi,addResultForm:Vi,fileInput:eo,confirmation:to,splitPanels:no,screenshotPanel:ro,formPanel:io,chartName:oo,grid:so,warning:ao};function ne(e,t,r){const i=[];for(let n=0;n<r&&t+n<e.byteLength;n++)i.push(e.getUint8(t+n));return ht(i)}function uo(e,t,r){const i=[];for(let n=0;n<r&&t+n<e.byteLength;n+=2)i.push(e.getUint16(t+n));return ht(i)}function ht(e){return e.map(t=>String.fromCharCode(t)).join("")}function ae(){for(let e=1;e<arguments.length;e++)for(const t in arguments[e])arguments[0][t]=arguments[e][t];return arguments[0]}function Pr(e,t,r){let i=!1;Object.defineProperty(e,t,{get(){return i||(i=!0,Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:r.apply(e),writable:!0})),e[t]},configurable:!0,enumerable:!0})}function Ur(e){if(typeof btoa<"u")return btoa(typeof e=="string"?e:Array.prototype.reduce.call(new Uint8Array(e),(t,r)=>t+String.fromCharCode(r),""));if(!(typeof Buffer>"u"))return typeof Buffer.from!==void 0?Buffer.from(e).toString("base64"):new Buffer(e).toString("base64")}function co(e){const t=e.substring(e.indexOf(",")+1);if(e.indexOf(";base64")!==-1)return typeof atob<"u"?Uint8Array.from(atob(t),i=>i.charCodeAt(0)).buffer:typeof Buffer>"u"?void 0:typeof Buffer.from!==void 0?Buffer.from(t,"base64"):new Buffer(t,"base64");const r=decodeURIComponent(t);return typeof Buffer<"u"?typeof Buffer.from!==void 0?Buffer.from(r):new Buffer(r):Uint8Array.from(r,i=>i.charCodeAt(0)).buffer}let fo=class{constructor(t){if(lo(t))throw new Error("DataView: Passed buffer type is unsupported.");this.buffer=t,this.byteLength=this.buffer.length}getUint8(t){return this.buffer.readUInt8(t)}getUint16(t,r){return r?this.buffer.readUInt16LE(t):this.buffer.readUInt16BE(t)}getUint32(t,r){return r?this.buffer.readUInt32LE(t):this.buffer.readUInt32BE(t)}getInt32(t,r){return r?this.buffer.readInt32LE(t):this.buffer.readInt32BE(t)}};function lo(e){return typeof e!="object"||e.length===void 0||e.readUInt8===void 0||e.readUInt16LE===void 0||e.readUInt16BE===void 0||e.readUInt32LE===void 0||e.readUInt32BE===void 0||e.readInt32LE===void 0||e.readInt32BE===void 0}function ge(e){return e.map(t=>String.fromCharCode(t)).join("")}function rn(e){if(e.length>=8){const t=ge(e.slice(0,8));if(t==="ASCII\0\0\0")return ge(e.slice(8));if(t==="JIS\0\0\0\0\0")return"[JIS encoded text]";if(t==="UNICODE\0")return"[Unicode encoded text]";if(t==="\0\0\0\0\0\0\0\0")return"[Undefined encoding]"}return"Undefined"}function Dt(e){return e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600}const on=18761,sn=19789,nt={BIG_ENDIAN:sn,LITTLE_ENDIAN:on,getByteOrder:ho};function ho(e,t){if(e.getUint16(t)===on)return on;if(e.getUint16(t)===sn)return sn;throw new Error("Illegal byte order value. Faulty image.")}const kn={isTiffFile:go,findTiffOffsets:mo};function go(e){return!!e&&e.byteLength>=4&&po(e)}function po(e){const i=e.getUint16(0)===nt.LITTLE_ENDIAN;return e.getUint16(2,i)===42}function mo(){return{hasAppMarkers:!0,tiffHeaderOffset:0}}const Gn={isJpegFile:Ro,findJpegOffsets:Oo},xo=2,So=65496,Bn=2,Ce=4,Fe=2,Eo=2,Ao=10,yo=18,Hn=33,jn=79,$n=18,To=8,an="ICC_PROFILE\0",vr=Ce+an.length,Fo=vr+1,Zn="MPF\0",Nr=65472,Dr=65474,Io=65476,bo=65499,_o=65501,Co=65498,Rr=65504,An=65505,Or=65506,Po=65517,Uo=65519,vo=65534,No=65535,Do="JFIF",un="Exif",zn="http://ns.adobe.com/xap/1.0/\0",Xn="http://ns.adobe.com/xmp/extension/\0",Wn="Photoshop 3.0";function Ro(e){return!!e&&e.byteLength>=xo&&e.getUint16(0)===So}function Oo(e){let t=Bn,r,i,n,o,s,c,d,x,a;for(;t+Ce+5<=e.byteLength;){if(Mo(e,t))i=t+Fe;else if(wo(e,t))n=t+Fe;else if(Go(e,t))r=e.getUint16(t+Fe),o=t+Eo;else if(Bo(e,t))r=e.getUint16(t+Fe),s=t+Ao;else if(Ho(e,t))d||(d=[]),r=e.getUint16(t+Fe),d.push(zo(t,r));else if($o(e,t))d||(d=[]),r=e.getUint16(t+Fe),d.push(Xo(t,r));else if(Wo(e,t))r=e.getUint16(t+Fe),c=t+yo;else if(Lo(e,t)){r=e.getUint16(t+Fe);const f=t+$n,u=r-($n-Fe),l=e.getUint8(t+vr),S=e.getUint8(t+Fo);x||(x=[]),x.push({offset:f,length:u,chunkNumber:l,chunksTotal:S})}else if(ko(e,t))r=e.getUint16(t+Fe),a=t+To;else if(Yo(e,t))r=e.getUint16(t+Fe);else if(Ko(e,t)){t++;continue}else break;t+=Fe+r}return{hasAppMarkers:t>Bn,fileDataOffset:i||n,jfifDataOffset:o,tiffHeaderOffset:s,iptcDataOffset:c,xmpChunks:d,iccChunks:x,mpfDataOffset:a}}function Mo(e,t){return e.getUint16(t)===Nr}function wo(e,t){return e.getUint16(t)===Dr}function Lo(e,t){const r=an.length;return e.getUint16(t)===Or&&ne(e,t+Ce,r)===an}function ko(e,t){const r=Zn.length;return e.getUint16(t)===Or&&ne(e,t+Ce,r)===Zn}function Go(e,t){const r=un.length;return e.getUint16(t)===Rr&&ne(e,t+Ce,r)===Do&&e.getUint8(t+Ce+r)===0}function Bo(e,t){const r=un.length;return e.getUint16(t)===An&&ne(e,t+Ce,r)===un&&e.getUint8(t+Ce+r)===0}function Ho(e,t){return e.getUint16(t)===An&&jo(e,t)}function jo(e,t){const r=zn.length;return ne(e,t+Ce,r)===zn}function $o(e,t){return e.getUint16(t)===An&&Zo(e,t)}function Zo(e,t){const r=Xn.length;return ne(e,t+Ce,r)===Xn}function zo(e,t){return{dataOffset:e+Hn,length:t-(Hn-Fe)}}function Xo(e,t){return{dataOffset:e+jn,length:t-(jn-Fe)}}function Wo(e,t){const r=Wn.length;return e.getUint16(t)===Po&&ne(e,t+Ce,r)===Wn&&e.getUint8(t+Ce+r)===0}function Yo(e,t){const r=e.getUint16(t);return r>=Rr&&r<=Uo||r===vo||r===Nr||r===Dr||r===Io||r===bo||r===_o||r===Co}function Ko(e,t){return e.getUint16(t)===No}const Yn={isPngFile:Qo,findPngOffsets:Vo},cn=`PNG\r

`,Rt=4,we=4,At=0,rt=Rt,Ae=Rt+we,fn="XML:com.adobe.xmp\0",qo="tEXt",Mr="iTXt",wr="pHYs",Lr="tIME",Jo="eXIf";function Qo(e){return!!e&&ne(e,0,cn.length)===cn}function Vo(e){const r={hasAppMarkers:!1};let i=cn.length;for(;i+Rt+we<=e.byteLength;){if(es(e,i))r.hasAppMarkers=!0,r.pngHeaderOffset=i+Ae;else if(ts(e,i)){const n=os(e,i);n!==void 0&&(r.hasAppMarkers=!0,r.xmpChunks=[{dataOffset:n,length:e.getUint32(i+At)-(n-(i+Ae))}])}else if(ns(e,i)){r.hasAppMarkers=!0;const n=ne(e,i+rt,we);r.pngTextChunks||(r.pngTextChunks=[]),r.pngTextChunks.push({length:e.getUint32(i+At),type:n,offset:i+Ae})}else rs(e,i)?(r.hasAppMarkers=!0,r.tiffHeaderOffset=i+Ae):is(e,i)&&(r.hasAppMarkers=!0,r.pngChunkOffsets||(r.pngChunkOffsets=[]),r.pngChunkOffsets.push(i+At));i+=e.getUint32(i+At)+Rt+we+4}return r}function es(e,t){const r="IHDR";return ne(e,t+rt,we)===r}function ts(e,t){const r="iTXt";return ne(e,t+rt,we)===r&&ne(e,t+Ae,fn.length)===fn}function ns(e,t){const r="tEXt",i="iTXt",n=ne(e,t+rt,we);return n===r||n===i}function rs(e,t){return ne(e,t+rt,we)===Jo}function is(e,t){const r=[wr,Lr],i=ne(e,t+rt,we);return r.includes(i)}function os(e,t){t+=Ae+fn.length+1+1;let n=0;for(;n<2&&t<e.byteLength;)e.getUint8(t)===0&&n++,t++;if(!(n<2))return t}const Kn={isHeicFile:ss,findHeicOffsets:as};function ss(e){if(!e)return!1;const t="ftyp",r=4,i=["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"],n=4,o=ne(e,r+t.length,n);return ne(e,r,t.length)===t&&i.indexOf(o)!==-1}function as(e){{const{offset:t,length:r}=us(e);if(t===void 0)return{hasAppMarkers:!1};const i=Math.min(t+r,e.byteLength),{exifItemOffset:n,ilocOffset:o,colrOffset:s}=ds(e,t,i),c=hs(e,n,o,i),d=gs(e,s,i);return{hasAppMarkers:c!==void 0||d!==void 0,tiffHeaderOffset:c,iccChunks:d}}}function us(e){let o=0;for(;o+4+4<=e.byteLength;){const s=kr(e,o);if(s>=8&&ne(e,o+4,4)==="meta")return{offset:o,length:s};o+=s}return{offset:void 0,length:0}}function kr(e,t){const i=e.getUint32(t);return cs(i)?e.byteLength-t:fs(i)&&ls(e,t)?e.getUint32(t+12):i}function cs(e){return e===0}function fs(e){return e===1}function ls(e,t){return e.getUint32(t+8)===0}function ds(e,t,r){const o={ilocOffset:void 0,exifItemOffset:void 0,colrOffset:void 0};for(;t+4<=r&&(!o.ilocOffset||!o.exifItemOffset||!o.colrOffset);){const s=ne(e,t,4);s==="iloc"?o.ilocOffset=t:s==="Exif"?o.exifItemOffset=t+-4:s==="colr"&&(o.colrOffset=t+-4),t++}return o}function hs(e,t,r,i){if(!r||!t||t+2>i)return;const a=e.getUint16(t);for(r+=12;r+16<=i;){if(e.getUint16(r)===a){const u=e.getUint32(r+8);if(u+4<=e.byteLength){const S=e.getUint32(u)+4;return u+S}}r+=16}}function gs(e,t,r){if(!t||t+12>r)return;const s=ne(e,t+8,4);if(!(s!=="prof"&&s!=="rICC"))return[{offset:t+12,length:kr(e,t)-12,chunkNumber:1,chunksTotal:1}]}const qn={isWebpFile:ps,findOffsets:ms};function ps(e){const r="RIFF",n="WEBP";return!!e&&ne(e,0,r.length)===r&&ne(e,8,n.length)===n}function ms(e){const i="Exif\0\0";let o=12,s=!1,c,d,x;for(;o+8<e.byteLength;){const a=ne(e,o,4),f=e.getUint32(o+4,!0);a==="EXIF"?(s=!0,ne(e,o+8,i.length)===i?c=o+8+i.length:c=o+8):a==="XMP "?(s=!0,d=[{dataOffset:o+8,length:f}]):a==="ICCP"&&(s=!0,x=[{offset:o+8,length:f,chunkNumber:1,chunksTotal:1}]),o+=8+(f%2===0?f:f+1)}return{hasAppMarkers:s,tiffHeaderOffset:c,xmpChunks:d,iccChunks:x}}const xs={parseAppMarkers:Ss};function Ss(e){if(kn.isTiffFile(e))return kn.findTiffOffsets();if(Gn.isJpegFile(e))return Gn.findJpegOffsets(e);if(Yn.isPngFile(e))return Yn.findPngOffsets(e);if(Kn.isHeicFile(e))return Kn.findHeicOffsets(e);if(qn.isWebpFile(e))return qn.findOffsets(e);throw new Error("Invalid image format")}const Gr={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},ln={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13},W={getAsciiValue:Es,getByteAt:Br,getAsciiAt:As,getShortAt:ys,getLongAt:Ot,getRationalAt:Ts,getUndefinedAt:Fs,getSlongAt:dn,getSrationalAt:Is,getIfdPointerAt:bs,typeSizes:Gr,tagTypes:ln,getTypeSize:_s};function Es(e){return e.map(t=>String.fromCharCode(t))}function Br(e,t){return e.getUint8(t)}function As(e,t){return e.getUint8(t)}function ys(e,t,r){return e.getUint16(t,r===nt.LITTLE_ENDIAN)}function Ot(e,t,r){return e.getUint32(t,r===nt.LITTLE_ENDIAN)}function Ts(e,t,r){return[Ot(e,t,r),Ot(e,t+4,r)]}function Fs(e,t){return Br(e,t)}function dn(e,t,r){return e.getInt32(t,r===nt.LITTLE_ENDIAN)}function Is(e,t,r){return[dn(e,t,r),dn(e,t+4,r)]}function bs(e,t,r){return Ot(e,t,r)}function _s(e){if(ln[e]===void 0)throw new Error("No such type found.");return Gr[ln[e]]}const te={ApertureValue:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2),ColorSpace(e){return e===1?"sRGB":e===65535?"Uncalibrated":"Unknown"},ComponentsConfiguration(e){return e.map(t=>{if(t===49)return"Y";if(t===50)return"Cb";if(t===51)return"Cr";if(t===52)return"R";if(t===53)return"G";if(t===54)return"B"}).join("")},Contrast(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},CustomRendered(e){return e===0?"Normal process":e===1?"Custom process":"Unknown"},ExposureMode(e){return e===0?"Auto exposure":e===1?"Manual exposure":e===2?"Auto bracket":"Unknown"},ExposureProgram(e){return e===0?"Undefined":e===1?"Manual":e===2?"Normal program":e===3?"Aperture priority":e===4?"Shutter priority":e===5?"Creative program":e===6?"Action program":e===7?"Portrait mode":e===8?"Landscape mode":e===9?"Bulb":"Unknown"},ExposureTime(e){return e[0]>=e[1]?`${Math.round(e[0]/e[1])}`:e[0]!==0?`1/${Math.round(e[1]/e[0])}`:`0/${e[1]}`},FNumber:e=>`f/${e[0]/e[1]}`,FocalLength:e=>e[0]/e[1]+" mm",FocalPlaneResolutionUnit(e){return e===2?"inches":e===3?"centimeters":"Unknown"},LightSource:e=>e===1?"Daylight":e===2?"Fluorescent":e===3?"Tungsten (incandescent light)":e===4?"Flash":e===9?"Fine weather":e===10?"Cloudy weather":e===11?"Shade":e===12?"Daylight fluorescent (D 5700 – 7100K)":e===13?"Day white fluorescent (N 4600 – 5400K)":e===14?"Cool white fluorescent (W 3900 – 4500K)":e===15?"White fluorescent (WW 3200 – 3700K)":e===17?"Standard light A":e===18?"Standard light B":e===19?"Standard light C":e===20?"D55":e===21?"D65":e===22?"D75":e===23?"D50":e===24?"ISO studio tungsten":e===255?"Other light source":"Unknown",MeteringMode(e){return e===1?"Average":e===2?"CenterWeightedAverage":e===3?"Spot":e===4?"MultiSpot":e===5?"Pattern":e===6?"Partial":e===255?"Other":"Unknown"},ResolutionUnit(e){return e===2?"inches":e===3?"centimeters":"Unknown"},Saturation(e){return e===0?"Normal":e===1?"Low saturation":e===2?"High saturation":"Unknown"},SceneCaptureType(e){return e===0?"Standard":e===1?"Landscape":e===2?"Portrait":e===3?"Night scene":"Unknown"},Sharpness(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},ShutterSpeedValue(e){const t=Math.pow(2,e[0]/e[1]);return t<=1?`${Math.round(1/t)}`:`1/${Math.round(t)}`},WhiteBalance(e){return e===0?"Auto white balance":e===1?"Manual white balance":"Unknown"},XResolution:e=>""+Math.round(e[0]/e[1]),YResolution:e=>""+Math.round(e[0]/e[1])},Cs={11:"ProcessingSoftware",254:{name:"SubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"})[e]||"Unknown"},255:{name:"OldSubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"})[e]||"Unknown"},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:e=>({1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"})[e]||"Unknown"},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:e=>({1:"Normal",2:"Reversed"})[e]||"Unknown"},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:e=>e===1?"top-left":e===2?"top-right":e===3?"bottom-right":e===4?"bottom-left":e===5?"left-top":e===6?"right-top":e===7?"right-bottom":e===8?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:te.XResolution},283:{name:"YResolution",description:te.YResolution},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:e=>""+Math.round(e[0]/e[1])},287:{name:"YPosition",description:e=>""+Math.round(e[0]/e[1])},290:{name:"GrayResponseUnit",description:e=>({1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"})[e]||"Unknown"},296:{name:"ResolutionUnit",description:te.ResolutionUnit},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:e=>e.map(t=>`${t[0]}/${t[1]}`).join(", ")},319:{name:"PrimaryChromaticities",description:e=>e.map(t=>`${t[0]}/${t[1]}`).join(", ")},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:e=>({1:"CMYK",2:"Not CMYK"})[e]||"Unknown"},337:"TargetPrinter",338:{name:"ExtraSamples",description:e=>({0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"})[e]||"Unknown"},339:{name:"SampleFormat",description:e=>{const t={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(e)?e.map(r=>t[r]||"Unknown").join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:e=>e.map(t=>""+t[0]/t[1]).join("/")},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:e=>e===1?"centered":e===2?"co-sited":"undefined "+e},532:{name:"ReferenceBlackWhite",description:e=>e.map(t=>""+t[0]/t[1]).join(", ")},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:e=>e.join("; ")},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:e=>({0:"Unsafe",1:"Safe"})[e]||"Unknown"},50778:{name:"CalibrationIlluminant1",description:te.LightSource},50779:{name:"CalibrationIlluminant2",description:te.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:e=>({0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"})[e]||"Unknown"},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:e=>({1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"})[e]||"Unknown"},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51108:{name:"ProfileLookTableEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:e=>({0:"Auto",1:"None"})[e]||"Unknown"},51111:"NewRawImageDigest",51112:"RawToPreviewGain"},Ps={33434:{name:"ExposureTime",description:te.ExposureTime},33437:{name:"FNumber",description:te.FNumber},34850:{name:"ExposureProgram",description:te.ExposureProgram},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:e=>({1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"})[e]||"Unknown"},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:e=>ge(e)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:te.ComponentsConfiguration},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:te.ShutterSpeedValue},37378:{name:"ApertureValue",description:te.ApertureValue},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2)},37382:{name:"SubjectDistance",description:e=>e[0]/e[1]+" m"},37383:{name:"MeteringMode",description:te.MeteringMode},37384:{name:"LightSource",description:te.LightSource},37385:{name:"Flash",description:e=>e===0?"Flash did not fire":e===1?"Flash fired":e===5?"Strobe return light not detected":e===7?"Strobe return light detected":e===9?"Flash fired, compulsory flash mode":e===13?"Flash fired, compulsory flash mode, return light not detected":e===15?"Flash fired, compulsory flash mode, return light detected":e===16?"Flash did not fire, compulsory flash mode":e===24?"Flash did not fire, auto mode":e===25?"Flash fired, auto mode":e===29?"Flash fired, auto mode, return light not detected":e===31?"Flash fired, auto mode, return light detected":e===32?"No flash function":e===65?"Flash fired, red-eye reduction mode":e===69?"Flash fired, red-eye reduction mode, return light not detected":e===71?"Flash fired, red-eye reduction mode, return light detected":e===73?"Flash fired, compulsory flash mode, red-eye reduction mode":e===77?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":e===79?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":e===89?"Flash fired, auto mode, red-eye reduction mode":e===93?"Flash fired, auto mode, return light not detected, red-eye reduction mode":e===95?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"},37386:{name:"FocalLength",description:te.FocalLength},37393:"ImageNumber",37394:{name:"SecurityClassification",description:e=>({C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"})[e]||"Unknown"},37395:"ImageHistory",37396:{name:"SubjectArea",description:e=>e.length===2?`Location; X: ${e[0]}, Y: ${e[1]}`:e.length===3?`Circle; X: ${e[0]}, Y: ${e[1]}, diameter: ${e[2]}`:e.length===4?`Rectangle; X: ${e[0]}, Y: ${e[1]}, width: ${e[2]}, height: ${e[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:rn},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37888:{name:"AmbientTemperature",description:e=>e[0]/e[1]+" °C"},37889:{name:"Humidity",description:e=>e[0]/e[1]+" %"},37890:{name:"Pressure",description:e=>e[0]/e[1]+" hPa"},37891:{name:"WaterDepth",description:e=>e[0]/e[1]+" m"},37892:{name:"Acceleration",description:e=>e[0]/e[1]+" mGal"},37893:{name:"CameraElevationAngle",description:e=>e[0]/e[1]+" °"},40960:{name:"FlashpixVersion",description:e=>e.map(t=>String.fromCharCode(t)).join("")},40961:{name:"ColorSpace",description:te.ColorSpace},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:te.FocalPlaneResolutionUnit},41492:{name:"SubjectLocation",description:([e,t])=>`X: ${e}, Y: ${t}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:e=>e===1?"Undefined":e===2?"One-chip color area sensor":e===3?"Two-chip color area sensor":e===4?"Three-chip color area sensor":e===5?"Color sequential area sensor":e===7?"Trilinear sensor":e===8?"Color sequential linear sensor":"Unknown"},41728:{name:"FileSource",description:e=>e===3?"DSC":"Unknown"},41729:{name:"SceneType",description:e=>e===1?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:te.CustomRendered},41986:{name:"ExposureMode",description:te.ExposureMode},41987:{name:"WhiteBalance",description:te.WhiteBalance},41988:{name:"DigitalZoomRatio",description:e=>e[0]===0?"Digital zoom was not used":""+e[0]/e[1]},41989:{name:"FocalLengthIn35mmFilm",description:e=>e===0?"Unknown":e},41990:{name:"SceneCaptureType",description:te.SceneCaptureType},41991:{name:"GainControl",description:e=>e===0?"None":e===1?"Low gain up":e===2?"High gain up":e===3?"Low gain down":e===4?"High gain down":"Unknown"},41992:{name:"Contrast",description:te.Contrast},41993:{name:"Saturation",description:te.Saturation},41994:{name:"Sharpness",description:te.Sharpness},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:e=>e===1?"Macro":e===2?"Close view":e===3?"Distant view":"Unknown"},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:e=>{const t=`${e[0][0]/e[0][1]}-${e[1][0]/e[1][1]} mm`;return e[3][1]===0?`${t} f/?`:`${t} f/${1/(e[2][1]/e[2][1]/(e[3][0]/e[3][1]))}`}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:e=>({1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"})[e]||"Unknown"},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},Us={0:{name:"GPSVersionID",description:e=>e[0]===2&&e[1]===2&&e[2]===0&&e[3]===0?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:e=>{const t=e.join("");return t==="N"?"North latitude":t==="S"?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:Dt},3:{name:"GPSLongitudeRef",description:e=>{const t=e.join("");return t==="E"?"East longitude":t==="W"?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:Dt},5:{name:"GPSAltitudeRef",description:e=>e===0?"Sea level":e===1?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:e=>e[0]/e[1]+" m"},7:{name:"GPSTimeStamp",description:e=>e.map(([t,r])=>{const i=t/r;return/^\d(\.|$)/.test(`${i}`)?`0${i}`:i}).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:e=>{const t=e.join("");return t==="A"?"Measurement in progress":t==="V"?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:e=>{const t=e.join("");return t==="2"?"2-dimensional measurement":t==="3"?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:e=>{const t=e.join("");return t==="K"?"Kilometers per hour":t==="M"?"Miles per hour":t==="N"?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:e=>{const t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:e=>{const t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:e=>{const t=e.join("");return t==="N"?"North latitude":t==="S"?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},21:{name:"GPSDestLongitudeRef",description:e=>{const t=e.join("");return t==="E"?"East longitude":t==="W"?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},23:{name:"GPSDestBearingRef",description:e=>{const t=e.join("");return t==="T"?"True direction":t==="M"?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:e=>{const t=e.join("");return t==="K"?"Kilometers":t==="M"?"Miles":t==="N"?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:rn},28:{name:"GPSAreaInformation",description:rn},29:"GPSDateStamp",30:{name:"GPSDifferential",description:e=>e===0?"Measurement without differential correction":e===1?"Differential correction applied":"Unknown"},31:"GPSHPositioningError"},vs={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:e=>ge(e)},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},Ns={45056:{name:"MPFVersion",description:e=>ge(e)},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},Jn=ae({},Cs,Ps),ze={"0th":Jn,exif:Jn,gps:Us,interoperability:vs,mpf:Ns},Qn="Exif IFD Pointer",Vn="GPS Info IFD Pointer",er="Interoperability IFD Pointer",Ds={1:W.getByteAt,2:W.getAsciiAt,3:W.getShortAt,4:W.getLongAt,5:W.getRationalAt,7:W.getUndefinedAt,9:W.getSlongAt,10:W.getSrationalAt,13:W.getIfdPointerAt},tr={read:Rs,readMpf:ks};function Rs(e,t,r){const i=nt.getByteOrder(e,t);let n=Os(e,t,i,r);return n=Ms(n,e,t,i,r),n=ws(n,e,t,i,r),n=Ls(n,e,t,i,r),n}function Os(e,t,r,i){return gt(e,"0th",t,Hr(e,t,r),r,i)}function Hr(e,t,r){return t+W.getLongAt(e,t+4,r)}function Ms(e,t,r,i,n){return e[Qn]!==void 0?ae(e,gt(t,"exif",r,r+e[Qn].value,i,n)):e}function ws(e,t,r,i,n){return e[Vn]!==void 0?ae(e,gt(t,"gps",r,r+e[Vn].value,i,n)):e}function Ls(e,t,r,i,n){return e[er]!==void 0?ae(e,gt(t,"interoperability",r,r+e[er].value,i,n)):e}function ks(e,t,r){const i=nt.getByteOrder(e,t),n=gt(e,"mpf",t,Hr(e,t,i),i,r);return Gs(e,t,n,i)}function Gs(e,t,r,i){if(!r.MPEntry)return r;const o=[];for(let s=0;s<Math.ceil(r.MPEntry.value.length/16);s++){o[s]={};const c=St(r.MPEntry.value,s*16,W.getTypeSize("LONG"),i);o[s].ImageFlags=Bs(c),o[s].ImageFormat=Hs(c),o[s].ImageType=js(c);const d=St(r.MPEntry.value,s*16+4,W.getTypeSize("LONG"),i);o[s].ImageSize={value:d,description:""+d};const x=$s(s)?0:St(r.MPEntry.value,s*16+8,W.getTypeSize("LONG"),i)+t;o[s].ImageOffset={value:x,description:""+x};const a=St(r.MPEntry.value,s*16+12,W.getTypeSize("SHORT"),i);o[s].DependentImage1EntryNumber={value:a,description:""+a};const f=St(r.MPEntry.value,s*16+14,W.getTypeSize("SHORT"),i);o[s].DependentImage2EntryNumber={value:f,description:""+f},o[s].image=e.buffer.slice(x,x+d),Pr(o[s],"base64",function(){return Ur(this.image)})}return r.Images=o,r}function St(e,t,r,i){if(i===nt.LITTLE_ENDIAN){let o=0;for(let s=0;s<r;s++)o+=e[t+s]<<8*s;return o}let n=0;for(let o=0;o<r;o++)n+=e[t+o]<<8*(r-1-o);return n}function Bs(e){const t=[e>>31&1,e>>30&1,e>>29&1],r=[];return t[0]&&r.push("Dependent Parent Image"),t[1]&&r.push("Dependent Child Image"),t[2]&&r.push("Representative Image"),{value:t,description:r.join(", ")||"None"}}function Hs(e){const t=e>>24&7;return{value:t,description:t===0?"JPEG":"Unknown"}}function js(e){const t=e&16777215;return{value:t,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[t]||"Unknown"}}function $s(e){return e===0}function gt(e,t,r,i,n,o){const s=W.getTypeSize("SHORT"),c=12,d={},x=Zs(e,i,n);i+=s;for(let a=0;a<x&&!(i+c>e.byteLength);a++){const f=zs(e,t,r,i,n,o);f!==void 0&&(d[f.name]={id:f.id,value:f.value,description:f.description}),i+=c}if(i<e.byteLength-W.getTypeSize("LONG")){const a=W.getLongAt(e,i,n);a!==0&&(d.Thumbnail=gt(e,t,r,r+a,n,!0))}return d}function Zs(e,t,r){return t+W.getTypeSize("SHORT")<=e.byteLength?W.getShortAt(e,t,r):0}function zs(e,t,r,i,n,o){const c=W.getTypeSize("SHORT"),d=c+W.getTypeSize("SHORT"),x=d+W.getTypeSize("LONG"),a=W.getShortAt(e,i,n),f=W.getShortAt(e,i+c,n),u=W.getLongAt(e,i+d,n);let l;if(W.typeSizes[f]===void 0||!o&&ze[t][a]===void 0)return;if(Xs(f,u))l=nr(e,i+x,f,u,n);else{const I=W.getLongAt(e,i+x,n);if(Ws(e,r,I,f,u)){const y=a===33723;l=nr(e,r+I,f,u,n,y)}else l="<faulty value>"}f===W.tagTypes.ASCII&&(l=Ys(l),l=Ks(l));let S=`undefined-${a}`,P=l;if(ze[t][a]!==void 0)if(ze[t][a].name!==void 0&&ze[t][a].description!==void 0){S=ze[t][a].name;try{P=ze[t][a].description(l)}catch{P=rr(l)}}else f===W.tagTypes.RATIONAL||f===W.tagTypes.SRATIONAL?(S=ze[t][a],P=""+l[0]/l[1]):(S=ze[t][a],P=rr(l));return{id:a,name:S,value:l,description:P}}function Xs(e,t){return W.typeSizes[e]*t<=W.getTypeSize("LONG")}function nr(e,t,r,i,n,o=!1){let s=[];o&&(i=i*W.typeSizes[r],r=W.tagTypes.BYTE);for(let c=0;c<i;c++)s.push(Ds[r](e,t,n)),t+=W.typeSizes[r];return r===W.tagTypes.ASCII?s=W.getAsciiValue(s):s.length===1&&(s=s[0]),s}function Ws(e,t,r,i,n){return t+r+W.typeSizes[i]*n<=e.byteLength}function Ys(e){const t=[];let r=0;for(let i=0;i<e.length;i++){if(e[i]==="\0"){r++;continue}t[r]===void 0&&(t[r]=""),t[r]+=e[i]}return t}function Ks(e){try{return e.map(t=>decodeURIComponent(escape(t)))}catch{return e}}function rr(e){return e instanceof Array?e.join(", "):e}const qs={read:Js};function Js(e,t){const r=Qs(e,t),i=na(e,t,r);return{"Bits Per Sample":Vs(e,t,r),"Image Height":ea(e,t,r),"Image Width":ta(e,t,r),"Color Components":i,Subsampling:i&&ra(e,t,i.value,r)}}function Qs(e,t){return W.getShortAt(e,t)}function Vs(e,t,r){if(2+1>r)return;const o=W.getByteAt(e,t+2);return{value:o,description:""+o}}function ea(e,t,r){if(3+2>r)return;const o=W.getShortAt(e,t+3);return{value:o,description:`${o}px`}}function ta(e,t,r){if(5+2>r)return;const o=W.getShortAt(e,t+5);return{value:o,description:`${o}px`}}function na(e,t,r){if(7+1>r)return;const o=W.getByteAt(e,t+7);return{value:o,description:""+o}}function ra(e,t,r,i){if(8+3*r>i)return;const s=[];for(let c=0;c<r;c++){const d=t+8+c*3;s.push([W.getByteAt(e,d),W.getByteAt(e,d+1),W.getByteAt(e,d+2)])}return{value:s,description:s.length>1?ia(s)+oa(s):""}}function ia(e){const t={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return e.map(r=>t[r[0]]).join("")}function oa(e){const t={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return e.length===0||e[0][1]===void 0||t[e[0][1]]===void 0?"":t[e[0][1]]}const sa={read:aa};function aa(e,t){const r=ua(e,t),i=ga(e,t,r),n=pa(e,t,r),o={"JFIF Version":ca(e,t,r),"Resolution Unit":fa(e,t,r),XResolution:da(e,t,r),YResolution:ha(e,t,r),"JFIF Thumbnail Width":i,"JFIF Thumbnail Height":n};if(i!==void 0&&n!==void 0){const s=ma(e,t,3*i.value*n.value,r);s&&(o["JFIF Thumbnail"]=s)}for(const s in o)o[s]===void 0&&delete o[s];return o}function ua(e,t){return W.getShortAt(e,t)}function ca(e,t,r){if(7+2>r)return;const o=W.getByteAt(e,t+7),s=W.getByteAt(e,t+7+1);return{value:o*256+s,description:o+"."+s}}function fa(e,t,r){if(9+1>r)return;const o=W.getByteAt(e,t+9);return{value:o,description:la(o)}}function la(e){return e===0?"None":e===1?"inches":e===2?"cm":"Unknown"}function da(e,t,r){if(10+2>r)return;const o=W.getShortAt(e,t+10);return{value:o,description:""+o}}function ha(e,t,r){if(12+2>r)return;const o=W.getShortAt(e,t+12);return{value:o,description:""+o}}function ga(e,t,r){if(14+1>r)return;const o=W.getByteAt(e,t+14);return{value:o,description:`${o}px`}}function pa(e,t,r){if(15+1>r)return;const o=W.getByteAt(e,t+15);return{value:o,description:`${o}px`}}function ma(e,t,r,i){return r===0||16+r>i?void 0:{value:e.buffer.slice(t+16,t+16+r),description:"<24-bit RGB pixel data>"}}const Ke={iptc:{256:{name:"Model Version",description:e=>((e[0]<<8)+e[1]).toString()},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:e=>((e[0]<<8)+e[1]).toString()},278:{name:"File Format Version",description:e=>((e[0]<<8)+e[1]).toString()},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:qt},336:{name:"Time Sent",description:Jt},346:{name:"Coded Character Set",description:ir,encoding_name:ir},356:"UNO",376:{name:"ARM Identifier",description:e=>((e[0]<<8)+e[1]).toString()},378:{name:"ARM Version",description:e=>((e[0]<<8)+e[1]).toString()},512:{name:"Record Version",description:e=>((e[0]<<8)+e[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:e=>ge(e)==="01"?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:e=>{const t=ge(e).split(":");return t[2]+(t[3]?"/"+t[3]:"")+(t[4]?"/"+t[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:e=>{const t=ge(e);return t==="01"?"Object Kill":t==="02"?"Object Replace":t==="03"?"Object Append":t==="04"?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:qt},572:{name:"Time Created",description:Jt},574:{name:"Digital Creation Date",description:qt},575:{name:"Digital Creation Time",description:Jt},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:e=>{const t=ge(e);return t==="a"?"morning":t==="p"?"evening":t==="b"?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:e=>e},642:"Image Type",643:{name:"Image Orientation",description:e=>{const t=ge(e);return t==="P"?"Portrait":t==="L"?"Landscape":t==="S"?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:e=>{const t=ge(e),r=t.charAt(0),i=t.charAt(1);let n="";return r==="1"?n+="Mono":r==="2"&&(n+="Stereo"),i==="A"?n+=", actuality":i==="C"?n+=", question and answer session":i==="M"?n+=", music, transmitted by itself":i==="Q"?n+=", response to a question":i==="R"?n+=", raw sound":i==="S"?n+=", scener":i==="V"?n+=", voicer":i==="W"&&(n+=", wrap"),n!==""?n:t}},663:{name:"Audio Sampling Rate",description:e=>parseInt(ge(e),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:e=>{const t=parseInt(ge(e),10);return t+(t===1?" bit":" bits")}},665:{name:"Audio Duration",description:e=>{const t=ge(e);return t.length>=6?t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2):t}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:e=>e.length===2?"ObjectData Preview File Format":"Record 2 destination",description:e=>{if(e.length===2){const t=(e[0]<<8)+e[1];return t===0?"No ObjectData":t===1?"IPTC-NAA Digital Newsphoto Parameter Record":t===2?"IPTC7901 Recommended Message Format":t===3?"Tagged Image File Format (Adobe/Aldus Image data)":t===4?"Illustrator (Adobe Graphics data)":t===5?"AppleSingle (Apple Computer Inc)":t===6?"NAA 89-3 (ANPA 1312)":t===7?"MacBinary II":t===8?"IPTC Unstructured Character Oriented File Format (UCOFF)":t===9?"United Press International ANPA 1312 variant":t===10?"United Press International Down-Load Message":t===11?"JPEG File Interchange (JFIF)":t===12?"Photo-CD Image-Pac (Eastman Kodak)":t===13?"Microsoft Bit Mapped Graphics File [*.BMP]":t===14?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":t===15?"Audio plus Moving Video [*.AVI] (Microsoft)":t===16?"PC DOS/Windows Executable Files [*.COM][*.EXE]":t===17?"Compressed Binary File [*.ZIP] (PKWare Inc)":t===18?"Audio Interchange File Format AIFF (Apple Computer Inc)":t===19?"RIFF Wave (Microsoft Corporation)":t===20?"Freehand (Macromedia/Aldus)":t===21?'Hypertext Markup Language "HTML" (The Internet Society)':t===22?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":t===23?"MPEG 2 Audio Layer 3, ISO/IEC":t===24?"Portable Document File (*.PDF) Adobe":t===25?"News Industry Text Format (NITF)":t===26?"Tape Archive (*.TAR)":t===27?"Tidningarnas Telegrambyrå NITF version (TTNITF DTD)":t===28?"Ritzaus Bureau NITF version (RBNITF DTD)":t===29?"Corel Draw [*.CDR]":`Unknown format ${t}`}return ge(e)}},713:{name:"ObjectData Preview File Format Version",description:(e,t)=>{const r={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},i=ge(e);if(t["ObjectData Preview File Format"]){const n=ge(t["ObjectData Preview File Format"].value);if(r[n]&&r[n][i])return r[n][i]}return i}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:e=>e[0].toString()},1812:{name:"Max Subfile Size",description:e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<8)+e[r];return t.toString()}},1882:{name:"ObjectData Size Announced",description:e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<8)+e[r];return t.toString()}},1887:{name:"Maximum ObjectData Size",description:e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<8)+e[r];return t.toString()}}}};function qt(e){const t=ge(e);return t.length>=8?t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2):t}function Jt(e){const t=ge(e);let r=t;return t.length>=6&&(r=t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2),t.length===11&&(r+=t.substr(6,1)+t.substr(7,2)+":"+t.substr(9,2))),r}function ir(e){const t=ge(e);return t==="\x1B%G"?"UTF-8":t==="\x1B%5"?"Windows-1252":t==="\x1B%/G"?"UTF-8 Level 1":t==="\x1B%/H"?"UTF-8 Level 2":t==="\x1B%/I"?"UTF-8 Level 3":t==="\x1B/A"?"ISO-8859-1":t==="\x1B/B"?"ISO-8859-2":t==="\x1B/C"?"ISO-8859-3":t==="\x1B/D"?"ISO-8859-4":t==="\x1B/@"?"ISO-8859-5":t==="\x1B/G"?"ISO-8859-6":t==="\x1B/F"?"ISO-8859-7":t==="\x1B/H"?"ISO-8859-8":"Unknown"}const xa={get:Sa};function Sa(){if(typeof TextDecoder<"u")return TextDecoder}const Ea=5,jr={decode:Aa,TAG_HEADER_SIZE:Ea};function Aa(e,t){const r=xa.get();if(typeof r<"u"&&e!==void 0)try{return new r(e).decode(Uint8Array.from(t))}catch{}const i=t.map(n=>String.fromCharCode(n)).join("");return ya(i)}function ya(e){try{return decodeURIComponent(escape(e))}catch{return e}}const Ta=943868237,$r=4,Qt=$r+8,Fa=1028,Zr=5,or={read:Ia};function Ia(e,t,r){try{if(Array.isArray(e))return sr(new DataView(Uint8Array.from(e).buffer),{size:e.length},0,r);const{naaBlock:i,dataOffset:n}=ba(e,t);return sr(e,i,n,r)}catch{return{}}}function ba(e,t){for(;t+Qt<=e.byteLength;){const r=_a(e,t);if(Ca(r))return{naaBlock:r,dataOffset:t+Qt};t+=Qt+r.size+Pa(r)}throw new Error("No IPTC NAA resource block.")}function _a(e,t){if(e.getUint32(t,!1)!==Ta)throw new Error("Not an IPTC resource block.");return{type:e.getUint16(t+$r),size:e.getUint16(t+10)}}function Ca(e){return e.type===Fa}function Pa(e){return e.size%2!==0?1:0}function sr(e,t,r,i){const n={};let o;const s=r+t.size;for(;r<s&&r<e.byteLength;){const{tag:c,tagSize:d}=Ua(e,r,n,o,i);if(c===null)break;c&&("encoding"in c&&(o=c.encoding),n[c.name]===void 0||c.repeatable===void 0?n[c.name]={id:c.id,value:c.value,description:c.description}:(n[c.name]instanceof Array||(n[c.name]=[{id:n[c.name].id,value:n[c.name].value,description:n[c.name].description}]),n[c.name].push({id:c.id,value:c.value,description:c.description}))),r+=Zr+d}return n}function Ua(e,t,r,i,n){if(va(e,t))return{tag:null,tagSize:0};const c=e.getUint16(t+1),d=e.getUint16(t+3);if(!n&&!Ke.iptc[c])return{tag:void 0,tagSize:d};const x=Na(e,t+Zr,d),a={id:c,name:Da(Ke.iptc[c],c,x),value:x,description:Ma(Ke.iptc[c],x,r,i)};return ka(c)&&(a.repeatable=!0),Ga(c)&&(a.encoding=Ke.iptc[c].encoding_name(x)),{tag:a,tagSize:d}}function va(e,t){return e.getUint8(t)!==28}function Na(e,t,r){const i=[];for(let n=0;n<r;n++)i.push(e.getUint8(t+n));return i}function Da(e,t,r){return e?Ra(e)?e:Oa(e)?e.name(r):e.name:`undefined-${t}`}function Ra(e){return typeof e=="string"}function Oa(e){return typeof e.name=="function"}function Ma(e,t,r,i){if(La(e))try{return e.description(t,r)}catch{}return wa(e,t)?jr.decode(i,t):t}function wa(e,t){return e&&t instanceof Array}function La(e){return e&&e.description!==void 0}function ka(e){return Ke.iptc[e]&&Ke.iptc[e].repeatable}function Ga(e){return Ke.iptc[e]&&Ke.iptc[e].encoding_name!==void 0}const It={"tiff:Orientation"(e){return e==="1"?"Horizontal (normal)":e==="2"?"Mirror horizontal":e==="3"?"Rotate 180":e==="4"?"Mirror vertical":e==="5"?"Mirror horizontal and rotate 270 CW":e==="6"?"Rotate 90 CW":e==="7"?"Mirror horizontal and rotate 90 CW":e==="8"?"Rotate 270 CW":e},"tiff:ResolutionUnit":e=>te.ResolutionUnit(parseInt(e,10)),"tiff:XResolution":e=>st(te.XResolution,e),"tiff:YResolution":e=>st(te.YResolution,e),"exif:ApertureValue":e=>st(te.ApertureValue,e),"exif:GPSLatitude":ar,"exif:GPSLongitude":ar,"exif:FNumber":e=>st(te.FNumber,e),"exif:FocalLength":e=>st(te.FocalLength,e),"exif:FocalPlaneResolutionUnit":e=>te.FocalPlaneResolutionUnit(parseInt(e,10)),"exif:ColorSpace":e=>te.ColorSpace(Ba(e)),"exif:ComponentsConfiguration"(e,t){if(/^\d, \d, \d, \d$/.test(t)){const r=t.split(", ").map(i=>i.charCodeAt(0));return te.ComponentsConfiguration(r)}return t},"exif:Contrast":e=>te.Contrast(parseInt(e,10)),"exif:CustomRendered":e=>te.CustomRendered(parseInt(e,10)),"exif:ExposureMode":e=>te.ExposureMode(parseInt(e,10)),"exif:ExposureProgram":e=>te.ExposureProgram(parseInt(e,10)),"exif:ExposureTime"(e){return zr(e)?te.ExposureTime(e.split("/").map(t=>parseInt(t,10))):e},"exif:MeteringMode":e=>te.MeteringMode(parseInt(e,10)),"exif:Saturation":e=>te.Saturation(parseInt(e,10)),"exif:SceneCaptureType":e=>te.SceneCaptureType(parseInt(e,10)),"exif:Sharpness":e=>te.Sharpness(parseInt(e,10)),"exif:ShutterSpeedValue":e=>st(te.ShutterSpeedValue,e),"exif:WhiteBalance":e=>te.WhiteBalance(parseInt(e,10))};function st(e,t){return zr(t)?e(t.split("/")):t}function Ba(e){return e.substring(0,2)==="0x"?parseInt(e.substring(2),16):parseInt(e,10)}function zr(e){return/^-?\d+\/-?\d+$/.test(e)}function ar(e){const[t,r]=e.split(",");if(t!==void 0&&r!==void 0){const i=parseFloat(t),n=parseFloat(r),o=r.charAt(r.length-1);if(!Number.isNaN(i)&&!Number.isNaN(n))return""+(i+n/60)+o}return e}const Ha={get:ja};function ja(){if(typeof DOMParser<"u")return DOMParser;try{return __non_webpack_require__("@xmldom/xmldom").DOMParser}catch{return}}const ur={read:$a};function $a(e,t){return typeof e=="string"?fr({},e):Za(e,t).reduce(fr,{})}function Za(e,t){if(t.length===0)return[];const r=[cr(e,t.slice(0,1))];return t.length>1&&r.push(cr(e,t.slice(1))),r}function cr(e,t){const r=t.reduce((o,s)=>o+s.length,0),i=new Uint8Array(r);let n=0;for(let o=0;o<t.length;o++){const s=t[o],c=e.buffer.slice(s.dataOffset,s.dataOffset+s.length);i.set(new Uint8Array(c),n),n+=s.length}return new DataView(i.buffer)}function fr(e,t){try{const{doc:r,raw:i}=za(t);e._raw=(e._raw||"")+i;const n=Xr(r);return ae(e,Yr(Wr(n,!0)))}catch{return e}}function za(e){const t=Ha.get();if(!t)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;const r=new t,i=typeof e=="string"?e:ne(e,0,e.byteLength),n=r.parseFromString(Xa(i),"application/xml");if(n.documentElement.nodeName==="parsererror")throw new Error(n.documentElement.textContent);return{doc:n,raw:i}}function Xa(e){return e.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1")}function Xr(e){for(let t=0;t<e.childNodes.length;t++){if(e.childNodes[t].tagName==="x:xmpmeta")return Xr(e.childNodes[t]);if(e.childNodes[t].tagName==="rdf:RDF")return e.childNodes[t]}throw new Error}function Wr(e,t=!1){const r=Wa(e);return Ya(r)?t?{}:Ka(r[0]):qa(r)}function Wa(e){const t=[];for(let r=0;r<e.childNodes.length;r++)t.push(e.childNodes[r]);return t}function Ya(e){return e.length===1&&e[0].nodeName==="#text"}function Ka(e){return e.nodeValue}function qa(e){const t={};return e.forEach(r=>{if(Ja(r)){const i=Qa(r);t[r.nodeName]!==void 0?(Array.isArray(t[r.nodeName])||(t[r.nodeName]=[t[r.nodeName]]),t[r.nodeName].push(i)):t[r.nodeName]=i}}),t}function Ja(e){return e.nodeName&&e.nodeName!=="#text"}function Qa(e){return{attributes:Va(e),value:Wr(e)}}function Va(e){const t={};for(let r=0;r<e.attributes.length;r++)t[e.attributes[r].nodeName]=decodeURIComponent(escape(e.attributes[r].value));return t}function Yr(e){const t={};if(typeof e=="string")return e;for(const r in e){let i=e[r];Array.isArray(i)||(i=[i]),i.forEach(n=>{ae(t,yn(n.attributes)),typeof n.value=="object"&&ae(t,Kr(n.value))})}return t}function yn(e){const t={};for(const r in e)eu(r)&&(t[Bt(r)]={value:e[r],attributes:{},description:Be(e[r],r)});return t}function eu(e){return e!=="rdf:parseType"&&!Gt(e)}function Gt(e){return e.split(":")[0]==="xmlns"}function Bt(e){return/^MicrosoftPhoto(_\d+_)?:Rating$/i.test(e)?"RatingPercent":e.split(":")[1]}function Be(e,t=void 0){if(Array.isArray(e)){const r=tu(e);return t&&typeof It[t]=="function"?It[t](e,r):r}if(typeof e=="object")return nu(e);try{return t&&typeof It[t]=="function"?It[t](e):decodeURIComponent(escape(e))}catch{return e}}function tu(e){return e.map(t=>t.value!==void 0?Be(t.value):Be(t)).join(", ")}function nu(e){const t=[];for(const r in e)t.push(`${ru(r)}: ${Be(e[r].value)}`);return t.join("; ")}function ru(e){return e==="CiAdrCity"?"CreatorCity":e==="CiAdrCtry"?"CreatorCountry":e==="CiAdrExtadr"?"CreatorAddress":e==="CiAdrPcode"?"CreatorPostalCode":e==="CiAdrRegion"?"CreatorRegion":e==="CiEmailWork"?"CreatorWorkEmail":e==="CiTelWork"?"CreatorWorkPhone":e==="CiUrlWork"?"CreatorWorkUrl":e}function Kr(e){const t={};for(const r in e)Gt(r)||(t[Bt(r)]=iu(e[r],r));return t}function iu(e,t){return qr(e)?Jr(e,t):Qr(e)?Vr(e,t):ei(e)?ti(e,t):au(e)?uu(e,t):ri(e,t)}function qr(e){return e.attributes["rdf:parseType"]==="Resource"&&e.value["rdf:value"]!==void 0||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]!==void 0}function Jr(e,t){const r=yt(e);e.value["rdf:Description"]!==void 0&&(e=e.value["rdf:Description"]),ae(r,yt(e),ou(e));const i=su(e);return{value:i,attributes:r,description:Be(i,t)}}function yt(e){const t={};for(const r in e.attributes)r!=="rdf:parseType"&&r!=="rdf:resource"&&!Gt(r)&&(t[Bt(r)]=e.attributes[r]);return t}function ou(e){const t={};for(const r in e.value)r!=="rdf:value"&&!Gt(r)&&(t[Bt(r)]=e.value[r].value);return t}function su(e){return ii(e.value["rdf:value"])||e.value["rdf:value"].value}function Qr(e){return e.attributes["rdf:parseType"]==="Resource"||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]===void 0}function Vr(e,t){const r={value:{},attributes:{}};return e.value["rdf:Description"]!==void 0&&(ae(r.value,yn(e.value["rdf:Description"].attributes)),ae(r.attributes,yt(e)),e=e.value["rdf:Description"]),ae(r.value,Kr(e.value)),r.description=Be(r.value,t),r}function ei(e){return Object.keys(e.value).length===0&&e.attributes["xml:lang"]===void 0&&e.attributes["rdf:resource"]===void 0}function ti(e,t){const r=yn(e.attributes);return{value:r,attributes:{},description:Be(r,t)}}function au(e){return ni(e.value)!==void 0}function ni(e){return e["rdf:Bag"]||e["rdf:Seq"]||e["rdf:Alt"]}function uu(e,t){let r=ni(e.value).value["rdf:li"];const i=yt(e),n=[];return r===void 0?r=[]:Array.isArray(r)||(r=[r]),r.forEach(o=>{n.push(cu(o))}),{value:n,attributes:i,description:Be(n,t)}}function cu(e){return qr(e)?Jr(e):Qr(e)?Vr(e).value:ei(e)?ti(e).value:ri(e)}function ri(e,t){const r=ii(e)||Yr(e.value);return{value:r,attributes:yt(e),description:Be(r,t)}}function ii(e){return e.attributes&&e.attributes["rdf:resource"]}const lr={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},dr={4:{name:"Preferred CMM type",value:(e,t)=>ne(e,t,4),description:e=>e!==null?Vt(e):""},8:{name:"Profile Version",value:(e,t)=>e.getUint8(t).toString(10)+"."+(e.getUint8(t+1)>>4).toString(10)+"."+(e.getUint8(t+1)%16).toString(10)},12:{name:"Profile/Device class",value:(e,t)=>ne(e,t,4),description:e=>{switch(e.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return e}}},16:{name:"Color Space",value:(e,t)=>ne(e,t,4)},20:{name:"Connection Space",value:(e,t)=>ne(e,t,4)},24:{name:"ICC Profile Date",value:(e,t)=>fu(e,t).toISOString()},36:{name:"ICC Signature",value:(e,t)=>lu(e.buffer.slice(t,t+4))},40:{name:"Primary Platform",value:(e,t)=>ne(e,t,4),description:e=>Vt(e)},48:{name:"Device Manufacturer",value:(e,t)=>ne(e,t,4),description:e=>Vt(e)},52:{name:"Device Model Number",value:(e,t)=>ne(e,t,4)},64:{name:"Rendering Intent",value:(e,t)=>e.getUint32(t),description:e=>{switch(e){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return e}}},80:{name:"Profile Creator",value:(e,t)=>ne(e,t,4)}};function fu(e,t){const r=e.getUint16(t),i=e.getUint16(t+2)-1,n=e.getUint16(t+4),o=e.getUint16(t+6),s=e.getUint16(t+8),c=e.getUint16(t+10);return new Date(Date.UTC(r,i,n,o,s,c))}function lu(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function Vt(e){switch(e.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return e}}const hr={read:Au},du=84,hu=128,gu="acsp",pu="desc",mu="mluc",xu="text",Su="sig ",Eu=12;function Au(e,t){try{const r=t.reduce((s,c)=>s+c.length,0),i=new Uint8Array(r);let n=0;const o=yu(e);for(let s=1;s<=t.length;s++){const c=t.find(a=>a.chunkNumber===s);if(!c)throw new Error(`ICC chunk ${s} not found`);const d=o.slice(c.offset,c.offset+c.length),x=new Uint8Array(d);i.set(x,n),n+=x.length}return Iu(new DataView(i.buffer))}catch{return{}}}function yu(e){return Array.isArray(e)?new DataView(Uint8Array.from(e).buffer).buffer:e.buffer}function Tu(e){return e.length<hu+4}function Fu(e,t){return e.length<t+Eu}function Iu(e){const t=e.buffer,r=e.getUint32();if(e.byteLength!==r)throw new Error("ICC profile length not matching");if(e.length<du)throw new Error("ICC profile too short");const i={},n=Object.keys(dr);for(let d=0;d<n.length;d++){const x=n[d],a=dr[x],f=a.value(e,parseInt(x,10));let u=f;a.description&&(u=a.description(f)),i[a.name]={value:f,description:u}}if(bt(t.slice(36,40))!==gu)throw new Error("ICC profile: missing signature");if(Tu(t))return i;const s=e.getUint32(128);let c=132;for(let d=0;d<s;d++){if(Fu(t,c))return i;const x=ne(e,c,4),a=e.getUint32(c+4),f=e.getUint32(c+8);if(a>t.length)return i;const u=ne(e,a,4);if(u===pu){const l=e.getUint32(a+8);if(l>f)return i;const S=bt(t.slice(a+12,a+l+11));Et(i,x,S)}else if(u===mu){const l=e.getUint32(a+8),S=e.getUint32(a+12);let P=a+16;const I=[];for(let y=0;y<l;y++){const v=ne(e,P+0,2),L=ne(e,P+2,2),R=e.getUint32(P+4),M=e.getUint32(P+8),E=uo(e,a+M,R);I.push({languageCode:v,countryCode:L,text:E}),P+=S}if(l===1)Et(i,x,I[0].text);else{const y={};for(let v=0;v<I.length;v++)y[`${I[v].languageCode}-${I[v].countryCode}`]=I[v].text;Et(i,x,y)}}else if(u===xu){const l=bt(t.slice(a+8,a+f-7));Et(i,x,l)}else if(u===Su){const l=bt(t.slice(a+8,a+12));Et(i,x,l)}c=c+12}return i}function bt(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function Et(e,t,r){lr[t]?e[lr[t].name]={value:r,description:r}:e[t]={value:r,description:r}}const bu={read:_u};function _u(e,t){return{"Image Width":Cu(e,t),"Image Height":Pu(e,t),"Bit Depth":Uu(e,t),"Color Type":vu(e,t),Compression:Nu(e,t),Filter:Du(e,t),Interlace:Ru(e,t)}}function Cu(e,t){if(t+0+4>e.byteLength)return;const n=W.getLongAt(e,t);return{value:n,description:`${n}px`}}function Pu(e,t){if(t+4+4>e.byteLength)return;const n=W.getLongAt(e,t+4);return{value:n,description:`${n}px`}}function Uu(e,t){if(t+8+1>e.byteLength)return;const n=W.getByteAt(e,t+8);return{value:n,description:`${n}`}}function vu(e,t){const n={0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"};if(t+9+1>e.byteLength)return;const o=W.getByteAt(e,t+9);return{value:o,description:n[o]||"Unknown"}}function Nu(e,t){if(t+10+1>e.byteLength)return;const n=W.getByteAt(e,t+10);return{value:n,description:n===0?"Deflate/Inflate":"Unknown"}}function Du(e,t){if(t+11+1>e.byteLength)return;const n=W.getByteAt(e,t+11);return{value:n,description:n===0?"Adaptive":"Unknown"}}function Ru(e,t){const n={0:"Noninterlaced",1:"Adam7 Interlace"};if(t+12+1>e.byteLength)return;const o=W.getByteAt(e,t+12);return{value:o,description:n[o]||"Unknown"}}const Ou={read:Lu},hn="STATE_KEYWORD",gn="STATE_COMPRESSION",pn="STATE_LANG",oi="STATE_TRANSLATED_KEYWORD",Mu="STATE_TEXT",wu=2;function Lu(e,t){return t.reduce((r,{offset:i,length:n,type:o})=>{const{name:s,value:c,description:d}=ku(e,i,n,o);return s&&(r[s]={value:c,description:d}),r},{})}function ku(e,t,r,i){const n=[],o=[],s=[];let c=hn;for(let x=0;x<r&&t+x<e.byteLength;x++){if(c===gn){if(e.getUint8(t+x)!==0)return{};x+=wu,c=gr(i,c)}const a=e.getUint8(t+x);a===0?c=gr(i,c):c===hn?n.push(a):c===pn?o.push(a):c===oi||s.push(a)}const d=ht(s);return{name:Gu(i,o,n),value:d,description:i===Mr?jr.decode("UTF-8",s):d}}function gr(e,t){return t===hn&&e===Mr?gn:t===gn?pn:t===pn?oi:Mu}function Gu(e,t,r){const i=ht(r);if(e===qo||t.length===0)return i;const n=ht(t);return`${i} (${n})`}const Bu={read:Hu};function Hu(e,t){const r={};for(let i=0;i<t.length;i++){const n=W.getLongAt(e,t[i]+At),o=ne(e,t[i]+rt,we);o===wr?(r["Pixels Per Unit X"]=ju(e,t[i],n),r["Pixels Per Unit Y"]=$u(e,t[i],n),r["Pixel Units"]=Zu(e,t[i],n)):o===Lr&&(r["Modify Date"]=zu(e,t[i],n))}return r}function ju(e,t,r){if(!Ht(e,t,r,0,4))return;const o=W.getLongAt(e,t+Ae+0);return{value:o,description:""+o}}function $u(e,t,r){if(!Ht(e,t,r,4,4))return;const o=W.getLongAt(e,t+Ae+4);return{value:o,description:""+o}}function Zu(e,t,r){if(!Ht(e,t,r,8,1))return;const o=W.getByteAt(e,t+Ae+8);return{value:o,description:o===1?"meters":"Unknown"}}function zu(e,t,r){if(!Ht(e,t,r,0,7))return;const n=W.getShortAt(e,t+Ae),o=W.getByteAt(e,t+Ae+2),s=W.getByteAt(e,t+Ae+3),c=W.getByteAt(e,t+Ae+4),d=W.getByteAt(e,t+Ae+5),x=W.getByteAt(e,t+Ae+6);return{value:[n,o,s,c,d,x],description:`${at(n,4)}-${at(o,2)}-${at(s,2)} ${at(c,2)}:${at(d,2)}:${at(x,2)}`}}function Ht(e,t,r,i,n){return i+n<=r&&t+Ae+i+n<=e.byteLength}function at(e,t){return`${"0".repeat(t-(""+e).length)}${e}`}const Xu=[6,7,99],Wu={get:Yu};function Yu(e,t,r){if(Ku(t)){t.type="image/jpeg";const i=r+t.JPEGInterchangeFormat.value;t.image=e.buffer.slice(i,i+t.JPEGInterchangeFormatLength.value),Pr(t,"base64",function(){return Ur(this.image)})}return t}function Ku(e){return e&&(e.Compression===void 0||Xu.includes(e.Compression.value))&&e.JPEGInterchangeFormat&&e.JPEGInterchangeFormat.value&&e.JPEGInterchangeFormatLength&&e.JPEGInterchangeFormatLength.value}function si(e){this.name="MetadataMissingError",this.message=e||"No Exif data",this.stack=new Error().stack}si.prototype=new Error;const qu={MetadataMissingError:si};function Ju(e,t){return Qu(e)?Vu(e,t).then(r=>en(r,t)):sc(e)?ac(e).then(r=>en(r,t)):en(e,t)}function Qu(e){return typeof e=="string"}function Vu(e,t){return/^https?:\/\//.test(e)?typeof fetch<"u"?ec(e,t):tc(e,t):rc(e)?Promise.resolve(co(e)):ic(e,t)}function ec(e,{length:t}={}){const r={method:"GET"};return Number.isInteger(t)&&t>=0&&(r.headers={range:`bytes=0-${t-1}`}),fetch(e,r).then(i=>i.arrayBuffer())}function tc(e,{length:t}={}){return new Promise((r,i)=>{const n={};Number.isInteger(t)&&t>=0&&(n.headers={range:`bytes=0-${t-1}`}),nc(e)(e,n,s=>{if(s.statusCode>=200&&s.statusCode<=299){const c=[];s.on("data",d=>c.push(Buffer.from(d))),s.on("error",d=>i(d)),s.on("end",()=>r(Buffer.concat(c)))}else i(`Could not fetch file: ${s.statusCode} ${s.statusMessage}`),s.resume()}).on("error",s=>i(s))})}function nc(e){return/^https:\/\//.test(e)?__non_webpack_require__("https").get:__non_webpack_require__("http").get}function rc(e){return/^data:[^;,]*(;base64)?,/.test(e)}function ic(e,{length:t}={}){return new Promise((r,i)=>{const n=oc();n.open(e,(o,s)=>{o?i(o):n.stat(e,(c,d)=>{if(c)i(c);else{const x=Math.min(d.size,t!==void 0?t:d.size),a=Buffer.alloc(x),f={buffer:a,length:x};n.read(s,f,u=>{u?i(u):n.close(s,l=>{l&&console.warn(`Could not close file ${e}:`,l),r(a)})})}})})})}function oc(){try{return __non_webpack_require__("fs")}catch{return}}function sc(e){return typeof window<"u"&&typeof File<"u"&&e instanceof File}function ac(e){return new Promise((t,r)=>{const i=new FileReader;i.onload=n=>t(n.target.result),i.onerror=()=>r(i.error),i.readAsArrayBuffer(e)})}function en(e,t){return uc(e)&&(e=new Uint8Array(e).buffer),fc(cc(e),t)}function uc(e){try{return Buffer.isBuffer(e)}catch{return!1}}function cc(e){try{return new DataView(e)}catch{return new fo(e)}}function fc(e,{expanded:t=!1,includeUnknown:r=!1}={expanded:!1,includeUnknown:!1}){let i=!1,n={};const{fileDataOffset:o,jfifDataOffset:s,tiffHeaderOffset:c,iptcDataOffset:d,xmpChunks:x,iccChunks:a,mpfDataOffset:f,pngHeaderOffset:u,pngTextChunks:l,pngChunkOffsets:S}=xs.parseAppMarkers(e);if(lc(o)){i=!0;const I=qs.read(e,o);t?n.file=I:n=ae({},n,I)}if(dc(s)){i=!0;const I=sa.read(e,s);t?n.jfif=I:n=ae({},n,I)}if(hc(c)){i=!0;const I=tr.read(e,c,r);if(I.Thumbnail&&(n.Thumbnail=I.Thumbnail,delete I.Thumbnail),t?(n.exif=I,gc(n)):n=ae({},n,I),I["IPTC-NAA"]&&!pr(d)){const y=or.read(I["IPTC-NAA"].value,0,r);t?n.iptc=y:n=ae({},n,y)}if(I.ApplicationNotes&&!mr(x)){const y=ur.read(ht(I.ApplicationNotes.value));t?n.xmp=y:(delete y._raw,n=ae({},n,y))}if(I.ICC_Profile&&!xr(a)){const y=hr.read(I.ICC_Profile.value,[{offset:0,length:I.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);t?n.icc=y:n=ae({},n,y)}}if(pr(d)){i=!0;const I=or.read(e,d,r);t?n.iptc=I:n=ae({},n,I)}if(mr(x)){i=!0;const I=ur.read(e,x);t?n.xmp=I:(delete I._raw,n=ae({},n,I))}if(xr(a)){i=!0;const I=hr.read(e,a);t?n.icc=I:n=ae({},n,I)}if(pc(f)){i=!0;const I=tr.readMpf(e,f,r);t?n.mpf=I:n=ae({},n,I)}if(mc(u)){i=!0;const I=bu.read(e,u);t?(n.png=n.png?ae({},n.png,I):I,n.pngFile=I):n=ae({},n,I)}if(xc(l)){i=!0;const I=Ou.read(e,l);t?(n.png=n.png?ae({},n.png,I):I,n.pngText=I):n=ae({},n,I)}if(Sc(S)){i=!0;const I=Bu.read(e,S);t?n.png=n.png?ae({},n.png,I):I:n=ae({},n,I)}const P=Wu.get(e,n.Thumbnail,c);if(P?(i=!0,n.Thumbnail=P):delete n.Thumbnail,!i)throw new qu.MetadataMissingError;return n}function lc(e){return e!==void 0}function dc(e){return e!==void 0}function hc(e){return e!==void 0}function gc(e){if(e.exif){if(e.exif.GPSLatitude&&e.exif.GPSLatitudeRef)try{e.gps=e.gps||{},e.gps.Latitude=Dt(e.exif.GPSLatitude.value),e.exif.GPSLatitudeRef.value.join("")==="S"&&(e.gps.Latitude=-e.gps.Latitude)}catch{}if(e.exif.GPSLongitude&&e.exif.GPSLongitudeRef)try{e.gps=e.gps||{},e.gps.Longitude=Dt(e.exif.GPSLongitude.value),e.exif.GPSLongitudeRef.value.join("")==="W"&&(e.gps.Longitude=-e.gps.Longitude)}catch{}if(e.exif.GPSAltitude&&e.exif.GPSAltitudeRef)try{e.gps=e.gps||{},e.gps.Altitude=e.exif.GPSAltitude.value[0]/e.exif.GPSAltitude.value[1],e.exif.GPSAltitudeRef.value===1&&(e.gps.Altitude=-e.gps.Altitude)}catch{}}}function pr(e){return e!==void 0}function mr(e){return Array.isArray(e)&&e.length>0}function xr(e){return Array.isArray(e)&&e.length>0}function pc(e){return e!==void 0}function mc(e){return e!==void 0}function xc(e){return e!==void 0}function Sc(e){return e!==void 0}var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});const Ec=new RegExp("^(\\d{4}):(\\d{2}):(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d{1,3}))?(?:([zZ])|([-+])(\\d{2}):(\\d{2}))?$");function ut(e,t){let r=e.toString(),i=t-r.length;for(;i>0;)i-=1,r=`0${r}`;return r}function Ac(e){const t=Ec.exec(e);if(t==null)return new Date(NaN);const r=new Date,i=t[8]?0:t[9]?(Number(t[10])*60+Number(t[11]))*(t[9]==="+"?1:-1):0;return r.setUTCFullYear(Number(t[1])),r.setUTCMonth(Number(t[2])-1),r.setUTCDate(Number(t[3])),r.setUTCHours(Number(t[4])),r.setUTCMinutes(Number(t[5])+i),r.setUTCSeconds(Number(t[6])),r.setUTCMilliseconds(Number(t[7])||0),r}var yc=Tn.parse=Ac;function Tc(e,t,r){if(isNaN(e.getTime()))return"";const i=ut(e.getUTCFullYear(),4),n=ut(e.getUTCMonth()+1,2),o=ut(e.getUTCDate(),2),s=ut(e.getUTCHours(),2),c=ut(e.getUTCMinutes(),2),d=ut(e.getUTCSeconds(),2),x=t?`.${Math.round(e.getUTCMilliseconds()/10)}`:"";return`${i}:${n}:${o} ${s}:${c}:${d}${x}${r?"Z":""}`}Tn.format=Tc;const ai=async e=>{var i,n,o;const t=await Ju(e),r=((i=t.DateTimeOriginal)==null?void 0:i.description)||((n=t.DateTimeDigitized)==null?void 0:n.description)||((o=t.DateTime)==null?void 0:o.description);return typeof r!="string"?null:yc(r)},Sr=({file:e,showDate:t})=>{const[r,i]=We.useState(),[n,o]=We.useState(),[s,c]=We.useState();return We.useEffect(()=>{if(!FileReader){c("FileReader not supported");return}if(e)try{const d=new FileReader;d.onload=async()=>{i(d.result);const x=await ai(d.result);c(null),o(x)},d.readAsDataURL(e)}catch(d){c(d.message)}else i(null),o(null),c(null)},[e]),r?Z.jsxs("div",{children:[Z.jsx("img",{style:{maxHeight:270,maxWidth:"100%",objectFit:"contain"},src:r,alt:"Screenshot preview"}),t&&Z.jsxs("div",{style:{fontSize:"75%",padding:"0.4em"},children:["Date taken: ",n?n.toLocaleString():"Unknown"]}),s&&Z.jsxs("div",{style:{fontSize:"75%",padding:"0.4em"},children:["Error: ",s]})]}):null};function Fc(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(i){if(i!=="default"&&!(i in e)){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}})}),Object.freeze(e)}function ui(e,t){return new Promise(function(r,i){let n;return Ic(e).then(function(o){try{return n=o,r(new Blob([t.slice(0,2),n,t.slice(2)],{type:"image/jpeg"}))}catch(s){return i(s)}},i)})}const Ic=e=>new Promise((t,r)=>{const i=new FileReader;i.addEventListener("load",({target:{result:n}})=>{const o=new DataView(n);let s=0;if(o.getUint16(s)!==65496)return r("not a valid JPEG");for(s+=2;;){const c=o.getUint16(s);if(c===65498)break;const d=o.getUint16(s+2);if(c===65505&&o.getUint32(s+4)===1165519206){const x=s+10;let a;switch(o.getUint16(x)){case 18761:a=!0;break;case 19789:a=!1;break;default:return r("TIFF header contains invalid endian")}if(o.getUint16(x+2,a)!==42)return r("TIFF header contains invalid version");const f=o.getUint32(x+4,a),u=x+f+2+12*o.getUint16(x+f,a);for(let l=x+f+2;l<u;l+=12)if(o.getUint16(l,a)==274){if(o.getUint16(l+2,a)!==3)return r("Orientation data type is invalid");if(o.getUint32(l+4,a)!==1)return r("Orientation data count is invalid");o.setUint16(l+8,1,a);break}return t(n.slice(s,s+2+d))}s+=2+d}return t(new Blob)}),i.readAsArrayBuffer(e)});var Mt={},bc={get exports(){return Mt},set exports(e){Mt=e}};(function(e){var t,r,i={};bc.exports=i,i.parse=function(n,o){for(var s=i.bin.readUshort,c=i.bin.readUint,d=0,x={},a=new Uint8Array(n),f=a.length-4;c(a,f)!=101010256;)f--;d=f,d+=4;var u=s(a,d+=4);s(a,d+=2);var l=c(a,d+=2),S=c(a,d+=4);d+=4,d=S;for(var P=0;P<u;P++){c(a,d),d+=4,d+=4,d+=4,c(a,d+=4),l=c(a,d+=4);var I=c(a,d+=4),y=s(a,d+=4),v=s(a,d+2),L=s(a,d+4);d+=6;var R=c(a,d+=8);d+=4,d+=y+v+L,i._readLocal(a,R,x,l,I,o)}return x},i._readLocal=function(n,o,s,c,d,x){var a=i.bin.readUshort,f=i.bin.readUint;f(n,o),a(n,o+=4),a(n,o+=2);var u=a(n,o+=2);f(n,o+=2),f(n,o+=4),o+=4;var l=a(n,o+=8),S=a(n,o+=2);o+=2;var P=i.bin.readUTF8(n,o,l);if(o+=l,o+=S,x)s[P]={size:d,csize:c};else{var I=new Uint8Array(n.buffer,o);if(u==0)s[P]=new Uint8Array(I.buffer.slice(o,o+c));else{if(u!=8)throw"unknown compression method: "+u;var y=new Uint8Array(d);i.inflateRaw(I,y),s[P]=y}}},i.inflateRaw=function(n,o){return i.F.inflate(n,o)},i.inflate=function(n,o){return n[0],n[1],i.inflateRaw(new Uint8Array(n.buffer,n.byteOffset+2,n.length-6),o)},i.deflate=function(n,o){o==null&&(o={level:6});var s=0,c=new Uint8Array(50+Math.floor(1.1*n.length));c[s]=120,c[s+1]=156,s+=2,s=i.F.deflateRaw(n,c,s,o.level);var d=i.adler(n,0,n.length);return c[s+0]=d>>>24&255,c[s+1]=d>>>16&255,c[s+2]=d>>>8&255,c[s+3]=d>>>0&255,new Uint8Array(c.buffer,0,s+4)},i.deflateRaw=function(n,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*n.length)),c=i.F.deflateRaw(n,s,c,o.level);return new Uint8Array(s.buffer,0,c)},i.encode=function(n,o){o==null&&(o=!1);var s=0,c=i.bin.writeUint,d=i.bin.writeUshort,x={};for(var a in n){var f=!i._noNeed(a)&&!o,u=n[a],l=i.crc.crc(u,0,u.length);x[a]={cpr:f,usize:u.length,crc:l,file:f?i.deflateRaw(u):u}}for(var a in x)s+=x[a].file.length+30+46+2*i.bin.sizeUTF8(a);s+=22;var S=new Uint8Array(s),P=0,I=[];for(var a in x){var y=x[a];I.push(P),P=i._writeHeader(S,P,a,y,0)}var v=0,L=P;for(var a in x)y=x[a],I.push(P),P=i._writeHeader(S,P,a,y,1,I[v++]);var R=P-L;return c(S,P,101010256),P+=4,d(S,P+=4,v),d(S,P+=2,v),c(S,P+=2,R),c(S,P+=4,L),P+=4,P+=2,S.buffer},i._noNeed=function(n){var o=n.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},i._writeHeader=function(n,o,s,c,d,x){var a=i.bin.writeUint,f=i.bin.writeUshort,u=c.file;return a(n,o,d==0?67324752:33639248),o+=4,d==1&&(o+=2),f(n,o,20),f(n,o+=2,0),f(n,o+=2,c.cpr?8:0),a(n,o+=2,0),a(n,o+=4,c.crc),a(n,o+=4,u.length),a(n,o+=4,c.usize),f(n,o+=4,i.bin.sizeUTF8(s)),f(n,o+=2,0),o+=2,d==1&&(o+=2,o+=2,a(n,o+=6,x),o+=4),o+=i.bin.writeUTF8(n,o,s),d==0&&(n.set(u,o),o+=u.length),o},i.crc={table:function(){for(var n=new Uint32Array(256),o=0;o<256;o++){for(var s=o,c=0;c<8;c++)1&s?s=3988292384^s>>>1:s>>>=1;n[o]=s}return n}(),update:function(n,o,s,c){for(var d=0;d<c;d++)n=i.crc.table[255&(n^o[s+d])]^n>>>8;return n},crc:function(n,o,s){return 4294967295^i.crc.update(4294967295,n,o,s)}},i.adler=function(n,o,s){for(var c=1,d=0,x=o,a=o+s;x<a;){for(var f=Math.min(x+5552,a);x<f;)d+=c+=n[x++];c%=65521,d%=65521}return d<<16|c},i.bin={readUshort:function(n,o){return n[o]|n[o+1]<<8},writeUshort:function(n,o,s){n[o]=255&s,n[o+1]=s>>8&255},readUint:function(n,o){return 16777216*n[o+3]+(n[o+2]<<16|n[o+1]<<8|n[o])},writeUint:function(n,o,s){n[o]=255&s,n[o+1]=s>>8&255,n[o+2]=s>>16&255,n[o+3]=s>>24&255},readASCII:function(n,o,s){for(var c="",d=0;d<s;d++)c+=String.fromCharCode(n[o+d]);return c},writeASCII:function(n,o,s){for(var c=0;c<s.length;c++)n[o+c]=s.charCodeAt(c)},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,o,s){for(var c,d="",x=0;x<s;x++)d+="%"+i.bin.pad(n[o+x].toString(16));try{c=decodeURIComponent(d)}catch{return i.bin.readASCII(n,o,s)}return c},writeUTF8:function(n,o,s){for(var c=s.length,d=0,x=0;x<c;x++){var a=s.charCodeAt(x);if(!(4294967168&a))n[o+d]=a,d++;else if(!(4294965248&a))n[o+d]=192|a>>6,n[o+d+1]=128|a>>0&63,d+=2;else if(!(4294901760&a))n[o+d]=224|a>>12,n[o+d+1]=128|a>>6&63,n[o+d+2]=128|a>>0&63,d+=3;else{if(4292870144&a)throw"e";n[o+d]=240|a>>18,n[o+d+1]=128|a>>12&63,n[o+d+2]=128|a>>6&63,n[o+d+3]=128|a>>0&63,d+=4}}return d},sizeUTF8:function(n){for(var o=n.length,s=0,c=0;c<o;c++){var d=n.charCodeAt(c);if(!(4294967168&d))s++;else if(!(4294965248&d))s+=2;else if(!(4294901760&d))s+=3;else{if(4292870144&d)throw"e";s+=4}}return s}},i.F={},i.F.deflateRaw=function(n,o,s,c){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],x=i.F.U,a=i.F._goodIndex;i.F._hash;var f=i.F._putsE,u=0,l=s<<3,S=0,P=n.length;if(c==0){for(;u<P;)f(o,l,u+(C=Math.min(65535,P-u))==P?1:0),l=i.F._copyExact(n,u,C,o,l+8),u+=C;return l>>>3}var I=x.lits,y=x.strt,v=x.prev,L=0,R=0,M=0,E=0,w=0,m=0;for(P>2&&(y[m=i.F._hash(n,0)]=0),u=0;u<P;u++){if(w=m,u+1<P-2){m=i.F._hash(n,u+1);var g=u+1&32767;v[g]=y[m],y[m]=g}if(S<=u){(L>14e3||R>26697)&&P-u>100&&(S<u&&(I[L]=u-S,L+=2,S=u),l=i.F._writeBlock(u==P-1||S==P?1:0,I,L,E,n,M,u-M,o,l),L=R=E=0,M=u);var b=0;u<P-2&&(b=i.F._bestMatch(n,u,v,w,Math.min(d[2],P-u),d[3]));var C=b>>>16,T=65535&b;if(b!=0){T=65535&b;var _=a(C=b>>>16,x.of0);x.lhst[257+_]++;var F=a(T,x.df0);x.dhst[F]++,E+=x.exb[_]+x.dxb[F],I[L]=C<<23|u-S,I[L+1]=T<<16|_<<8|F,L+=2,S=u+C}else x.lhst[n[u]]++;R++}}for(M==u&&n.length!=0||(S<u&&(I[L]=u-S,L+=2,S=u),l=i.F._writeBlock(1,I,L,E,n,M,u-M,o,l),L=0,R=0,L=R=E=0,M=u);7&l;)l++;return l>>>3},i.F._bestMatch=function(n,o,s,c,d,x){var a=32767&o,f=s[a],u=a-f+32768&32767;if(f==a||c!=i.F._hash(n,o-u))return 0;for(var l=0,S=0,P=Math.min(32767,o);u<=P&&--x!=0&&f!=a;){if(l==0||n[o+l]==n[o+l-u]){var I=i.F._howLong(n,o,u);if(I>l){if(S=u,(l=I)>=d)break;u+2<I&&(I=u+2);for(var y=0,v=0;v<I-2;v++){var L=o-u+v+32768&32767,R=L-s[L]+32768&32767;R>y&&(y=R,f=L)}}}u+=(a=f)-(f=s[a])+32768&32767}return l<<16|S},i.F._howLong=function(n,o,s){if(n[o]!=n[o-s]||n[o+1]!=n[o+1-s]||n[o+2]!=n[o+2-s])return 0;var c=o,d=Math.min(n.length,o+258);for(o+=3;o<d&&n[o]==n[o-s];)o++;return o-c},i.F._hash=function(n,o){return(n[o]<<8|n[o+1])+(n[o+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(n,o,s,c,d,x,a,f,u){var l,S,P,I,y,v,L,R,M,E=i.F.U,w=i.F._putsF,m=i.F._putsE;E.lhst[256]++,S=(l=i.F.getTrees())[0],P=l[1],I=l[2],y=l[3],v=l[4],L=l[5],R=l[6],M=l[7];var g=32+(u+3&7?8-(u+3&7):0)+(a<<3),b=c+i.F.contSize(E.fltree,E.lhst)+i.F.contSize(E.fdtree,E.dhst),C=c+i.F.contSize(E.ltree,E.lhst)+i.F.contSize(E.dtree,E.dhst);C+=14+3*L+i.F.contSize(E.itree,E.ihst)+(2*E.ihst[16]+3*E.ihst[17]+7*E.ihst[18]);for(var T=0;T<286;T++)E.lhst[T]=0;for(T=0;T<30;T++)E.dhst[T]=0;for(T=0;T<19;T++)E.ihst[T]=0;var _=g<b&&g<C?0:b<C?1:2;if(w(f,u,n),w(f,u+1,_),u+=3,_==0){for(;7&u;)u++;u=i.F._copyExact(d,x,a,f,u)}else{var F,U;if(_==1&&(F=E.fltree,U=E.fdtree),_==2){i.F.makeCodes(E.ltree,S),i.F.revCodes(E.ltree,S),i.F.makeCodes(E.dtree,P),i.F.revCodes(E.dtree,P),i.F.makeCodes(E.itree,I),i.F.revCodes(E.itree,I),F=E.ltree,U=E.dtree,m(f,u,y-257),m(f,u+=5,v-1),m(f,u+=5,L-4),u+=4;for(var p=0;p<L;p++)m(f,u+3*p,E.itree[1+(E.ordr[p]<<1)]);u+=3*L,u=i.F._codeTiny(R,E.itree,f,u),u=i.F._codeTiny(M,E.itree,f,u)}for(var h=x,G=0;G<s;G+=2){for(var N=o[G],B=N>>>23,J=h+(8388607&N);h<J;)u=i.F._writeLit(d[h++],F,f,u);if(B!=0){var z=o[G+1],K=z>>16,j=z>>8&255,k=255&z;m(f,u=i.F._writeLit(257+j,F,f,u),B-E.of0[j]),u+=E.exb[j],w(f,u=i.F._writeLit(k,U,f,u),K-E.df0[k]),u+=E.dxb[k],h+=B}}u=i.F._writeLit(256,F,f,u)}return u},i.F._copyExact=function(n,o,s,c,d){var x=d>>>3;return c[x]=s,c[x+1]=s>>>8,c[x+2]=255-c[x],c[x+3]=255-c[x+1],x+=4,c.set(new Uint8Array(n.buffer,o,s),x),d+(s+4<<3)},i.F.getTrees=function(){for(var n=i.F.U,o=i.F._hufTree(n.lhst,n.ltree,15),s=i.F._hufTree(n.dhst,n.dtree,15),c=[],d=i.F._lenCodes(n.ltree,c),x=[],a=i.F._lenCodes(n.dtree,x),f=0;f<c.length;f+=2)n.ihst[c[f]]++;for(f=0;f<x.length;f+=2)n.ihst[x[f]]++;for(var u=i.F._hufTree(n.ihst,n.itree,7),l=19;l>4&&n.itree[1+(n.ordr[l-1]<<1)]==0;)l--;return[o,s,u,d,a,l,c,x]},i.F.getSecond=function(n){for(var o=[],s=0;s<n.length;s+=2)o.push(n[s+1]);return o},i.F.nonZero=function(n){for(var o="",s=0;s<n.length;s+=2)n[s+1]!=0&&(o+=(s>>1)+",");return o},i.F.contSize=function(n,o){for(var s=0,c=0;c<o.length;c++)s+=o[c]*n[1+(c<<1)];return s},i.F._codeTiny=function(n,o,s,c){for(var d=0;d<n.length;d+=2){var x=n[d],a=n[d+1];c=i.F._writeLit(x,o,s,c);var f=x==16?2:x==17?3:7;x>15&&(i.F._putsE(s,c,a,f),c+=f)}return c},i.F._lenCodes=function(n,o){for(var s=n.length;s!=2&&n[s-1]==0;)s-=2;for(var c=0;c<s;c+=2){var d=n[c+1],x=c+3<s?n[c+3]:-1,a=c+5<s?n[c+5]:-1,f=c==0?-1:n[c-1];if(d==0&&x==d&&a==d){for(var u=c+5;u+2<s&&n[u+2]==d;)u+=2;(l=Math.min(u+1-c>>>1,138))<11?o.push(17,l-3):o.push(18,l-11),c+=2*l-2}else if(d==f&&x==d&&a==d){for(u=c+5;u+2<s&&n[u+2]==d;)u+=2;var l=Math.min(u+1-c>>>1,6);o.push(16,l-3),c+=2*l-2}else o.push(d,0)}return s>>>1},i.F._hufTree=function(n,o,s){var c=[],d=n.length,x=o.length,a=0;for(a=0;a<x;a+=2)o[a]=0,o[a+1]=0;for(a=0;a<d;a++)n[a]!=0&&c.push({lit:a,f:n[a]});var f=c.length,u=c.slice(0);if(f==0)return 0;if(f==1){var l=c[0].lit;return u=l==0?1:0,o[1+(l<<1)]=1,o[1+(u<<1)]=1,1}c.sort(function(R,M){return R.f-M.f});var S=c[0],P=c[1],I=0,y=1,v=2;for(c[0]={lit:-1,f:S.f+P.f,l:S,r:P,d:0};y!=f-1;)S=I!=y&&(v==f||c[I].f<c[v].f)?c[I++]:c[v++],P=I!=y&&(v==f||c[I].f<c[v].f)?c[I++]:c[v++],c[y++]={lit:-1,f:S.f+P.f,l:S,r:P};var L=i.F.setDepth(c[y-1],0);for(L>s&&(i.F.restrictDepth(u,s,L),L=s),a=0;a<f;a++)o[1+(u[a].lit<<1)]=u[a].d;return L},i.F.setDepth=function(n,o){return n.lit!=-1?(n.d=o,o):Math.max(i.F.setDepth(n.l,o+1),i.F.setDepth(n.r,o+1))},i.F.restrictDepth=function(n,o,s){var c=0,d=1<<s-o,x=0;for(n.sort(function(f,u){return u.d==f.d?f.f-u.f:u.d-f.d}),c=0;c<n.length&&n[c].d>o;c++){var a=n[c].d;n[c].d=o,x+=d-(1<<s-a)}for(x>>>=s-o;x>0;)(a=n[c].d)<o?(n[c].d++,x-=1<<o-a-1):c++;for(;c>=0;c--)n[c].d==o&&x<0&&(n[c].d--,x++);x!=0&&console.log("debt left")},i.F._goodIndex=function(n,o){var s=0;return o[16|s]<=n&&(s|=16),o[8|s]<=n&&(s|=8),o[4|s]<=n&&(s|=4),o[2|s]<=n&&(s|=2),o[1|s]<=n&&(s|=1),s},i.F._writeLit=function(n,o,s,c){return i.F._putsF(s,c,o[n<<1]),c+o[1+(n<<1)]},i.F.inflate=function(n,o){var s=Uint8Array;if(n[0]==3&&n[1]==0)return o||new s(0);var c=i.F,d=c._bitsF,x=c._bitsE,a=c._decodeTiny,f=c.makeCodes,u=c.codes2map,l=c._get17,S=c.U,P=o==null;P&&(o=new s(n.length>>>2<<3));for(var I,y,v=0,L=0,R=0,M=0,E=0,w=0,m=0,g=0,b=0;v==0;)if(v=d(n,b,1),L=d(n,b+1,2),b+=3,L!=0){if(P&&(o=i.F._check(o,g+(1<<17))),L==1&&(I=S.flmap,y=S.fdmap,w=511,m=31),L==2){R=x(n,b,5)+257,M=x(n,b+5,5)+1,E=x(n,b+10,4)+4,b+=14;for(var C=0;C<38;C+=2)S.itree[C]=0,S.itree[C+1]=0;var T=1;for(C=0;C<E;C++){var _=x(n,b+3*C,3);S.itree[1+(S.ordr[C]<<1)]=_,_>T&&(T=_)}b+=3*E,f(S.itree,T),u(S.itree,T,S.imap),I=S.lmap,y=S.dmap,b=a(S.imap,(1<<T)-1,R+M,n,b,S.ttree);var F=c._copyOut(S.ttree,0,R,S.ltree);w=(1<<F)-1;var U=c._copyOut(S.ttree,R,M,S.dtree);m=(1<<U)-1,f(S.ltree,F),u(S.ltree,F,I),f(S.dtree,U),u(S.dtree,U,y)}for(;;){var p=I[l(n,b)&w];b+=15&p;var h=p>>>4;if(!(h>>>8))o[g++]=h;else{if(h==256)break;var G=g+h-254;if(h>264){var N=S.ldef[h-257];G=g+(N>>>3)+x(n,b,7&N),b+=7&N}var B=y[l(n,b)&m];b+=15&B;var J=B>>>4,z=S.ddef[J],K=(z>>>4)+d(n,b,15&z);for(b+=15&z,P&&(o=i.F._check(o,g+(1<<17)));g<G;)o[g]=o[g++-K],o[g]=o[g++-K],o[g]=o[g++-K],o[g]=o[g++-K];g=G}}}else{7&b&&(b+=8-(7&b));var j=4+(b>>>3),k=n[j-4]|n[j-3]<<8;P&&(o=i.F._check(o,g+k)),o.set(new s(n.buffer,n.byteOffset+j,k),g),b=j+k<<3,g+=k}return o.length==g?o:o.slice(0,g)},i.F._check=function(n,o){var s=n.length;if(o<=s)return n;var c=new Uint8Array(Math.max(s<<1,o));return c.set(n,0),c},i.F._decodeTiny=function(n,o,s,c,d,x){for(var a=i.F._bitsE,f=i.F._get17,u=0;u<s;){var l=n[f(c,d)&o];d+=15&l;var S=l>>>4;if(S<=15)x[u]=S,u++;else{var P=0,I=0;S==16?(I=3+a(c,d,2),d+=2,P=x[u-1]):S==17?(I=3+a(c,d,3),d+=3):S==18&&(I=11+a(c,d,7),d+=7);for(var y=u+I;u<y;)x[u]=P,u++}}return d},i.F._copyOut=function(n,o,s,c){for(var d=0,x=0,a=c.length>>>1;x<s;){var f=n[x+o];c[x<<1]=0,c[1+(x<<1)]=f,f>d&&(d=f),x++}for(;x<a;)c[x<<1]=0,c[1+(x<<1)]=0,x++;return d},i.F.makeCodes=function(n,o){for(var s,c,d,x,a=i.F.U,f=n.length,u=a.bl_count,l=0;l<=o;l++)u[l]=0;for(l=1;l<f;l+=2)u[n[l]]++;var S=a.next_code;for(s=0,u[0]=0,c=1;c<=o;c++)s=s+u[c-1]<<1,S[c]=s;for(d=0;d<f;d+=2)(x=n[d+1])!=0&&(n[d]=S[x],S[x]++)},i.F.codes2map=function(n,o,s){for(var c=n.length,d=i.F.U.rev15,x=0;x<c;x+=2)if(n[x+1]!=0)for(var a=x>>1,f=n[x+1],u=a<<4|f,l=o-f,S=n[x]<<l,P=S+(1<<l);S!=P;)s[d[S]>>>15-o]=u,S++},i.F.revCodes=function(n,o){for(var s=i.F.U.rev15,c=15-o,d=0;d<n.length;d+=2){var x=n[d]<<o-n[d+1];n[d]=s[x]>>>c}},i.F._putsE=function(n,o,s){s<<=7&o;var c=o>>>3;n[c]|=s,n[c+1]|=s>>>8},i.F._putsF=function(n,o,s){s<<=7&o;var c=o>>>3;n[c]|=s,n[c+1]|=s>>>8,n[c+2]|=s>>>16},i.F._bitsE=function(n,o,s){return(n[o>>>3]|n[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},i.F._bitsF=function(n,o,s){return(n[o>>>3]|n[1+(o>>>3)]<<8|n[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},i.F._get17=function(n,o){return(n[o>>>3]|n[1+(o>>>3)]<<8|n[2+(o>>>3)]<<16)>>>(7&o)},i.F._get25=function(n,o){return(n[o>>>3]|n[1+(o>>>3)]<<8|n[2+(o>>>3)]<<16|n[3+(o>>>3)]<<24)>>>(7&o)},i.F.U=(t=Uint16Array,r=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var n=i.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,n.rev15[o]=(s>>>16|s<<16)>>>17}function c(d,x,a){for(;x--!=0;)d.push(0,a)}for(o=0;o<32;o++)n.ldef[o]=n.of0[o]<<3|n.exb[o],n.ddef[o]=n.df0[o]<<4|n.dxb[o];c(n.fltree,144,8),c(n.fltree,112,9),c(n.fltree,24,7),c(n.fltree,8,8),i.F.makeCodes(n.fltree,9),i.F.codes2map(n.fltree,9,n.flmap),i.F.revCodes(n.fltree,9),c(n.fdtree,32,5),i.F.makeCodes(n.fdtree,5),i.F.codes2map(n.fdtree,5,n.fdmap),i.F.revCodes(n.fdtree,5),c(n.itree,19,0),c(n.ltree,286,0),c(n.dtree,30,0),c(n.ttree,320,0)}()})();var _c=Fc({__proto__:null,default:Mt},[Mt]);const Ue=function(){var e={nextZero(a,f){for(;a[f]!=0;)f++;return f},readUshort:(a,f)=>a[f]<<8|a[f+1],writeUshort(a,f,u){a[f]=u>>8&255,a[f+1]=255&u},readUint:(a,f)=>16777216*a[f]+(a[f+1]<<16|a[f+2]<<8|a[f+3]),writeUint(a,f,u){a[f]=u>>24&255,a[f+1]=u>>16&255,a[f+2]=u>>8&255,a[f+3]=255&u},readASCII(a,f,u){let l="";for(let S=0;S<u;S++)l+=String.fromCharCode(a[f+S]);return l},writeASCII(a,f,u){for(let l=0;l<u.length;l++)a[f+l]=u.charCodeAt(l)},readBytes(a,f,u){const l=[];for(let S=0;S<u;S++)l.push(a[f+S]);return l},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,f,u){let l,S="";for(let P=0;P<u;P++)S+=`%${e.pad(a[f+P].toString(16))}`;try{l=decodeURIComponent(S)}catch{return e.readASCII(a,f,u)}return l}};function t(a,f,u,l){const S=f*u,P=o(l),I=Math.ceil(f*P/8),y=new Uint8Array(4*S),v=new Uint32Array(y.buffer),{ctype:L}=l,{depth:R}=l,M=e.readUshort;if(L==6){const N=S<<2;if(R==8)for(var E=0;E<N;E+=4)y[E]=a[E],y[E+1]=a[E+1],y[E+2]=a[E+2],y[E+3]=a[E+3];if(R==16)for(E=0;E<N;E++)y[E]=a[E<<1]}else if(L==2){const N=l.tabs.tRNS;if(N==null){if(R==8)for(E=0;E<S;E++){var w=3*E;v[E]=255<<24|a[w+2]<<16|a[w+1]<<8|a[w]}if(R==16)for(E=0;E<S;E++)w=6*E,v[E]=255<<24|a[w+4]<<16|a[w+2]<<8|a[w]}else{var m=N[0];const B=N[1],J=N[2];if(R==8)for(E=0;E<S;E++){var g=E<<2;w=3*E,v[E]=255<<24|a[w+2]<<16|a[w+1]<<8|a[w],a[w]==m&&a[w+1]==B&&a[w+2]==J&&(y[g+3]=0)}if(R==16)for(E=0;E<S;E++)g=E<<2,w=6*E,v[E]=255<<24|a[w+4]<<16|a[w+2]<<8|a[w],M(a,w)==m&&M(a,w+2)==B&&M(a,w+4)==J&&(y[g+3]=0)}}else if(L==3){const N=l.tabs.PLTE,B=l.tabs.tRNS,J=B?B.length:0;if(R==1)for(var b=0;b<u;b++){var C=b*I,T=b*f;for(E=0;E<f;E++){g=T+E<<2;var _=3*(F=a[C+(E>>3)]>>7-((7&E)<<0)&1);y[g]=N[_],y[g+1]=N[_+1],y[g+2]=N[_+2],y[g+3]=F<J?B[F]:255}}if(R==2)for(b=0;b<u;b++)for(C=b*I,T=b*f,E=0;E<f;E++)g=T+E<<2,_=3*(F=a[C+(E>>2)]>>6-((3&E)<<1)&3),y[g]=N[_],y[g+1]=N[_+1],y[g+2]=N[_+2],y[g+3]=F<J?B[F]:255;if(R==4)for(b=0;b<u;b++)for(C=b*I,T=b*f,E=0;E<f;E++)g=T+E<<2,_=3*(F=a[C+(E>>1)]>>4-((1&E)<<2)&15),y[g]=N[_],y[g+1]=N[_+1],y[g+2]=N[_+2],y[g+3]=F<J?B[F]:255;if(R==8)for(E=0;E<S;E++){var F;g=E<<2,_=3*(F=a[E]),y[g]=N[_],y[g+1]=N[_+1],y[g+2]=N[_+2],y[g+3]=F<J?B[F]:255}}else if(L==4){if(R==8)for(E=0;E<S;E++){g=E<<2;var U=a[p=E<<1];y[g]=U,y[g+1]=U,y[g+2]=U,y[g+3]=a[p+1]}if(R==16)for(E=0;E<S;E++){var p;g=E<<2,U=a[p=E<<2],y[g]=U,y[g+1]=U,y[g+2]=U,y[g+3]=a[p+2]}}else if(L==0)for(m=l.tabs.tRNS?l.tabs.tRNS:-1,b=0;b<u;b++){const N=b*I,B=b*f;if(R==1)for(var h=0;h<f;h++){var G=(U=255*(a[N+(h>>>3)]>>>7-(7&h)&1))==255*m?0:255;v[B+h]=G<<24|U<<16|U<<8|U}else if(R==2)for(h=0;h<f;h++)G=(U=85*(a[N+(h>>>2)]>>>6-((3&h)<<1)&3))==85*m?0:255,v[B+h]=G<<24|U<<16|U<<8|U;else if(R==4)for(h=0;h<f;h++)G=(U=17*(a[N+(h>>>1)]>>>4-((1&h)<<2)&15))==17*m?0:255,v[B+h]=G<<24|U<<16|U<<8|U;else if(R==8)for(h=0;h<f;h++)G=(U=a[N+h])==m?0:255,v[B+h]=G<<24|U<<16|U<<8|U;else if(R==16)for(h=0;h<f;h++)U=a[N+(h<<1)],G=M(a,N+(h<<1))==m?0:255,v[B+h]=G<<24|U<<16|U<<8|U}return y}function r(a,f,u,l){const S=o(a),P=Math.ceil(u*S/8),I=new Uint8Array((P+1+a.interlace)*l);return f=a.tabs.CgBI?n(f,I):i(f,I),a.interlace==0?f=s(f,a,0,u,l):a.interlace==1&&(f=function(v,L){const R=L.width,M=L.height,E=o(L),w=E>>3,m=Math.ceil(R*E/8),g=new Uint8Array(M*m);let b=0;const C=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const h=_[U],G=F[U];let N=0,B=0,J=C[U];for(;J<M;)J+=h,B++;let z=T[U];for(;z<R;)z+=G,N++;const K=Math.ceil(N*E/8);s(v,L,b,N,B);let j=0,k=C[U];for(;k<M;){let Q=T[U],oe=b+j*K<<3;for(;Q<R;){var p;if(E==1&&(p=(p=v[oe>>3])>>7-(7&oe)&1,g[k*m+(Q>>3)]|=p<<7-((7&Q)<<0)),E==2&&(p=(p=v[oe>>3])>>6-(7&oe)&3,g[k*m+(Q>>2)]|=p<<6-((3&Q)<<1)),E==4&&(p=(p=v[oe>>3])>>4-(7&oe)&15,g[k*m+(Q>>1)]|=p<<4-((1&Q)<<2)),E>=8){const ie=k*m+Q*w;for(let re=0;re<w;re++)g[ie+re]=v[(oe>>3)+re]}oe+=E,Q+=G}j++,k+=h}N*B!=0&&(b+=B*(1+K)),U+=1}return g}(f,a)),f}function i(a,f){return n(new Uint8Array(a.buffer,2,a.length-6),f)}var n=function(){const a={H:{}};return a.H.N=function(f,u){const l=Uint8Array;let S,P,I=0,y=0,v=0,L=0,R=0,M=0,E=0,w=0,m=0;if(f[0]==3&&f[1]==0)return u||new l(0);const g=a.H,b=g.b,C=g.e,T=g.R,_=g.n,F=g.A,U=g.Z,p=g.m,h=u==null;for(h&&(u=new l(f.length>>>2<<5));I==0;)if(I=b(f,m,1),y=b(f,m+1,2),m+=3,y!=0){if(h&&(u=a.H.W(u,w+(1<<17))),y==1&&(S=p.J,P=p.h,M=511,E=31),y==2){v=C(f,m,5)+257,L=C(f,m+5,5)+1,R=C(f,m+10,4)+4,m+=14;let N=1;for(var G=0;G<38;G+=2)p.Q[G]=0,p.Q[G+1]=0;for(G=0;G<R;G++){const z=C(f,m+3*G,3);p.Q[1+(p.X[G]<<1)]=z,z>N&&(N=z)}m+=3*R,_(p.Q,N),F(p.Q,N,p.u),S=p.w,P=p.d,m=T(p.u,(1<<N)-1,v+L,f,m,p.v);const B=g.V(p.v,0,v,p.C);M=(1<<B)-1;const J=g.V(p.v,v,L,p.D);E=(1<<J)-1,_(p.C,B),F(p.C,B,S),_(p.D,J),F(p.D,J,P)}for(;;){const N=S[U(f,m)&M];m+=15&N;const B=N>>>4;if(!(B>>>8))u[w++]=B;else{if(B==256)break;{let J=w+B-254;if(B>264){const Q=p.q[B-257];J=w+(Q>>>3)+C(f,m,7&Q),m+=7&Q}const z=P[U(f,m)&E];m+=15&z;const K=z>>>4,j=p.c[K],k=(j>>>4)+b(f,m,15&j);for(m+=15&j;w<J;)u[w]=u[w++-k],u[w]=u[w++-k],u[w]=u[w++-k],u[w]=u[w++-k];w=J}}}}else{7&m&&(m+=8-(7&m));const N=4+(m>>>3),B=f[N-4]|f[N-3]<<8;h&&(u=a.H.W(u,w+B)),u.set(new l(f.buffer,f.byteOffset+N,B),w),m=N+B<<3,w+=B}return u.length==w?u:u.slice(0,w)},a.H.W=function(f,u){const l=f.length;if(u<=l)return f;const S=new Uint8Array(l<<1);return S.set(f,0),S},a.H.R=function(f,u,l,S,P,I){const y=a.H.e,v=a.H.Z;let L=0;for(;L<l;){const R=f[v(S,P)&u];P+=15&R;const M=R>>>4;if(M<=15)I[L]=M,L++;else{let E=0,w=0;M==16?(w=3+y(S,P,2),P+=2,E=I[L-1]):M==17?(w=3+y(S,P,3),P+=3):M==18&&(w=11+y(S,P,7),P+=7);const m=L+w;for(;L<m;)I[L]=E,L++}}return P},a.H.V=function(f,u,l,S){let P=0,I=0;const y=S.length>>>1;for(;I<l;){const v=f[I+u];S[I<<1]=0,S[1+(I<<1)]=v,v>P&&(P=v),I++}for(;I<y;)S[I<<1]=0,S[1+(I<<1)]=0,I++;return P},a.H.n=function(f,u){const l=a.H.m,S=f.length;let P,I,y,v;const L=l.j;for(var R=0;R<=u;R++)L[R]=0;for(R=1;R<S;R+=2)L[f[R]]++;const M=l.K;for(P=0,L[0]=0,I=1;I<=u;I++)P=P+L[I-1]<<1,M[I]=P;for(y=0;y<S;y+=2)v=f[y+1],v!=0&&(f[y]=M[v],M[v]++)},a.H.A=function(f,u,l){const S=f.length,P=a.H.m.r;for(let I=0;I<S;I+=2)if(f[I+1]!=0){const y=I>>1,v=f[I+1],L=y<<4|v,R=u-v;let M=f[I]<<R;const E=M+(1<<R);for(;M!=E;)l[P[M]>>>15-u]=L,M++}},a.H.l=function(f,u){const l=a.H.m.r,S=15-u;for(let P=0;P<f.length;P+=2){const I=f[P]<<u-f[P+1];f[P]=l[I]>>>S}},a.H.M=function(f,u,l){l<<=7&u;const S=u>>>3;f[S]|=l,f[S+1]|=l>>>8},a.H.I=function(f,u,l){l<<=7&u;const S=u>>>3;f[S]|=l,f[S+1]|=l>>>8,f[S+2]|=l>>>16},a.H.e=function(f,u,l){return(f[u>>>3]|f[1+(u>>>3)]<<8)>>>(7&u)&(1<<l)-1},a.H.b=function(f,u,l){return(f[u>>>3]|f[1+(u>>>3)]<<8|f[2+(u>>>3)]<<16)>>>(7&u)&(1<<l)-1},a.H.Z=function(f,u){return(f[u>>>3]|f[1+(u>>>3)]<<8|f[2+(u>>>3)]<<16)>>>(7&u)},a.H.i=function(f,u){return(f[u>>>3]|f[1+(u>>>3)]<<8|f[2+(u>>>3)]<<16|f[3+(u>>>3)]<<24)>>>(7&u)},a.H.m=function(){const f=Uint16Array,u=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new u(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new u(286),Y:new u(30),a:new u(19),t:new u(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=a.H.m;for(var u=0;u<32768;u++){let S=u;S=(2863311530&S)>>>1|(1431655765&S)<<1,S=(3435973836&S)>>>2|(858993459&S)<<2,S=(4042322160&S)>>>4|(252645135&S)<<4,S=(4278255360&S)>>>8|(16711935&S)<<8,f.r[u]=(S>>>16|S<<16)>>>17}function l(S,P,I){for(;P--!=0;)S.push(0,I)}for(u=0;u<32;u++)f.q[u]=f.S[u]<<3|f.T[u],f.c[u]=f.p[u]<<4|f.z[u];l(f._,144,8),l(f._,112,9),l(f._,24,7),l(f._,8,8),a.H.n(f._,9),a.H.A(f._,9,f.J),a.H.l(f._,9),l(f.$,32,5),a.H.n(f.$,5),a.H.A(f.$,5,f.h),a.H.l(f.$,5),l(f.Q,19,0),l(f.C,286,0),l(f.D,30,0),l(f.v,320,0)}(),a.H.N}();function o(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function s(a,f,u,l,S){let P=o(f);const I=Math.ceil(l*P/8);let y,v;P=Math.ceil(P/8);let L=a[u],R=0;if(L>1&&(a[u]=[0,0,1][L-2]),L==3)for(R=P;R<I;R++)a[R+1]=a[R+1]+(a[R+1-P]>>>1)&255;for(let M=0;M<S;M++)if(y=u+M*I,v=y+M+1,L=a[v-1],R=0,L==0)for(;R<I;R++)a[y+R]=a[v+R];else if(L==1){for(;R<P;R++)a[y+R]=a[v+R];for(;R<I;R++)a[y+R]=a[v+R]+a[y+R-P]}else if(L==2)for(;R<I;R++)a[y+R]=a[v+R]+a[y+R-I];else if(L==3){for(;R<P;R++)a[y+R]=a[v+R]+(a[y+R-I]>>>1);for(;R<I;R++)a[y+R]=a[v+R]+(a[y+R-I]+a[y+R-P]>>>1)}else{for(;R<P;R++)a[y+R]=a[v+R]+c(0,a[y+R-I],0);for(;R<I;R++)a[y+R]=a[v+R]+c(a[y+R-P],a[y+R-I],a[y+R-P-I])}return a}function c(a,f,u){const l=a+f-u,S=l-a,P=l-f,I=l-u;return S*S<=P*P&&S*S<=I*I?a:P*P<=I*I?f:u}function d(a,f,u){u.width=e.readUint(a,f),f+=4,u.height=e.readUint(a,f),f+=4,u.depth=a[f],f++,u.ctype=a[f],f++,u.compress=a[f],f++,u.filter=a[f],f++,u.interlace=a[f],f++}function x(a,f,u,l,S,P,I,y,v){const L=Math.min(f,S),R=Math.min(u,P);let M=0,E=0;for(let U=0;U<R;U++)for(let p=0;p<L;p++)if(I>=0&&y>=0?(M=U*f+p<<2,E=(y+U)*S+I+p<<2):(M=(-y+U)*f-I+p<<2,E=U*S+p<<2),v==0)l[E]=a[M],l[E+1]=a[M+1],l[E+2]=a[M+2],l[E+3]=a[M+3];else if(v==1){var w=a[M+3]*.00392156862745098,m=a[M]*w,g=a[M+1]*w,b=a[M+2]*w,C=l[E+3]*(1/255),T=l[E]*C,_=l[E+1]*C,F=l[E+2]*C;const h=1-w,G=w+C*h,N=G==0?0:1/G;l[E+3]=255*G,l[E+0]=(m+T*h)*N,l[E+1]=(g+_*h)*N,l[E+2]=(b+F*h)*N}else if(v==2)w=a[M+3],m=a[M],g=a[M+1],b=a[M+2],C=l[E+3],T=l[E],_=l[E+1],F=l[E+2],w==C&&m==T&&g==_&&b==F?(l[E]=0,l[E+1]=0,l[E+2]=0,l[E+3]=0):(l[E]=m,l[E+1]=g,l[E+2]=b,l[E+3]=w);else if(v==3){if(w=a[M+3],m=a[M],g=a[M+1],b=a[M+2],C=l[E+3],T=l[E],_=l[E+1],F=l[E+2],w==C&&m==T&&g==_&&b==F)continue;if(w<220&&C>20)return!1}return!0}return{decode:function(f){const u=new Uint8Array(f);let l=8;const S=e,P=S.readUshort,I=S.readUint,y={tabs:{},frames:[]},v=new Uint8Array(u.length);let L,R=0,M=0;const E=[137,80,78,71,13,10,26,10];for(var w=0;w<8;w++)if(u[w]!=E[w])throw"The input is not a PNG file!";for(;l<u.length;){const U=S.readUint(u,l);l+=4;const p=S.readASCII(u,l,4);if(l+=4,p=="IHDR")d(u,l,y);else if(p=="iCCP"){for(var m=l;u[m]!=0;)m++;S.readASCII(u,l,m-l),u[m+1];const h=u.slice(m+2,l+U);let G=null;try{G=i(h)}catch{G=n(h)}y.tabs[p]=G}else if(p=="CgBI")y.tabs[p]=u.slice(l,l+4);else if(p=="IDAT"){for(w=0;w<U;w++)v[R+w]=u[l+w];R+=U}else if(p=="acTL")y.tabs[p]={num_frames:I(u,l),num_plays:I(u,l+4)},L=new Uint8Array(u.length);else if(p=="fcTL"){M!=0&&((F=y.frames[y.frames.length-1]).data=r(y,L.slice(0,M),F.rect.width,F.rect.height),M=0);const h={x:I(u,l+12),y:I(u,l+16),width:I(u,l+4),height:I(u,l+8)};let G=P(u,l+22);G=P(u,l+20)/(G==0?100:G);const N={rect:h,delay:Math.round(1e3*G),dispose:u[l+24],blend:u[l+25]};y.frames.push(N)}else if(p=="fdAT"){for(w=0;w<U-4;w++)L[M+w]=u[l+w+4];M+=U-4}else if(p=="pHYs")y.tabs[p]=[S.readUint(u,l),S.readUint(u,l+4),u[l+8]];else if(p=="cHRM")for(y.tabs[p]=[],w=0;w<8;w++)y.tabs[p].push(S.readUint(u,l+4*w));else if(p=="tEXt"||p=="zTXt"){y.tabs[p]==null&&(y.tabs[p]={});var g=S.nextZero(u,l),b=S.readASCII(u,l,g-l),C=l+U-g-1;if(p=="tEXt")_=S.readASCII(u,g+1,C);else{var T=i(u.slice(g+2,g+2+C));_=S.readUTF8(T,0,T.length)}y.tabs[p][b]=_}else if(p=="iTXt"){y.tabs[p]==null&&(y.tabs[p]={}),g=0,m=l,g=S.nextZero(u,m),b=S.readASCII(u,m,g-m);const h=u[m=g+1];var _;u[m+1],m+=2,g=S.nextZero(u,m),S.readASCII(u,m,g-m),m=g+1,g=S.nextZero(u,m),S.readUTF8(u,m,g-m),C=U-((m=g+1)-l),h==0?_=S.readUTF8(u,m,C):(T=i(u.slice(m,m+C)),_=S.readUTF8(T,0,T.length)),y.tabs[p][b]=_}else if(p=="PLTE")y.tabs[p]=S.readBytes(u,l,U);else if(p=="hIST"){const h=y.tabs.PLTE.length/3;for(y.tabs[p]=[],w=0;w<h;w++)y.tabs[p].push(P(u,l+2*w))}else if(p=="tRNS")y.ctype==3?y.tabs[p]=S.readBytes(u,l,U):y.ctype==0?y.tabs[p]=P(u,l):y.ctype==2&&(y.tabs[p]=[P(u,l),P(u,l+2),P(u,l+4)]);else if(p=="gAMA")y.tabs[p]=S.readUint(u,l)/1e5;else if(p=="sRGB")y.tabs[p]=u[l];else if(p=="bKGD")y.ctype==0||y.ctype==4?y.tabs[p]=[P(u,l)]:y.ctype==2||y.ctype==6?y.tabs[p]=[P(u,l),P(u,l+2),P(u,l+4)]:y.ctype==3&&(y.tabs[p]=u[l]);else if(p=="IEND")break;l+=U,S.readUint(u,l),l+=4}var F;return M!=0&&((F=y.frames[y.frames.length-1]).data=r(y,L.slice(0,M),F.rect.width,F.rect.height)),y.data=r(y,v,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(f){const u=f.width,l=f.height;if(f.tabs.acTL==null)return[t(f.data,u,l,f).buffer];const S=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const P=u*l*4,I=new Uint8Array(P),y=new Uint8Array(P),v=new Uint8Array(P);for(let R=0;R<f.frames.length;R++){const M=f.frames[R],E=M.rect.x,w=M.rect.y,m=M.rect.width,g=M.rect.height,b=t(M.data,m,g,f);if(R!=0)for(var L=0;L<P;L++)v[L]=I[L];if(M.blend==0?x(b,m,g,I,u,l,E,w,0):M.blend==1&&x(b,m,g,I,u,l,E,w,1),S.push(I.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)x(y,m,g,I,u,l,E,w,0);else if(M.dispose==2)for(L=0;L<P;L++)I[L]=v[L]}}return S},_paeth:c,_copyTile:x,_bin:e}}();(function(){const{_copyTile:e}=Ue,{_bin:t}=Ue,r=Ue._paeth;var i={table:function(){const m=new Uint32Array(256);for(let g=0;g<256;g++){let b=g;for(let C=0;C<8;C++)1&b?b=3988292384^b>>>1:b>>>=1;m[g]=b}return m}(),update(m,g,b,C){for(let T=0;T<C;T++)m=i.table[255&(m^g[b+T])]^m>>>8;return m},crc:(m,g,b)=>4294967295^i.update(4294967295,m,g,b)};function n(m,g,b,C){g[b]+=m[0]*C>>4,g[b+1]+=m[1]*C>>4,g[b+2]+=m[2]*C>>4,g[b+3]+=m[3]*C>>4}function o(m){return Math.max(0,Math.min(255,m))}function s(m,g){const b=m[0]-g[0],C=m[1]-g[1],T=m[2]-g[2],_=m[3]-g[3];return b*b+C*C+T*T+_*_}function c(m,g,b,C,T,_,F){F==null&&(F=1);const U=C.length,p=[];for(var h=0;h<U;h++){const k=C[h];p.push([k>>>0&255,k>>>8&255,k>>>16&255,k>>>24&255])}for(h=0;h<U;h++){let k=4294967295;for(var G=0,N=0;N<U;N++){var B=s(p[h],p[N]);N!=h&&B<k&&(k=B,G=N)}}const J=new Uint32Array(T.buffer),z=new Int16Array(g*b*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(h=0;h<K.length;h++)K[h]=255*((K[h]+.5)/16-.5);for(let k=0;k<b;k++)for(let Q=0;Q<g;Q++){var j;h=4*(k*g+Q),F!=2?j=[o(m[h]+z[h]),o(m[h+1]+z[h+1]),o(m[h+2]+z[h+2]),o(m[h+3]+z[h+3])]:(B=K[4*(3&k)+(3&Q)],j=[o(m[h]+B),o(m[h+1]+B),o(m[h+2]+B),o(m[h+3]+B)]),G=0;let oe=16777215;for(N=0;N<U;N++){const se=s(j,p[N]);se<oe&&(oe=se,G=N)}const ie=p[G],re=[j[0]-ie[0],j[1]-ie[1],j[2]-ie[2],j[3]-ie[3]];F==1&&(Q!=g-1&&n(re,z,h+4,7),k!=b-1&&(Q!=0&&n(re,z,h+4*g-4,3),n(re,z,h+4*g,5),Q!=g-1&&n(re,z,h+4*g+4,1))),_[h>>2]=G,J[h>>2]=C[G]}}function d(m,g,b,C,T){T==null&&(T={});const{crc:_}=i,F=t.writeUint,U=t.writeUshort,p=t.writeASCII;let h=8;const G=m.frames.length>1;let N,B=!1,J=33+(G?20:0);if(T.sRGB!=null&&(J+=13),T.pHYs!=null&&(J+=21),T.iCCP!=null&&(N=pako.deflate(T.iCCP),J+=21+N.length+4),m.ctype==3){for(var z=m.plte.length,K=0;K<z;K++)m.plte[K]>>>24!=255&&(B=!0);J+=8+3*z+4+(B?8+1*z+4:0)}for(var j=0;j<m.frames.length;j++)G&&(J+=38),J+=(ie=m.frames[j]).cimg.length+12,j!=0&&(J+=4);J+=12;const k=new Uint8Array(J),Q=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)k[K]=Q[K];if(F(k,h,13),h+=4,p(k,h,"IHDR"),h+=4,F(k,h,g),h+=4,F(k,h,b),h+=4,k[h]=m.depth,h++,k[h]=m.ctype,h++,k[h]=0,h++,k[h]=0,h++,k[h]=0,h++,F(k,h,_(k,h-17,17)),h+=4,T.sRGB!=null&&(F(k,h,1),h+=4,p(k,h,"sRGB"),h+=4,k[h]=T.sRGB,h++,F(k,h,_(k,h-5,5)),h+=4),T.iCCP!=null){const re=13+N.length;F(k,h,re),h+=4,p(k,h,"iCCP"),h+=4,p(k,h,"ICC profile"),h+=11,h+=2,k.set(N,h),h+=N.length,F(k,h,_(k,h-(re+4),re+4)),h+=4}if(T.pHYs!=null&&(F(k,h,9),h+=4,p(k,h,"pHYs"),h+=4,F(k,h,T.pHYs[0]),h+=4,F(k,h,T.pHYs[1]),h+=4,k[h]=T.pHYs[2],h++,F(k,h,_(k,h-13,13)),h+=4),G&&(F(k,h,8),h+=4,p(k,h,"acTL"),h+=4,F(k,h,m.frames.length),h+=4,F(k,h,T.loop!=null?T.loop:0),h+=4,F(k,h,_(k,h-12,12)),h+=4),m.ctype==3){for(F(k,h,3*(z=m.plte.length)),h+=4,p(k,h,"PLTE"),h+=4,K=0;K<z;K++){const re=3*K,se=m.plte[K],ue=255&se,le=se>>>8&255,He=se>>>16&255;k[h+re+0]=ue,k[h+re+1]=le,k[h+re+2]=He}if(h+=3*z,F(k,h,_(k,h-3*z-4,3*z+4)),h+=4,B){for(F(k,h,z),h+=4,p(k,h,"tRNS"),h+=4,K=0;K<z;K++)k[h+K]=m.plte[K]>>>24&255;h+=z,F(k,h,_(k,h-z-4,z+4)),h+=4}}let oe=0;for(j=0;j<m.frames.length;j++){var ie=m.frames[j];G&&(F(k,h,26),h+=4,p(k,h,"fcTL"),h+=4,F(k,h,oe++),h+=4,F(k,h,ie.rect.width),h+=4,F(k,h,ie.rect.height),h+=4,F(k,h,ie.rect.x),h+=4,F(k,h,ie.rect.y),h+=4,U(k,h,C[j]),h+=2,U(k,h,1e3),h+=2,k[h]=ie.dispose,h++,k[h]=ie.blend,h++,F(k,h,_(k,h-30,30)),h+=4);const re=ie.cimg;F(k,h,(z=re.length)+(j==0?0:4)),h+=4;const se=h;p(k,h,j==0?"IDAT":"fdAT"),h+=4,j!=0&&(F(k,h,oe++),h+=4),k.set(re,h),h+=z,F(k,h,_(k,se,h-se)),h+=4}return F(k,h,0),h+=4,p(k,h,"IEND"),h+=4,F(k,h,_(k,h-4,4)),h+=4,k.buffer}function x(m,g,b){for(let C=0;C<m.frames.length;C++){const T=m.frames[C];T.rect.width;const _=T.rect.height,F=new Uint8Array(_*T.bpl+_);T.cimg=l(T.img,_,T.bpp,T.bpl,F,g,b)}}function a(m,g,b,C,T){const _=T[0],F=T[1],U=T[2],p=T[3],h=T[4],G=T[5];let N=6,B=8,J=255;for(var z=0;z<m.length;z++){const A=new Uint8Array(m[z]);for(var K=A.length,j=0;j<K;j+=4)J&=A[j+3]}const k=J!=255,Q=function(D,O,X,$,H,Y){const ee=[];for(var V=0;V<D.length;V++){const xe=new Uint8Array(D[V]),be=new Uint32Array(xe.buffer);var de;let ye=0,ke=0,De=O,qe=X,$t=$?1:0;if(V!=0){const Ei=Y||$||V==1||ee[V-2].dispose!=0?1:2;let Zt=0,bn=1e9;for(let pt=0;pt<Ei;pt++){var Ne=new Uint8Array(D[V-1-pt]);const Ai=new Uint32Array(D[V-1-pt]);let $e=O,Ze=X,it=-1,mt=-1;for(let Je=0;Je<X;Je++)for(let Qe=0;Qe<O;Qe++)be[he=Je*O+Qe]!=Ai[he]&&(Qe<$e&&($e=Qe),Qe>it&&(it=Qe),Je<Ze&&(Ze=Je),Je>mt&&(mt=Je));it==-1&&($e=Ze=it=mt=0),H&&((1&$e)==1&&$e--,(1&Ze)==1&&Ze--);const _n=(it-$e+1)*(mt-Ze+1);_n<bn&&(bn=_n,Zt=pt,ye=$e,ke=Ze,De=it-$e+1,qe=mt-Ze+1)}Ne=new Uint8Array(D[V-1-Zt]),Zt==1&&(ee[V-1].dispose=2),de=new Uint8Array(De*qe*4),e(Ne,O,X,de,De,qe,-ye,-ke,0),$t=e(xe,O,X,de,De,qe,-ye,-ke,3)?1:0,$t==1?u(xe,O,X,de,{x:ye,y:ke,width:De,height:qe}):e(xe,O,X,de,De,qe,-ye,-ke,0)}else de=xe.slice(0);ee.push({rect:{x:ye,y:ke,width:De,height:qe},img:de,blend:$t,dispose:0})}if($)for(V=0;V<ee.length;V++){if((Le=ee[V]).blend==1)continue;const xe=Le.rect,be=ee[V-1].rect,ye=Math.min(xe.x,be.x),ke=Math.min(xe.y,be.y),De={x:ye,y:ke,width:Math.max(xe.x+xe.width,be.x+be.width)-ye,height:Math.max(xe.y+xe.height,be.y+be.height)-ke};ee[V-1].dispose=1,V-1!=0&&f(D,O,X,ee,V-1,De,H),f(D,O,X,ee,V,De,H)}let je=0;if(D.length!=1)for(var he=0;he<ee.length;he++){var Le;je+=(Le=ee[he]).rect.width*Le.rect.height}return ee}(m,g,b,_,F,U),oe={},ie=[],re=[];if(C!=0){const A=[];for(j=0;j<Q.length;j++)A.push(Q[j].img.buffer);const D=function(H){let Y=0;for(var ee=0;ee<H.length;ee++)Y+=H[ee].byteLength;const V=new Uint8Array(Y);let de=0;for(ee=0;ee<H.length;ee++){const Ne=new Uint8Array(H[ee]),je=Ne.length;for(let he=0;he<je;he+=4){let Le=Ne[he],xe=Ne[he+1],be=Ne[he+2];const ye=Ne[he+3];ye==0&&(Le=xe=be=0),V[de+he]=Le,V[de+he+1]=xe,V[de+he+2]=be,V[de+he+3]=ye}de+=je}return V.buffer}(A),O=P(D,C);for(j=0;j<O.plte.length;j++)ie.push(O.plte[j].est.rgba);let X=0;for(j=0;j<Q.length;j++){const $=(ue=Q[j]).img.length;var se=new Uint8Array(O.inds.buffer,X>>2,$>>2);re.push(se);const H=new Uint8Array(O.abuf,X,$);G&&c(ue.img,ue.rect.width,ue.rect.height,ie,H,se),ue.img.set(H),X+=$}}else for(z=0;z<Q.length;z++){var ue=Q[z];const A=new Uint32Array(ue.img.buffer);var le=ue.rect.width;for(K=A.length,se=new Uint8Array(K),re.push(se),j=0;j<K;j++){const D=A[j];if(j!=0&&D==A[j-1])se[j]=se[j-1];else if(j>le&&D==A[j-le])se[j]=se[j-le];else{let O=oe[D];if(O==null&&(oe[D]=O=ie.length,ie.push(D),ie.length>=300))break;se[j]=O}}}const He=ie.length;for(He<=256&&h==0&&(B=He<=2?1:He<=4?2:He<=16?4:8,B=Math.max(B,p)),z=0;z<Q.length;z++){(ue=Q[z]).rect.x,ue.rect.y,le=ue.rect.width;const A=ue.rect.height;let D=ue.img;new Uint32Array(D.buffer);let O=4*le,X=4;if(He<=256&&h==0){O=Math.ceil(B*le/8);var Pe=new Uint8Array(O*A);const $=re[z];for(let H=0;H<A;H++){j=H*O;const Y=H*le;if(B==8)for(var fe=0;fe<le;fe++)Pe[j+fe]=$[Y+fe];else if(B==4)for(fe=0;fe<le;fe++)Pe[j+(fe>>1)]|=$[Y+fe]<<4-4*(1&fe);else if(B==2)for(fe=0;fe<le;fe++)Pe[j+(fe>>2)]|=$[Y+fe]<<6-2*(3&fe);else if(B==1)for(fe=0;fe<le;fe++)Pe[j+(fe>>3)]|=$[Y+fe]<<7-1*(7&fe)}D=Pe,N=3,X=1}else if(k==0&&Q.length==1){Pe=new Uint8Array(le*A*3);const $=le*A;for(j=0;j<$;j++){const H=3*j,Y=4*j;Pe[H]=D[Y],Pe[H+1]=D[Y+1],Pe[H+2]=D[Y+2]}D=Pe,N=2,X=3,O=3*le}ue.img=D,ue.bpl=O,ue.bpp=X}return{ctype:N,depth:B,plte:ie,frames:Q}}function f(m,g,b,C,T,_,F){const U=Uint8Array,p=Uint32Array,h=new U(m[T-1]),G=new p(m[T-1]),N=T+1<m.length?new U(m[T+1]):null,B=new U(m[T]),J=new p(B.buffer);let z=g,K=b,j=-1,k=-1;for(let oe=0;oe<_.height;oe++)for(let ie=0;ie<_.width;ie++){const re=_.x+ie,se=_.y+oe,ue=se*g+re,le=J[ue];le==0||C[T-1].dispose==0&&G[ue]==le&&(N==null||N[4*ue+3]!=0)||(re<z&&(z=re),re>j&&(j=re),se<K&&(K=se),se>k&&(k=se))}j==-1&&(z=K=j=k=0),F&&((1&z)==1&&z--,(1&K)==1&&K--),_={x:z,y:K,width:j-z+1,height:k-K+1};const Q=C[T];Q.rect=_,Q.blend=1,Q.img=new Uint8Array(_.width*_.height*4),C[T-1].dispose==0?(e(h,g,b,Q.img,_.width,_.height,-_.x,-_.y,0),u(B,g,b,Q.img,_)):e(B,g,b,Q.img,_.width,_.height,-_.x,-_.y,0)}function u(m,g,b,C,T){e(m,g,b,C,T.width,T.height,-T.x,-T.y,2)}function l(m,g,b,C,T,_,F){const U=[];let p,h=[0,1,2,3,4];_!=-1?h=[_]:(g*C>5e5||b==1)&&(h=[0]),F&&(p={level:0});const G=_c;for(var N=0;N<h.length;N++){for(let z=0;z<g;z++)S(T,m,z,C,b,h[N]);U.push(G.deflate(T,p))}let B,J=1e9;for(N=0;N<U.length;N++)U[N].length<J&&(B=N,J=U[N].length);return U[B]}function S(m,g,b,C,T,_){const F=b*C;let U=F+b;if(m[U]=_,U++,_==0)if(C<500)for(var p=0;p<C;p++)m[U+p]=g[F+p];else m.set(new Uint8Array(g.buffer,F,C),U);else if(_==1){for(p=0;p<T;p++)m[U+p]=g[F+p];for(p=T;p<C;p++)m[U+p]=g[F+p]-g[F+p-T]+256&255}else if(b==0){for(p=0;p<T;p++)m[U+p]=g[F+p];if(_==2)for(p=T;p<C;p++)m[U+p]=g[F+p];if(_==3)for(p=T;p<C;p++)m[U+p]=g[F+p]-(g[F+p-T]>>1)+256&255;if(_==4)for(p=T;p<C;p++)m[U+p]=g[F+p]-r(g[F+p-T],0,0)+256&255}else{if(_==2)for(p=0;p<C;p++)m[U+p]=g[F+p]+256-g[F+p-C]&255;if(_==3){for(p=0;p<T;p++)m[U+p]=g[F+p]+256-(g[F+p-C]>>1)&255;for(p=T;p<C;p++)m[U+p]=g[F+p]+256-(g[F+p-C]+g[F+p-T]>>1)&255}if(_==4){for(p=0;p<T;p++)m[U+p]=g[F+p]+256-r(0,g[F+p-C],0)&255;for(p=T;p<C;p++)m[U+p]=g[F+p]+256-r(g[F+p-T],g[F+p-C],g[F+p-T-C])&255}}}function P(m,g){const b=new Uint8Array(m),C=b.slice(0),T=new Uint32Array(C.buffer),_=I(C,g),F=_[0],U=_[1],p=b.length,h=new Uint8Array(p>>2);let G;if(b.length<2e7)for(var N=0;N<p;N+=4)G=y(F,B=b[N]*(1/255),J=b[N+1]*(1/255),z=b[N+2]*(1/255),K=b[N+3]*(1/255)),h[N>>2]=G.ind,T[N>>2]=G.est.rgba;else for(N=0;N<p;N+=4){var B=b[N]*.00392156862745098,J=b[N+1]*(1/255),z=b[N+2]*(1/255),K=b[N+3]*(1/255);for(G=F;G.left;)G=v(G.est,B,J,z,K)<=0?G.left:G.right;h[N>>2]=G.ind,T[N>>2]=G.est.rgba}return{abuf:C.buffer,inds:h,plte:U}}function I(m,g,b){b==null&&(b=1e-4);const C=new Uint32Array(m.buffer),T={i0:0,i1:m.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=M(m,T.i0,T.i1),T.est=E(T.bst);const _=[T];for(;_.length<g;){let U=0,p=0;for(var F=0;F<_.length;F++)_[F].est.L>U&&(U=_[F].est.L,p=F);if(U<b)break;const h=_[p],G=L(m,C,h.i0,h.i1,h.est.e,h.est.eMq255);if(h.i0>=G||h.i1<=G){h.est.L=0;continue}const N={i0:h.i0,i1:G,bst:null,est:null,tdst:0,left:null,right:null};N.bst=M(m,N.i0,N.i1),N.est=E(N.bst);const B={i0:G,i1:h.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:h.bst.N-N.bst.N},F=0;F<16;F++)B.bst.R[F]=h.bst.R[F]-N.bst.R[F];for(F=0;F<4;F++)B.bst.m[F]=h.bst.m[F]-N.bst.m[F];B.est=E(B.bst),h.left=N,h.right=B,_[p]=N,_.push(B)}for(_.sort((U,p)=>p.bst.N-U.bst.N),F=0;F<_.length;F++)_[F].ind=F;return[T,_]}function y(m,g,b,C,T){if(m.left==null)return m.tdst=function(N,B,J,z,K){const j=B-N[0],k=J-N[1],Q=z-N[2],oe=K-N[3];return j*j+k*k+Q*Q+oe*oe}(m.est.q,g,b,C,T),m;const _=v(m.est,g,b,C,T);let F=m.left,U=m.right;_>0&&(F=m.right,U=m.left);const p=y(F,g,b,C,T);if(p.tdst<=_*_)return p;const h=y(U,g,b,C,T);return h.tdst<p.tdst?h:p}function v(m,g,b,C,T){const{e:_}=m;return _[0]*g+_[1]*b+_[2]*C+_[3]*T-m.eMq}function L(m,g,b,C,T,_){for(C-=4;b<C;){for(;R(m,b,T)<=_;)b+=4;for(;R(m,C,T)>_;)C-=4;if(b>=C)break;const F=g[b>>2];g[b>>2]=g[C>>2],g[C>>2]=F,b+=4,C-=4}for(;R(m,b,T)>_;)b-=4;return b+4}function R(m,g,b){return m[g]*b[0]+m[g+1]*b[1]+m[g+2]*b[2]+m[g+3]*b[3]}function M(m,g,b){const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],_=b-g>>2;for(let F=g;F<b;F+=4){const U=m[F]*.00392156862745098,p=m[F+1]*(1/255),h=m[F+2]*(1/255),G=m[F+3]*(1/255);T[0]+=U,T[1]+=p,T[2]+=h,T[3]+=G,C[0]+=U*U,C[1]+=U*p,C[2]+=U*h,C[3]+=U*G,C[5]+=p*p,C[6]+=p*h,C[7]+=p*G,C[10]+=h*h,C[11]+=h*G,C[15]+=G*G}return C[4]=C[1],C[8]=C[2],C[9]=C[6],C[12]=C[3],C[13]=C[7],C[14]=C[11],{R:C,m:T,N:_}}function E(m){const{R:g}=m,{m:b}=m,{N:C}=m,T=b[0],_=b[1],F=b[2],U=b[3],p=C==0?0:1/C,h=[g[0]-T*T*p,g[1]-T*_*p,g[2]-T*F*p,g[3]-T*U*p,g[4]-_*T*p,g[5]-_*_*p,g[6]-_*F*p,g[7]-_*U*p,g[8]-F*T*p,g[9]-F*_*p,g[10]-F*F*p,g[11]-F*U*p,g[12]-U*T*p,g[13]-U*_*p,g[14]-U*F*p,g[15]-U*U*p],G=h,N=w;let B=[Math.random(),Math.random(),Math.random(),Math.random()],J=0,z=0;if(C!=0)for(let j=0;j<16&&(B=N.multVec(G,B),z=Math.sqrt(N.dot(B,B)),B=N.sml(1/z,B),!(j!=0&&Math.abs(z-J)<1e-9));j++)J=z;const K=[T*p,_*p,F*p,U*p];return{Cov:h,q:K,e:B,L:J,eMq255:N.dot(N.sml(255,K),B),eMq:N.dot(B,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var w={multVec:(m,g)=>[m[0]*g[0]+m[1]*g[1]+m[2]*g[2]+m[3]*g[3],m[4]*g[0]+m[5]*g[1]+m[6]*g[2]+m[7]*g[3],m[8]*g[0]+m[9]*g[1]+m[10]*g[2]+m[11]*g[3],m[12]*g[0]+m[13]*g[1]+m[14]*g[2]+m[15]*g[3]],dot:(m,g)=>m[0]*g[0]+m[1]*g[1]+m[2]*g[2]+m[3]*g[3],sml:(m,g)=>[m*g[0],m*g[1],m*g[2],m*g[3]]};Ue.encode=function(g,b,C,T,_,F,U){T==null&&(T=0),U==null&&(U=!1);const p=a(g,b,C,T,[!1,!1,!1,0,U,!1]);return x(p,-1),d(p,b,C,_,F)},Ue.encodeLL=function(g,b,C,T,_,F,U,p){const h={ctype:0+(T==1?0:2)+(_==0?0:4),depth:F,frames:[]},G=(T+_)*F,N=G*b;for(let B=0;B<g.length;B++)h.frames.push({rect:{x:0,y:0,width:b,height:C},img:new Uint8Array(g[B]),blend:0,dispose:1,bpp:Math.ceil(G/8),bpl:Math.ceil(N/8)});return x(h,0,!0),d(h,b,C,U,p)},Ue.encode.compress=a,Ue.encode.dither=c,Ue.quantize=P,Ue.quantize.getKDtree=I,Ue.quantize.getNearest=y})();const ci={toArrayBuffer(e,t){const r=e.width,i=e.height,n=r<<2,o=e.getContext("2d").getImageData(0,0,r,i),s=new Uint32Array(o.data.buffer),c=(32*r+31)/32<<2,d=c*i,x=122+d,a=new ArrayBuffer(x),f=new DataView(a),u=1<<20;let l,S,P,I,y=u,v=0,L=0,R=0;function M(m){f.setUint16(L,m,!0),L+=2}function E(m){f.setUint32(L,m,!0),L+=4}function w(m){L+=m}M(19778),E(x),w(4),E(122),E(108),E(r),E(-i>>>0),M(1),M(32),E(3),E(d),E(2835),E(2835),w(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function m(){for(;v<i&&y>0;){for(I=122+v*c,l=0;l<n;)y--,S=s[R++],P=S>>>24,f.setUint32(I+l,S<<8|P),l+=4;v++}R<s.length?(y=u,setTimeout(m,ci._dly)):t(a)}()},toBlob(e,t){this.toArrayBuffer(e,r=>{t(new Blob([r],{type:"image/bmp"}))})},_dly:9};var Ie={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Cc={[Ie.CHROME]:16384,[Ie.FIREFOX]:11180,[Ie.DESKTOP_SAFARI]:16384,[Ie.IE]:8192,[Ie.IOS]:4096,[Ie.ETC]:8192};const Fn=typeof window<"u",fi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,wt=Fn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Pc=(Fn||fi)&&(wt&&wt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),li=(Fn||fi)&&(wt&&wt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function In(e,t,r=Date.now()){return new Promise(i=>{const n=e.split(","),o=n[0].match(/:(.*?);/)[1],s=globalThis.atob(n[1]);let c=s.length;const d=new Uint8Array(c);for(;c--;)d[c]=s.charCodeAt(c);const x=new Blob([d],{type:o});x.name=t,x.lastModified=r,i(x)})}function di(e){return new Promise((t,r)=>{const i=new li;i.onload=()=>t(i.result),i.onerror=n=>r(n),i.readAsDataURL(e)})}function hi(e){return new Promise((t,r)=>{const i=new Image;i.onload=()=>t(i),i.onerror=n=>r(n),i.src=e})}function tt(){if(tt.cachedResult!==void 0)return tt.cachedResult;let e=Ie.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Ie.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Ie.IOS:/Safari/i.test(t)?e=Ie.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Ie.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Ie.IE),tt.cachedResult=e,tt.cachedResult}function gi(e,t){const r=tt(),i=Cc[r];let n=e,o=t,s=n*o;const c=n>o?o/n:n/o;for(;s>i*i;){const d=(i+n)/2,x=(i+o)/2;d<x?(o=x,n=x*c):(o=d*c,n=d),s=n*o}return{width:n,height:o}}function jt(e,t){let r,i;try{if(r=new OffscreenCanvas(e,t),i=r.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),i=r.getContext("2d")}return r.width=e,r.height=t,[r,i]}function pi(e,t){const{width:r,height:i}=gi(e.width,e.height),[n,o]=jt(r,i);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,n.width,n.height)),o.drawImage(e,0,0,n.width,n.height),n}function Ct(){return Ct.cachedResult!==void 0||(Ct.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ct.cachedResult}function Lt(e,t={}){return new Promise(function(r,i){let n,o;var s=function(){try{return o=pi(n,t.fileType||e.type),r([n,o])}catch(d){return i(d)}},c=function(d){try{var x=function(a){try{throw a}catch(f){return i(f)}};try{let a;return di(e).then(function(f){try{return a=f,hi(a).then(function(u){try{return n=u,function(){try{return s()}catch(l){return i(l)}}()}catch(l){return x(l)}},x)}catch(u){return x(u)}},x)}catch(a){x(a)}}catch(a){return i(a)}};try{if(Ct()||[Ie.DESKTOP_SAFARI,Ie.MOBILE_SAFARI].includes(tt()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(d){try{return n=d,s()}catch{return c()}},c)}catch{c()}})}function kt(e,t,r,i,n=1){return new Promise(function(o,s){let c;if(t==="image/png"){let x,a,f;return x=e.getContext("2d"),{data:a}=x.getImageData(0,0,e.width,e.height),f=Ue.encode([a.buffer],e.width,e.height,4096*n),c=new Blob([f],{type:t}),c.name=r,c.lastModified=i,d.call(this)}{let x=function(){return d.call(this)};if(t==="image/bmp")return new Promise(a=>ci.toBlob(e,a)).then(function(a){try{return c=a,c.name=r,c.lastModified=i,x.call(this)}catch(f){return s(f)}}.bind(this),s);{let a=function(){return x.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:n}).then(function(f){try{return c=f,c.name=r,c.lastModified=i,a.call(this)}catch(u){return s(u)}}.bind(this),s);{let f;return f=e.toDataURL(t,n),In(f,r,i).then(function(u){try{return c=u,a.call(this)}catch(l){return s(l)}}.bind(this),s)}}}function d(){return o(c)}})}function Oe(e){e.width=0,e.height=0}function lt(){return new Promise(function(e,t){let r,i,n,o;return lt.cachedResult!==void 0?e(lt.cachedResult):In("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return r=s,Lt(r).then(function(c){try{return i=c[1],kt(i,r.type,r.name,r.lastModified).then(function(d){try{return n=d,Oe(i),Lt(n).then(function(x){try{return o=x[0],lt.cachedResult=o.width===1&&o.height===2,e(lt.cachedResult)}catch(a){return t(a)}},t)}catch(x){return t(x)}},t)}catch(d){return t(d)}},t)}catch(c){return t(c)}},t)})}function mi(e){return new Promise((t,r)=>{const i=new li;i.onload=n=>{const o=new DataView(n.target.result);if(o.getUint16(0,!1)!=65496)return t(-2);const s=o.byteLength;let c=2;for(;c<s;){if(o.getUint16(c+2,!1)<=8)return t(-1);const d=o.getUint16(c,!1);if(c+=2,d==65505){if(o.getUint32(c+=2,!1)!=1165519206)return t(-1);const x=o.getUint16(c+=6,!1)==18761;c+=o.getUint32(c+4,x);const a=o.getUint16(c,x);c+=2;for(let f=0;f<a;f++)if(o.getUint16(c+12*f,x)==274)return t(o.getUint16(c+12*f+8,x))}else{if((65280&d)!=65280)break;c+=o.getUint16(c,!1)}}return t(-1)},i.onerror=n=>r(n),i.readAsArrayBuffer(e)})}function xi(e,t){const{width:r}=e,{height:i}=e,{maxWidthOrHeight:n}=t;let o,s=e;return isFinite(n)&&(r>n||i>n)&&([s,o]=jt(r,i),r>i?(s.width=n,s.height=i/r*n):(s.width=r/i*n,s.height=n),o.drawImage(e,0,0,s.width,s.height),Oe(e)),s}function Si(e,t){const{width:r}=e,{height:i}=e,[n,o]=jt(r,i);switch(t>4&&t<9?(n.width=i,n.height=r):(n.width=r,n.height=i),t){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,i);break;case 4:o.transform(1,0,0,-1,0,i);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i,0);break;case 7:o.transform(0,-1,-1,0,i,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(e,0,0,r,i),Oe(e),n}function Er(e,t,r=0){return new Promise(function(i,n){let o,s,c,d,x,a,f,u,l,S,P,I,y,v,L,R,M,E,w,m;function g(C=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=C,t.onProgress(Math.min(o,100))}function b(C){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(C,o),100),t.onProgress(o)}return o=r,s=t.maxIteration||10,c=1024*t.maxSizeMB*1024,g(),Lt(e,t).then(function(C){try{return[,d]=C,g(),x=xi(d,t),g(),new Promise(function(T,_){var F;if(!(F=t.exifOrientation))return mi(e).then(function(p){try{return F=p,U.call(this)}catch(h){return _(h)}}.bind(this),_);function U(){return T(F)}return U.call(this)}).then(function(T){try{return a=T,g(),lt().then(function(_){try{return f=_?x:Si(x,a),g(),u=t.initialQuality||1,l=t.fileType||e.type,kt(f,l,e.name,e.lastModified,u).then(function(F){try{{let p=function(){if(s--&&(L>c||L>y)){let G,N;return G=m?.95*w.width:w.width,N=m?.95*w.height:w.height,[M,E]=jt(G,N),E.drawImage(w,0,0,G,N),u*=l==="image/png"?.85:.95,kt(M,l,e.name,e.lastModified,u).then(function(B){try{return R=B,Oe(w),w=M,L=R.size,b(Math.min(99,Math.floor((v-L)/(v-c)*100))),p}catch(J){return n(J)}},n)}return[1]},h=function(){return Oe(w),Oe(M),Oe(x),Oe(f),Oe(d),b(100),i(R)};if(S=F,g(),P=S.size>c,I=S.size>e.size,!P&&!I)return b(100),i(S);var U;return y=e.size,v=S.size,L=v,w=f,m=!t.alwaysKeepResolution&&P,(U=function(G){for(;G;){if(G.then)return void G.then(U,n);try{if(G.pop){if(G.length)return G.pop()?h.call(this):G;G=p}else G=G.call(this)}catch(N){return n(N)}}}.bind(this))(p)}}catch(p){return n(p)}}.bind(this),n)}catch(F){return n(F)}}.bind(this),n)}catch(_){return n(_)}}.bind(this),n)}catch(T){return n(T)}}.bind(this),n)})}const Uc=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let tn;function vc(e,t){return new Promise((r,i)=>{tn||(tn=function(s){const c=[];return typeof s=="function"?c.push(`(${s})()`):c.push(s),URL.createObjectURL(new Blob(c))}(Uc));const n=new Worker(tn);n.addEventListener("message",function(s){if(t.signal&&t.signal.aborted)n.terminate();else if(s.data.progress===void 0){if(s.data.error)return i(new Error(s.data.error)),void n.terminate();r(s.data.file),n.terminate()}else t.onProgress(s.data.progress)}),n.addEventListener("error",i),t.signal&&t.signal.addEventListener("abort",()=>{i(t.signal.reason),n.terminate()}),n.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function Ee(e,t){return new Promise(function(r,i){let n,o,s,c,d,x;if(n={...t},s=0,{onProgress:c}=n,n.maxSizeMB=n.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof n.useWebWorker!="boolean"||n.useWebWorker,delete n.useWebWorker,n.onProgress=l=>{s=l,typeof c=="function"&&c(s)},!(e instanceof Blob||e instanceof Pc))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return i(new Error("The file given is not an image"));if(x=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||x)return Er(e,n).then(function(l){try{return o=l,u.call(this)}catch(S){return i(S)}}.bind(this),i);var a=function(){try{return u.call(this)}catch(l){return i(l)}}.bind(this),f=function(l){try{return Er(e,n).then(function(S){try{return o=S,a()}catch(P){return i(P)}},i)}catch(S){return i(S)}};try{return n.libURL=n.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",vc(e,n).then(function(l){try{return o=l,a()}catch{return f()}},f)}catch{f()}function u(){try{o.name=e.name,o.lastModified=e.lastModified}catch{}try{n.preserveExif&&e.type==="image/jpeg"&&(!n.fileType||n.fileType&&n.fileType===e.type)&&(o=ui(e,o))}catch{}return r(o)}})}Ee.getDataUrlFromFile=di,Ee.getFilefromDataUrl=In,Ee.loadImage=hi,Ee.drawImageInCanvas=pi,Ee.drawFileInCanvas=Lt,Ee.canvasToFile=kt,Ee.getExifOrientation=mi,Ee.handleMaxWidthOrHeight=xi,Ee.followExifOrientation=Si,Ee.cleanupCanvasMemory=Oe,Ee.isAutoOrientationInBrowser=lt,Ee.approximateBelowMaximumCanvasSizeOfBrowser=gi,Ee.copyExifWithoutOrientation=ui,Ee.getBrowserName=tt,Ee.version="2.0.2";const Nc=e=>Ee(e,{maxWidthOrHeight:1400,maxSizeMB:.1,initialQuality:.7}),Dc="_popup_1p1u0_1",Rc="_overlay_1p1u0_13",Oc="_buttons_1p1u0_22",ct={popup:Dc,overlay:Rc,buttons:Oc},Mc=({okText:e="OK"})=>{const[t,r]=We.useState(!1),i=We.useRef(null),n=o=>{t&&(r(!1),i.current&&i.current(o))};return{renderPopup:({content:o})=>t?Z.jsxs(Ti,{className:ct.popup,overlayClassName:ct.overlay,onRequestClose:()=>n(!1),isOpen:t,children:[Z.jsx("div",{className:ct.content,children:o}),Z.jsxs("div",{className:ct.buttons,children:[Z.jsx("button",{className:Cn("btn btn-danger",ct.cancel),onClick:()=>n(!1),children:"Cancel"}),Z.jsx("button",{className:Cn("btn btn-success",ct.ok),onClick:()=>n(!0),children:e})]})]}):null,confirm:()=>(r(!0),new Promise((o,s)=>{i.current=c=>{c?o():s()}}))}},kc=()=>{var R;const e=Fi(),t=Ii(),r=bi(),[i,n]=We.useState(!1),o=Pn(M=>{var E,w;return(w=(E=M.user.data)==null?void 0:E.player)==null?void 0:w.id}),[s,c]=We.useState(null),{renderPopup:d,confirm:x}=Mc({okText:"Submit"}),a=Pn(M=>{var E,w;return(w=(E=M.charts.data)==null?void 0:E[t.sharedChartId])==null?void 0:w.chart}),f=a&&`${a.track_name} ${a.chart_label}`,{register:u,handleSubmit:l,reset:S,watch:P,formState:I}=qi({defaultValues:{grade:"",mix:"XX",mod:""}}),y=P("screenshot"),v=P(),L=async M=>{try{await x()}catch{return}n(!0),c(null);try{const E=await Nc(M.screenshot[0]),w=await ai(M.screenshot[0]),m={...M,screenshot:E,date:(w||new Date).toISOString(),isExactDate:!!w,sharedChartId:Number(t.sharedChartId),playerId:o};console.log(m);const g=new FormData;for(const b in m)g.append(b,m[b]);await r(_i({body:g,url:`${Ci}/results/add-result`})),S(),e(Pi.leaderboard.sharedChart.getPath(t)),await r(Ui()),r(vi())}catch(E){console.error(E),c(E)}n(!1)};return Z.jsxs("div",{className:Re.addResultPage,children:[d({content:Z.jsxs("div",{className:Re.confirmation,children:[Z.jsxs("div",{className:Re.splitPanels,children:[Z.jsx("div",{className:Re.screenshotPanel,children:y&&Z.jsx(Sr,{file:y[0]})}),Z.jsxs("div",{className:Re.formPanel,children:[Z.jsx("div",{className:Re.chartName,children:f}),Z.jsxs("div",{className:Re.grid,children:[Z.jsx("div",{children:"Grade"}),Z.jsx("div",{children:v.grade}),Z.jsx("div",{style:{color:"#29D7FF"},children:"Perfect"}),Z.jsx("div",{style:{color:"#29D7FF"},children:v.perfect}),Z.jsx("div",{style:{color:"#21d021"},children:"Great"}),Z.jsx("div",{style:{color:"#21d021"},children:v.great}),Z.jsx("div",{style:{color:"#dede3a"},children:"Good"}),Z.jsx("div",{style:{color:"#dede3a"},children:v.good}),Z.jsx("div",{style:{color:"#f278fc"},children:"Bad"}),Z.jsx("div",{style:{color:"#f278fc"},children:v.bad}),Z.jsx("div",{style:{color:"#f48181"},children:"Miss"}),Z.jsx("div",{style:{color:"#f48181"},children:v.miss}),Z.jsx("div",{children:"Combo"}),Z.jsx("div",{children:v.combo}),Z.jsx("div",{style:{fontWeight:"bold",fontSize:"110%"},children:"Score"}),Z.jsx("div",{style:{fontWeight:"bold",fontSize:"110%"},children:v.score}),Z.jsx("div",{children:"Mods"}),Z.jsx("div",{children:v.mod||"None (normal mode)"})]})]})]}),Z.jsxs("div",{className:Re.warning,children:[Z.jsx(Ji,{}),Z.jsx("span",{children:"Submitting false results may result in a BAN. Make sure your screenshot is readable and the numbers you selected are correct."})]})]})}),Z.jsx("h2",{children:"Submit a result"}),Z.jsxs("p",{children:["Chart: ",f]}),Z.jsxs("form",{onSubmit:l(L),className:Re.addResultForm,children:[Z.jsxs("label",{children:[Z.jsx("span",{children:"Screenshot *"}),Z.jsx("input",{className:`${Re.fileInput} form-control`,type:"file",...u("screenshot",{required:!0})})]}),y&&((R=y[0])==null?void 0:R.name.toLowerCase().endsWith(".heic"))&&Z.jsx("p",{children:"HEIC files are not supported. Please convert your screenshot to JPG or PNG."}),y&&Z.jsx(Sr,{showDate:!0,file:y[0]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Grade *"}),Z.jsxs("select",{className:"form-control",...u("grade",{required:!0,minLength:1}),children:[Z.jsx("option",{value:"",disabled:!0,hidden:!0,children:"(select a grade)"}),Z.jsx("option",{value:"SSS",children:"SSS"}),Z.jsx("option",{value:"SS",children:"SS"}),Z.jsx("option",{value:"S",children:"S"}),Z.jsx("option",{value:"A+",children:"A+"}),Z.jsx("option",{value:"A",children:"A"}),Z.jsx("option",{value:"B",children:"B"}),Z.jsx("option",{value:"C",children:"C"}),Z.jsx("option",{value:"D",children:"D"}),Z.jsx("option",{value:"F",children:"F"}),Z.jsx("option",{value:"B+",children:"B+"}),Z.jsx("option",{value:"C+",children:"C+"}),Z.jsx("option",{value:"D+",children:"D+"}),Z.jsx("option",{value:"F+",children:"F+"})]})]}),["perfect","great","good","bad","miss","combo"].map(M=>Z.jsxs("label",{children:[Z.jsxs("span",{children:[M[0].toUpperCase()+M.slice(1)," *"]}),Z.jsx("input",{className:"form-control",inputMode:"numeric",placeholder:"000",...u(M,{required:!0,pattern:/^[0-9]+$/})})]})),Z.jsxs("label",{children:[Z.jsx("span",{children:"Score *"}),Z.jsx("input",{className:"form-control",inputMode:"numeric",placeholder:"000000",...u("score",{required:!0,minLength:4,pattern:/^[0-9]+$/})})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Mix *"}),Z.jsxs("select",{className:"form-control",...u("mix",{required:!0}),children:[Z.jsx("option",{value:"XX",children:"XX"}),Z.jsx("option",{value:"Prime2",children:"Prime 2"}),Z.jsx("option",{value:"Prime",children:"Prime"})]})]}),Z.jsxs("label",{children:[Z.jsx("span",{children:"Judge/rank *"}),Z.jsxs("select",{className:"form-control",...u("mod"),children:[Z.jsx("option",{value:"",children:"No mods"}),Z.jsx("option",{value:"VJ",children:"Rank (VJ)"}),Z.jsx("option",{value:"HJ",children:"HJ"})]})]}),Z.jsx("button",{disabled:i||!I.isValid,className:"btn btn-dark",type:"submit",children:i?"Loading...":"Submit"}),s&&Z.jsx("div",{className:"alert alert-danger",children:s.message})]})]})};export{kc as default};
//# sourceMappingURL=AddResult-29694b7b.js.map
