{"version":3,"file":"FocusTrap-652e769e.js","sources":["../../../../node_modules/@mantine/core/esm/core/utils/create-safe-context/create-safe-context.mjs","../../../../node_modules/@mantine/hooks/esm/use-focus-return/use-focus-return.mjs","../../../../node_modules/@mantine/hooks/esm/use-focus-trap/create-aria-hider.mjs","../../../../node_modules/@mantine/hooks/esm/use-focus-trap/tabbable.mjs","../../../../node_modules/@mantine/hooks/esm/use-focus-trap/scope-tab.mjs","../../../../node_modules/@mantine/hooks/esm/use-focus-trap/use-focus-trap.mjs","../../../../node_modules/@mantine/hooks/esm/use-disclosure/use-disclosure.mjs","../../../../node_modules/@mantine/core/esm/components/FocusTrap/FocusTrap.mjs"],"sourcesContent":["'use client';\nimport React, { createContext, useContext } from 'react';\n\nfunction createSafeContext(errorMessage) {\n  const Context = createContext(null);\n  const useSafeContext = () => {\n    const ctx = useContext(Context);\n    if (ctx === null) {\n      throw new Error(errorMessage);\n    }\n    return ctx;\n  };\n  const Provider = ({ children, value }) => /* @__PURE__ */ React.createElement(Context.Provider, { value }, children);\n  return [Provider, useSafeContext];\n}\n\nexport { createSafeContext };\n//# sourceMappingURL=create-safe-context.mjs.map\n","'use client';\nimport { useRef } from 'react';\nimport { useDidUpdate } from '../use-did-update/use-did-update.mjs';\n\nfunction useFocusReturn({ opened, shouldReturnFocus = true }) {\n  const lastActiveElement = useRef();\n  const returnFocus = () => {\n    if (lastActiveElement.current && \"focus\" in lastActiveElement.current && typeof lastActiveElement.current.focus === \"function\") {\n      lastActiveElement.current?.focus({ preventScroll: true });\n    }\n  };\n  useDidUpdate(() => {\n    let timeout = -1;\n    const clearFocusTimeout = (event) => {\n      if (event.key === \"Tab\") {\n        window.clearTimeout(timeout);\n      }\n    };\n    document.addEventListener(\"keydown\", clearFocusTimeout);\n    if (opened) {\n      lastActiveElement.current = document.activeElement;\n    } else if (shouldReturnFocus) {\n      timeout = window.setTimeout(returnFocus, 10);\n    }\n    return () => {\n      window.clearTimeout(timeout);\n      document.removeEventListener(\"keydown\", clearFocusTimeout);\n    };\n  }, [opened, shouldReturnFocus]);\n  return returnFocus;\n}\n\nexport { useFocusReturn };\n//# sourceMappingURL=use-focus-return.mjs.map\n","'use client';\nimport { randomId } from '../utils/random-id/random-id.mjs';\n\nfunction createAriaHider(containerNode, selector = \"body > :not(script)\") {\n  const id = randomId();\n  const rootNodes = Array.from(\n    document.querySelectorAll(selector)\n  ).map((node) => {\n    if (node?.shadowRoot?.contains(containerNode) || node.contains(containerNode)) {\n      return void 0;\n    }\n    const ariaHidden = node.getAttribute(\"aria-hidden\");\n    const prevAriaHidden = node.getAttribute(\"data-hidden\");\n    const prevFocusId = node.getAttribute(\"data-focus-id\");\n    node.setAttribute(\"data-focus-id\", id);\n    if (ariaHidden === null || ariaHidden === \"false\") {\n      node.setAttribute(\"aria-hidden\", \"true\");\n    } else if (!prevAriaHidden && !prevFocusId) {\n      node.setAttribute(\"data-hidden\", ariaHidden);\n    }\n    return {\n      node,\n      ariaHidden: prevAriaHidden || null\n    };\n  });\n  return () => {\n    rootNodes.forEach((item) => {\n      if (!item || id !== item.node.getAttribute(\"data-focus-id\")) {\n        return;\n      }\n      if (item.ariaHidden === null) {\n        item.node.removeAttribute(\"aria-hidden\");\n      } else {\n        item.node.setAttribute(\"aria-hidden\", item.ariaHidden);\n      }\n      item.node.removeAttribute(\"data-focus-id\");\n      item.node.removeAttribute(\"data-hidden\");\n    });\n  };\n}\n\nexport { createAriaHider };\n//# sourceMappingURL=create-aria-hider.mjs.map\n","'use client';\nconst TABBABLE_NODES = /input|select|textarea|button|object/;\nconst FOCUS_SELECTOR = \"a, input, select, textarea, button, object, [tabindex]\";\nfunction hidden(element) {\n  if (process.env.NODE_ENV === \"test\") {\n    return false;\n  }\n  return element.style.display === \"none\";\n}\nfunction visible(element) {\n  const isHidden = element.getAttribute(\"aria-hidden\") || element.getAttribute(\"hidden\") || element.getAttribute(\"type\") === \"hidden\";\n  if (isHidden) {\n    return false;\n  }\n  let parentElement = element;\n  while (parentElement) {\n    if (parentElement === document.body || parentElement.nodeType === 11) {\n      break;\n    }\n    if (hidden(parentElement)) {\n      return false;\n    }\n    parentElement = parentElement.parentNode;\n  }\n  return true;\n}\nfunction getElementTabIndex(element) {\n  let tabIndex = element.getAttribute(\"tabindex\");\n  if (tabIndex === null) {\n    tabIndex = void 0;\n  }\n  return parseInt(tabIndex, 10);\n}\nfunction focusable(element) {\n  const nodeName = element.nodeName.toLowerCase();\n  const isTabIndexNotNaN = !Number.isNaN(getElementTabIndex(element));\n  const res = (\n    // @ts-expect-error function accepts any html element but if it is a button, it should not be disabled to trigger the condition\n    TABBABLE_NODES.test(nodeName) && !element.disabled || (element instanceof HTMLAnchorElement ? element.href || isTabIndexNotNaN : isTabIndexNotNaN)\n  );\n  return res && visible(element);\n}\nfunction tabbable(element) {\n  const tabIndex = getElementTabIndex(element);\n  const isTabIndexNaN = Number.isNaN(tabIndex);\n  return (isTabIndexNaN || tabIndex >= 0) && focusable(element);\n}\nfunction findTabbableDescendants(element) {\n  return Array.from(element.querySelectorAll(FOCUS_SELECTOR)).filter(tabbable);\n}\n\nexport { FOCUS_SELECTOR, findTabbableDescendants, focusable, tabbable };\n//# sourceMappingURL=tabbable.mjs.map\n","'use client';\nimport { findTabbableDescendants } from './tabbable.mjs';\n\nfunction scopeTab(node, event) {\n  const tabbable = findTabbableDescendants(node);\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const root = node.getRootNode();\n  let leavingFinalTabbable = finalTabbable === root.activeElement || node === root.activeElement;\n  const activeElement = root.activeElement;\n  const activeElementIsRadio = activeElement.tagName === \"INPUT\" && activeElement.getAttribute(\"type\") === \"radio\";\n  if (activeElementIsRadio) {\n    const activeRadioGroup = tabbable.filter(\n      (element) => element.getAttribute(\"type\") === \"radio\" && element.getAttribute(\"name\") === activeElement.getAttribute(\"name\")\n    );\n    leavingFinalTabbable = activeRadioGroup.includes(finalTabbable);\n  }\n  if (!leavingFinalTabbable) {\n    return;\n  }\n  event.preventDefault();\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n  if (target) {\n    target.focus();\n  }\n}\n\nexport { scopeTab };\n//# sourceMappingURL=scope-tab.mjs.map\n","'use client';\nimport { useRef, useCallback, useEffect } from 'react';\nimport { createAriaHider } from './create-aria-hider.mjs';\nimport { scopeTab } from './scope-tab.mjs';\nimport { FOCUS_SELECTOR, tabbable, focusable } from './tabbable.mjs';\n\nfunction useFocusTrap(active = true) {\n  const ref = useRef();\n  const restoreAria = useRef(null);\n  const focusNode = (node) => {\n    let focusElement = node.querySelector(\"[data-autofocus]\");\n    if (!focusElement) {\n      const children = Array.from(node.querySelectorAll(FOCUS_SELECTOR));\n      focusElement = children.find(tabbable) || children.find(focusable) || null;\n      if (!focusElement && focusable(node))\n        focusElement = node;\n    }\n    if (focusElement) {\n      focusElement.focus({ preventScroll: true });\n    } else if (process.env.NODE_ENV === \"development\") {\n      console.warn(\n        \"[@mantine/hooks/use-focus-trap] Failed to find focusable element within provided node\",\n        node\n      );\n    }\n  };\n  const setRef = useCallback(\n    (node) => {\n      if (!active) {\n        return;\n      }\n      if (node === null) {\n        if (restoreAria.current) {\n          restoreAria.current();\n          restoreAria.current = null;\n        }\n        return;\n      }\n      restoreAria.current = createAriaHider(node);\n      if (ref.current === node) {\n        return;\n      }\n      if (node) {\n        setTimeout(() => {\n          if (node.getRootNode()) {\n            focusNode(node);\n          } else if (process.env.NODE_ENV === \"development\") {\n            console.warn(\"[@mantine/hooks/use-focus-trap] Ref node is not part of the dom\", node);\n          }\n        });\n        ref.current = node;\n      } else {\n        ref.current = null;\n      }\n    },\n    [active]\n  );\n  useEffect(() => {\n    if (!active) {\n      return void 0;\n    }\n    ref.current && setTimeout(() => focusNode(ref.current));\n    const handleKeyDown = (event) => {\n      if (event.key === \"Tab\" && ref.current) {\n        scopeTab(ref.current, event);\n      }\n    };\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      if (restoreAria.current) {\n        restoreAria.current();\n      }\n    };\n  }, [active]);\n  return setRef;\n}\n\nexport { useFocusTrap };\n//# sourceMappingURL=use-focus-trap.mjs.map\n","'use client';\nimport { useState, useCallback } from 'react';\n\nfunction useDisclosure(initialState = false, callbacks) {\n  const { onOpen, onClose } = callbacks || {};\n  const [opened, setOpened] = useState(initialState);\n  const open = useCallback(() => {\n    setOpened((isOpened) => {\n      if (!isOpened) {\n        onOpen?.();\n        return true;\n      }\n      return isOpened;\n    });\n  }, [onOpen]);\n  const close = useCallback(() => {\n    setOpened((isOpened) => {\n      if (isOpened) {\n        onClose?.();\n        return false;\n      }\n      return isOpened;\n    });\n  }, [onClose]);\n  const toggle = useCallback(() => {\n    opened ? close() : open();\n  }, [close, open, opened]);\n  return [opened, { open, close, toggle }];\n}\n\nexport { useDisclosure };\n//# sourceMappingURL=use-disclosure.mjs.map\n","'use client';\nimport { cloneElement } from 'react';\nimport { useFocusTrap, useMergedRef } from '@mantine/hooks';\nimport { isElement } from '../../core/utils/is-element/is-element.mjs';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport '../../core/Box/Box.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\n\nfunction FocusTrap({\n  children,\n  active = true,\n  refProp = \"ref\"\n}) {\n  const focusTrapRef = useFocusTrap(active);\n  const ref = useMergedRef(focusTrapRef, children?.ref);\n  if (!isElement(children)) {\n    return children;\n  }\n  return cloneElement(children, { [refProp]: ref });\n}\nFocusTrap.displayName = \"@mantine/core/FocusTrap\";\n\nexport { FocusTrap };\n//# sourceMappingURL=FocusTrap.mjs.map\n"],"names":["createSafeContext","errorMessage","Context","createContext","children","value","React","ctx","useContext","useFocusReturn","opened","shouldReturnFocus","lastActiveElement","useRef","returnFocus","_a","useDidUpdate","timeout","clearFocusTimeout","event","createAriaHider","containerNode","selector","id","randomId","rootNodes","node","ariaHidden","prevAriaHidden","prevFocusId","item","TABBABLE_NODES","FOCUS_SELECTOR","hidden","element","visible","parentElement","getElementTabIndex","tabIndex","focusable","nodeName","isTabIndexNotNaN","tabbable","findTabbableDescendants","scopeTab","finalTabbable","root","leavingFinalTabbable","activeElement","target","useFocusTrap","active","ref","restoreAria","focusNode","focusElement","setRef","useCallback","useEffect","handleKeyDown","useDisclosure","initialState","callbacks","onOpen","onClose","setOpened","useState","open","isOpened","close","toggle","FocusTrap","refProp","focusTrapRef","useMergedRef","isElement","cloneElement"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}