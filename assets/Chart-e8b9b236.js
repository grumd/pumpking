var Zr=Object.defineProperty;var Jr=(e,t,r)=>t in e?Zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Xe=(e,t,r)=>(Jr(e,typeof t!="symbol"?t+"":t,r),r);import{r as S,i as j,B as F,x as it,q as lt,o as oe,s as ge,t as ye,E as et,L as pr,M as fr,C as dr,A as tt,U as Kr,V as Qr,v as en,y as tn,j as p,W as rn,N as nn,X as an,Y as on,Z as Ae,_ as sn,$ as ln,n as ur,a0 as Ze,O as cn,u as vr,a1 as pn,e as fn,a2 as At,a3 as dn,a4 as Rt,a5 as un,a6 as vn,G as mn,a7 as Dt}from"./index-eb8b41e8.js";import{U as hn,c as ct,f as pt,u as gn}from"./useFilter-c3e873b4.js";import{u as mr}from"./useUser-cd8f65e3.js";import{c as L}from"./index-19cebc34.js";import{n as It}from"./numeral-36bd5f29.js";import{_ as yn}from"./Tooltip-f0d17139.js";import{F as bn}from"./index-31a63cc4.js";var On={root:"m-5ae2e3c",barsLoader:"m-7a2bd4cd",bar:"m-870bb79","bars-loader-animation":"m-5d2b3b9d",dotsLoader:"m-4e3f22d7",dot:"m-870c4af","loader-dots-animation":"m-aac34a1",ovalLoader:"m-b34414df","oval-loader-animation":"m-f8e89c4b"};const G=On;var xn=Object.defineProperty,wn=Object.defineProperties,_n=Object.getOwnPropertyDescriptors,Re=Object.getOwnPropertySymbols,hr=Object.prototype.hasOwnProperty,gr=Object.prototype.propertyIsEnumerable,Bt=(e,t,r)=>t in e?xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pn=(e,t)=>{for(var r in t||(t={}))hr.call(t,r)&&Bt(e,r,t[r]);if(Re)for(var r of Re(t))gr.call(t,r)&&Bt(e,r,t[r]);return e},jn=(e,t)=>wn(e,_n(t)),En=(e,t)=>{var r={};for(var n in e)hr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Re)for(var n of Re(e))t.indexOf(n)<0&&gr.call(e,n)&&(r[n]=e[n]);return r};const Sn=S.forwardRef((e,t)=>{var r=e,{className:n}=r,a=En(r,["className"]);return j.createElement(F,jn(Pn({component:"span",className:it(G.barsLoader,n)},a),{ref:t}),j.createElement("span",{className:G.bar}),j.createElement("span",{className:G.bar}),j.createElement("span",{className:G.bar}))});var $n=Object.defineProperty,Nn=Object.defineProperties,Cn=Object.getOwnPropertyDescriptors,De=Object.getOwnPropertySymbols,yr=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable,Lt=(e,t,r)=>t in e?$n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,An=(e,t)=>{for(var r in t||(t={}))yr.call(t,r)&&Lt(e,r,t[r]);if(De)for(var r of De(t))br.call(t,r)&&Lt(e,r,t[r]);return e},Rn=(e,t)=>Nn(e,Cn(t)),Dn=(e,t)=>{var r={};for(var n in e)yr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&De)for(var n of De(e))t.indexOf(n)<0&&br.call(e,n)&&(r[n]=e[n]);return r};const In=S.forwardRef((e,t)=>{var r=e,{className:n}=r,a=Dn(r,["className"]);return j.createElement(F,Rn(An({component:"span",className:it(G.ovalLoader,n)},a),{ref:t}))});var Bn=Object.defineProperty,Ln=Object.defineProperties,kn=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,Or=Object.prototype.hasOwnProperty,xr=Object.prototype.propertyIsEnumerable,kt=(e,t,r)=>t in e?Bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fn=(e,t)=>{for(var r in t||(t={}))Or.call(t,r)&&kt(e,r,t[r]);if(Ie)for(var r of Ie(t))xr.call(t,r)&&kt(e,r,t[r]);return e},Mn=(e,t)=>Ln(e,kn(t)),Tn=(e,t)=>{var r={};for(var n in e)Or.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ie)for(var n of Ie(e))t.indexOf(n)<0&&xr.call(e,n)&&(r[n]=e[n]);return r};const Hn=S.forwardRef((e,t)=>{var r=e,{className:n}=r,a=Tn(r,["className"]);return j.createElement(F,Mn(Fn({component:"span",className:it(G.dotsLoader,n)},a),{ref:t}),j.createElement("span",{className:G.dot}),j.createElement("span",{className:G.dot}),j.createElement("span",{className:G.dot}))});var Vn=Object.defineProperty,Wn=Object.defineProperties,Gn=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,wr=Object.prototype.hasOwnProperty,_r=Object.prototype.propertyIsEnumerable,Ft=(e,t,r)=>t in e?Vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ee=(e,t)=>{for(var r in t||(t={}))wr.call(t,r)&&Ft(e,r,t[r]);if(Be)for(var r of Be(t))_r.call(t,r)&&Ft(e,r,t[r]);return e},Mt=(e,t)=>Wn(e,Gn(t)),Un=(e,t)=>{var r={};for(var n in e)wr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Be)for(var n of Be(e))t.indexOf(n)<0&&_r.call(e,n)&&(r[n]=e[n]);return r};const zn={bars:Sn,oval:In,dots:Hn},qn={loaders:zn,type:"oval"},Yn=ye((e,{size:t,color:r})=>({root:{"--loader-size":et(t,"loader-size"),"--loader-color":r?pr(r,e):void 0}})),He=lt((e,t)=>{const r=oe("Loader",qn,e),n=r,{size:a,color:o,type:f,vars:s,className:i,style:c,classNames:l,styles:d,unstyled:v,loaders:u,variant:y,children:g}=n,h=Un(n,["size","color","type","vars","className","style","classNames","styles","unstyled","loaders","variant","children"]),O=ge({name:"Loader",props:r,classes:G,className:i,style:c,classNames:l,styles:d,unstyled:v,vars:s,varsResolver:Yn});return g?j.createElement(F,Ee(Mt(Ee({},O("root")),{ref:t}),h),g):j.createElement(F,Ee(Mt(Ee({},O("root")),{ref:t,component:u[f],variant:y,size:a}),h))});He.classes=G;He.displayName="@mantine/core/Loader";function Xn(e){return S.Children.toArray(e).filter(Boolean)}var Zn={root:"m-4081bf90"};const Pr=Zn;var Jn=Object.defineProperty,Kn=Object.defineProperties,Qn=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertySymbols,jr=Object.prototype.hasOwnProperty,Er=Object.prototype.propertyIsEnumerable,Tt=(e,t,r)=>t in e?Jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ht=(e,t)=>{for(var r in t||(t={}))jr.call(t,r)&&Tt(e,r,t[r]);if(Le)for(var r of Le(t))Er.call(t,r)&&Tt(e,r,t[r]);return e},ea=(e,t)=>Kn(e,Qn(t)),ta=(e,t)=>{var r={};for(var n in e)jr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Le)for(var n of Le(e))t.indexOf(n)<0&&Er.call(e,n)&&(r[n]=e[n]);return r};const ra={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},na=ye((e,{grow:t,preventGrowOverflow:r,gap:n,align:a,justify:o,wrap:f},{childWidth:s})=>({root:{"--group-child-width":t&&r?s:void 0,"--group-gap":fr(n),"--group-align":a,"--group-justify":o,"--group-wrap":f}})),Ve=lt((e,t)=>{const r=oe("Group",ra,e),n=r,{classNames:a,className:o,style:f,styles:s,unstyled:i,children:c,gap:l,align:d,justify:v,wrap:u,grow:y,preventGrowOverflow:g,vars:h,variant:O,__size:P}=n,_=ta(n,["classNames","className","style","styles","unstyled","children","gap","align","justify","wrap","grow","preventGrowOverflow","vars","variant","__size"]),m=Xn(c),b=m.length,x=fr(l??"md"),E={childWidth:`calc(${100/b}% - (${x} - ${x} / ${b}))`},$=ge({name:"Group",props:r,stylesCtx:E,className:o,style:f,classes:Pr,classNames:a,styles:s,unstyled:i,vars:h,varsResolver:na});return j.createElement(F,Ht(ea(Ht({},$("root")),{ref:t,variant:O,mod:{grow:y},size:P}),_),m)});Ve.classes=Pr;Ve.displayName="@mantine/core/Group";var aa={root:"m-b6d8b162"};const Sr=aa;var oa=Object.defineProperty,sa=Object.defineProperties,ia=Object.getOwnPropertyDescriptors,ke=Object.getOwnPropertySymbols,$r=Object.prototype.hasOwnProperty,Nr=Object.prototype.propertyIsEnumerable,Vt=(e,t,r)=>t in e?oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wt=(e,t)=>{for(var r in t||(t={}))$r.call(t,r)&&Vt(e,r,t[r]);if(ke)for(var r of ke(t))Nr.call(t,r)&&Vt(e,r,t[r]);return e},la=(e,t)=>sa(e,ia(t)),ca=(e,t)=>{var r={};for(var n in e)$r.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ke)for(var n of ke(e))t.indexOf(n)<0&&Nr.call(e,n)&&(r[n]=e[n]);return r};function pa(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const fa={inherit:!1},da=ye((e,{variant:t,lineClamp:r,gradient:n,size:a,color:o})=>({root:{"--text-fz":tt(a),"--text-lh":Kr(a),"--text-gradient":t==="gradient"?Qr(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":o?pr(o,e):void 0}})),ft=dr((e,t)=>{const r=oe("Text",fa,e),n=r,{lineClamp:a,truncate:o,inline:f,inherit:s,gradient:i,span:c,__staticSelector:l,vars:d,className:v,style:u,classNames:y,styles:g,unstyled:h,variant:O,mod:P,size:_}=n,m=ca(n,["lineClamp","truncate","inline","inherit","gradient","span","__staticSelector","vars","className","style","classNames","styles","unstyled","variant","mod","size"]),b=ge({name:["Text",l],props:r,classes:Sr,className:v,style:u,classNames:y,styles:g,unstyled:h,vars:d,varsResolver:da});return j.createElement(F,Wt(la(Wt({},b("root",{focusable:!0})),{ref:t,component:c?"span":"p",variant:O,mod:[{"data-truncate":pa(o),"data-line-clamp":typeof a=="number","data-inline":f,"data-inherit":s},P],size:_}),m))});ft.classes=Sr;ft.displayName="@mantine/core/Text";var ua={root:"m-77c9d27d",inner:"m-80f1301b",label:"m-811560b9",section:"m-a74036a",loader:"m-a25b86ee",group:"m-80d6d844"};const We=ua;var va=Object.defineProperty,ma=Object.defineProperties,ha=Object.getOwnPropertyDescriptors,Fe=Object.getOwnPropertySymbols,Cr=Object.prototype.hasOwnProperty,Ar=Object.prototype.propertyIsEnumerable,Gt=(e,t,r)=>t in e?va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ut=(e,t)=>{for(var r in t||(t={}))Cr.call(t,r)&&Gt(e,r,t[r]);if(Fe)for(var r of Fe(t))Ar.call(t,r)&&Gt(e,r,t[r]);return e},ga=(e,t)=>ma(e,ha(t)),ya=(e,t)=>{var r={};for(var n in e)Cr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Fe)for(var n of Fe(e))t.indexOf(n)<0&&Ar.call(e,n)&&(r[n]=e[n]);return r};const zt={orientation:"horizontal"},ba=ye((e,{borderWidth:t})=>({group:{"--button-border-width":en(t)}})),dt=lt((e,t)=>{const r=oe("ButtonGroup",zt,e),n=oe("ButtonGroup",zt,e),{className:a,style:o,classNames:f,styles:s,unstyled:i,orientation:c,vars:l,borderWidth:d,variant:v}=n,u=ya(n,["className","style","classNames","styles","unstyled","orientation","vars","borderWidth","variant"]),y=ge({name:"ButtonGroup",props:r,classes:We,className:a,style:o,classNames:f,styles:s,unstyled:i,vars:l,varsResolver:ba,rootSelector:"group"});return j.createElement(F,Ut(ga(Ut({},y("group")),{ref:t,variant:v,mod:{"data-orientation":c},role:"group"}),u))});dt.classes=We;dt.displayName="@mantine/core/ButtonGroup";var Oa=Object.defineProperty,xa=Object.defineProperties,wa=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,Rr=Object.prototype.hasOwnProperty,Dr=Object.prototype.propertyIsEnumerable,qt=(e,t,r)=>t in e?Oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t)=>{for(var r in t||(t={}))Rr.call(t,r)&&qt(e,r,t[r]);if(Me)for(var r of Me(t))Dr.call(t,r)&&qt(e,r,t[r]);return e},Je=(e,t)=>xa(e,wa(t)),_a=(e,t)=>{var r={};for(var n in e)Rr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Me)for(var n of Me(e))t.indexOf(n)<0&&Dr.call(e,n)&&(r[n]=e[n]);return r};const Pa={},ja=ye((e,{radius:t,color:r,gradient:n,variant:a,size:o,justify:f})=>{const s=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:a||"filled"});return{root:{"--button-justify":f,"--button-height":et(o,"button-height"),"--button-padding-x":et(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?tt(o.replace("compact-","")):tt(o),"--button-radius":t===void 0?void 0:tn(t),"--button-bg":r||a?s.background:void 0,"--button-hover":r||a?s.hover:void 0,"--button-color":r||a?s.color:void 0,"--button-bd":r||a?s.border:void 0,"--button-hover-color":r||a?s.hoverColor:void 0}}}),ut=dr((e,t)=>{const r=oe("Button",Pa,e),n=r,{style:a,vars:o,className:f,color:s,disabled:i,children:c,leftSection:l,rightSection:d,fullWidth:v,variant:u,radius:y,loading:g,loaderProps:h,gradient:O,classNames:P,styles:_,unstyled:m,"data-disabled":b}=n,x=_a(n,["style","vars","className","color","disabled","children","leftSection","rightSection","fullWidth","variant","radius","loading","loaderProps","gradient","classNames","styles","unstyled","data-disabled"]),w=ge({name:"Button",props:r,classes:We,className:f,style:a,classNames:P,styles:_,unstyled:m,vars:o,varsResolver:ja}),E=!!l,$=!!d;return j.createElement(hn,X(Je(X({ref:t},w("root",{active:!i&&!g&&!b})),{unstyled:m,variant:u,disabled:i||g,mod:{disabled:i||b,loading:g,block:v,"with-left-section":E,"with-right-section":$}}),x),j.createElement("span",X({},w("inner")),l&&j.createElement(F,Je(X({component:"span"},w("section")),{mod:{position:"left"}}),l),g&&j.createElement(F,X({component:"span"},w("loader")),j.createElement(He,X({color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)"},h))),j.createElement(F,X({component:"span",mod:{loading:g}},w("label")),c),d&&j.createElement(F,Je(X({component:"span"},w("section")),{mod:{position:"right"}}),d)))});ut.classes=We;ut.displayName="@mantine/core/Button";ut.Group=dt;const Ea="_loader_5ihl6_1",Sa={loader:Ea};function Bs(){return p.jsx("div",{className:Sa.loader,children:p.jsx(He,{color:"white",type:"dots"})})}const $a={leaderboard:{path:"/leaderboard",sharedChart:{path:"/leaderboard/chart/:sharedChartId",getPath:e=>`/leaderboard/chart/${e.sharedChartId}`,addResult:{path:"/leaderboard/chart/:sharedChartId/add-result",getPath:e=>`/leaderboard/chart/${e.sharedChartId}/add-result`}}},leaderboardOld:{path:"/leaderboard-old"},songs:{path:"/songs"},ranking:{path:"/ranking",faq:{path:"/ranking/faq"}},tournaments:{path:"/tournaments"},profile:{path:"/profiles/:id",getPath:e=>`/profiles/${e.id}`,resultsByLevel:{path:"/profiles/:id/levels",getPath:e=>`/profiles/${e.id}/levels`,level:{path:"/profiles/:id/levels/:level",getPath:e=>`/profiles/${e.id}/levels/${e.level}`}},compare:{path:"/profiles/:id/vs/:compareToId",getPath:e=>`/profiles/${e.id}/vs/${e.compareToId}`}}},Na=()=>{const e=ct(pt);return[...e.playersAll??[],...e.playersNone??[],...e.playersSome??[],...e.sortChartsByPlayers??[]]},Ca="_songHeader_y80dr_1",Aa="_youtubeLink_y80dr_14",Ra="_songName_y80dr_32",Ke={songHeader:Ca,youtubeLink:Aa,songName:Ra},Ir={24:"#48283a99",25:"#432a4e99",26:"#2d2a4e99",27:"#2a434e99"},vt={24:"Prime",25:"Prime2",26:"XX",27:"Phoenix"},Da=e=>e in vt,A={SSSP:"SSS+",SSS:"SSS",SSP:"SS+",SS:"SS",SP:"S+",S:"S",AAAP:"AAA+",AAA:"AAA",AAP:"AA+",AA:"AA",AP:"A+",A:"A",B:"B",C:"C",D:"D",F:"F"},Ia=e=>{if(e==null)return null;switch(!0){case e>=995e3:return A.SSSP;case e>=99e4:return A.SSS;case e>=985e3:return A.SSP;case e>=98e4:return A.SS;case e>=975e3:return A.SP;case e>=97e4:return A.S;case e>=96e4:return A.AAAP;case e>=95e4:return A.AAA;case e>=925e3:return A.AAP;case e>=9e5:return A.AA;case e>=825e3:return A.AP;case e>=75e4:return A.A;case e>=65e4:return A.B;case e>=55e4:return A.C;case e>=45e4:return A.D;default:return A.F}},Ba=({type:e,level:t})=>p.jsxs("div",{className:L("chart-name",{single:e==="S",singlep:e==="SP",doublep:e==="DP",double:e==="D",coop:e==="COOP"}),children:[p.jsx("span",{className:"chart-letter",children:e}),p.jsx("span",{className:"chart-number",children:t})]}),La=({chart:e})=>{const t=e.chartInstances.slice().sort((n,a)=>a.mix-n.mix),[r]=rn(t[0].label);return p.jsxs("div",{className:Ke.songHeader,children:[p.jsx(Ba,{type:r,level:t[0].level??"?"}),p.jsxs("div",{className:Ke.songName,children:[p.jsx(nn,{to:$a.leaderboard.sharedChart.getPath({sharedChartId:e.id}),children:e.songName})," ",p.jsx(ft,{component:"span",c:"dimmed",children:t[0].difficulty?`(${t[0].difficulty.toFixed(1)}) `:""})]}),p.jsx("div",{className:Ke.youtubeLink,children:p.jsx("a",{href:`https://youtube.com/results?${an.stringify({search_query:`${e.songName} ${t[0].label}`.replace(/( -)|(- )/g," ")})}`,target:"_blank",rel:"noopener noreferrer",children:p.jsx(on,{})})}),p.jsx(Ve,{gap:"xs",ml:"auto",fz:"sm",children:t.map(n=>n.level===t[0].level?null:p.jsxs(Ae,{color:Ir[n.mix],children:[vt[n.mix],": ",n.label]},n.mix))})]})},ka=({resultId:e})=>p.jsxs("a",{href:`https://api.pumpking.top:3001/results/${e}/screenshot`,target:"_blank",rel:"noopener noreferrer",children:["screenshot ",p.jsx(sn,{style:{fontSize:"80%"}})]});var Fa=S.createContext();S.createContext();var Ma=function(t){return Array.isArray(t)?t[0]:t},Ta=function(t){if(typeof t=="function"){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.apply(void 0,n)}},Ha=function(t,r){if(typeof t=="function")return Ta(t,r);t!=null&&(t.current=r)},Yt=function(t){return t.reduce(function(r,n){var a=n[0],o=n[1];return r[a]=o,r},{})},Xt=typeof window<"u"&&window.document&&window.document.createElement?S.useLayoutEffect:S.useEffect,D="top",T="bottom",H="right",I="left",mt="auto",be=[D,T,H,I],se="start",me="end",Va="clippingParents",Br="viewport",de="popper",Wa="reference",Zt=be.reduce(function(e,t){return e.concat([t+"-"+se,t+"-"+me])},[]),Lr=[].concat(be,[mt]).reduce(function(e,t){return e.concat([t,t+"-"+se,t+"-"+me])},[]),Ga="beforeRead",Ua="read",za="afterRead",qa="beforeMain",Ya="main",Xa="afterMain",Za="beforeWrite",Ja="write",Ka="afterWrite",Qa=[Ga,Ua,za,qa,Ya,Xa,Za,Ja,Ka];function z(e){return e?(e.nodeName||"").toLowerCase():null}function k(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ne(e){var t=k(e).Element;return e instanceof t||e instanceof Element}function M(e){var t=k(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ht(e){if(typeof ShadowRoot>"u")return!1;var t=k(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function eo(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},a=t.attributes[r]||{},o=t.elements[r];!M(o)||!z(o)||(Object.assign(o.style,n),Object.keys(a).forEach(function(f){var s=a[f];s===!1?o.removeAttribute(f):o.setAttribute(f,s===!0?"":s)}))})}function to(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var a=t.elements[n],o=t.attributes[n]||{},f=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=f.reduce(function(i,c){return i[c]="",i},{});!M(a)||!z(a)||(Object.assign(a.style,s),Object.keys(o).forEach(function(i){a.removeAttribute(i)}))})}}const ro={name:"applyStyles",enabled:!0,phase:"write",fn:eo,effect:to,requires:["computeStyles"]};function U(e){return e.split("-")[0]}var re=Math.max,Te=Math.min,ie=Math.round;function rt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function kr(){return!/^((?!chrome|android).)*safari/i.test(rt())}function le(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,o=1;t&&M(e)&&(a=e.offsetWidth>0&&ie(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ie(n.height)/e.offsetHeight||1);var f=ne(e)?k(e):window,s=f.visualViewport,i=!kr()&&r,c=(n.left+(i&&s?s.offsetLeft:0))/a,l=(n.top+(i&&s?s.offsetTop:0))/o,d=n.width/a,v=n.height/o;return{width:d,height:v,top:l,right:c+d,bottom:l+v,left:c,x:c,y:l}}function gt(e){var t=le(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Fr(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&ht(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function q(e){return k(e).getComputedStyle(e)}function no(e){return["table","td","th"].indexOf(z(e))>=0}function Z(e){return((ne(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ge(e){return z(e)==="html"?e:e.assignedSlot||e.parentNode||(ht(e)?e.host:null)||Z(e)}function Jt(e){return!M(e)||q(e).position==="fixed"?null:e.offsetParent}function ao(e){var t=/firefox/i.test(rt()),r=/Trident/i.test(rt());if(r&&M(e)){var n=q(e);if(n.position==="fixed")return null}var a=Ge(e);for(ht(a)&&(a=a.host);M(a)&&["html","body"].indexOf(z(a))<0;){var o=q(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function Oe(e){for(var t=k(e),r=Jt(e);r&&no(r)&&q(r).position==="static";)r=Jt(r);return r&&(z(r)==="html"||z(r)==="body"&&q(r).position==="static")?t:r||ao(e)||t}function yt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ue(e,t,r){return re(e,Te(t,r))}function oo(e,t,r){var n=ue(e,t,r);return n>r?r:n}function Mr(){return{top:0,right:0,bottom:0,left:0}}function Tr(e){return Object.assign({},Mr(),e)}function Hr(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var so=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Tr(typeof t!="number"?t:Hr(t,be))};function io(e){var t,r=e.state,n=e.name,a=e.options,o=r.elements.arrow,f=r.modifiersData.popperOffsets,s=U(r.placement),i=yt(s),c=[I,H].indexOf(s)>=0,l=c?"height":"width";if(!(!o||!f)){var d=so(a.padding,r),v=gt(o),u=i==="y"?D:I,y=i==="y"?T:H,g=r.rects.reference[l]+r.rects.reference[i]-f[i]-r.rects.popper[l],h=f[i]-r.rects.reference[i],O=Oe(o),P=O?i==="y"?O.clientHeight||0:O.clientWidth||0:0,_=g/2-h/2,m=d[u],b=P-v[l]-d[y],x=P/2-v[l]/2+_,w=ue(m,x,b),E=i;r.modifiersData[n]=(t={},t[E]=w,t.centerOffset=w-x,t)}}function lo(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||Fr(t.elements.popper,a)&&(t.elements.arrow=a))}const co={name:"arrow",enabled:!0,phase:"main",fn:io,effect:lo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ce(e){return e.split("-")[1]}var po={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fo(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:ie(r*a)/a||0,y:ie(n*a)/a||0}}function Kt(e){var t,r=e.popper,n=e.popperRect,a=e.placement,o=e.variation,f=e.offsets,s=e.position,i=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,d=e.isFixed,v=f.x,u=v===void 0?0:v,y=f.y,g=y===void 0?0:y,h=typeof l=="function"?l({x:u,y:g}):{x:u,y:g};u=h.x,g=h.y;var O=f.hasOwnProperty("x"),P=f.hasOwnProperty("y"),_=I,m=D,b=window;if(c){var x=Oe(r),w="clientHeight",E="clientWidth";if(x===k(r)&&(x=Z(r),q(x).position!=="static"&&s==="absolute"&&(w="scrollHeight",E="scrollWidth")),x=x,a===D||(a===I||a===H)&&o===me){m=T;var $=d&&x===b&&b.visualViewport?b.visualViewport.height:x[w];g-=$-n.height,g*=i?1:-1}if(a===I||(a===D||a===T)&&o===me){_=H;var N=d&&x===b&&b.visualViewport?b.visualViewport.width:x[E];u-=N-n.width,u*=i?1:-1}}var C=Object.assign({position:s},c&&po),V=l===!0?fo({x:u,y:g},k(r)):{x:u,y:g};if(u=V.x,g=V.y,i){var R;return Object.assign({},C,(R={},R[m]=P?"0":"",R[_]=O?"0":"",R.transform=(b.devicePixelRatio||1)<=1?"translate("+u+"px, "+g+"px)":"translate3d("+u+"px, "+g+"px, 0)",R))}return Object.assign({},C,(t={},t[m]=P?g+"px":"",t[_]=O?u+"px":"",t.transform="",t))}function uo(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,o=r.adaptive,f=o===void 0?!0:o,s=r.roundOffsets,i=s===void 0?!0:s,c={placement:U(t.placement),variation:ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Kt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Kt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const vo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uo,data:{}};var Se={passive:!0};function mo(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,o=a===void 0?!0:a,f=n.resize,s=f===void 0?!0:f,i=k(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(l){l.addEventListener("scroll",r.update,Se)}),s&&i.addEventListener("resize",r.update,Se),function(){o&&c.forEach(function(l){l.removeEventListener("scroll",r.update,Se)}),s&&i.removeEventListener("resize",r.update,Se)}}const ho={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mo,data:{}};var go={left:"right",right:"left",bottom:"top",top:"bottom"};function Ne(e){return e.replace(/left|right|bottom|top/g,function(t){return go[t]})}var yo={start:"end",end:"start"};function Qt(e){return e.replace(/start|end/g,function(t){return yo[t]})}function bt(e){var t=k(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ot(e){return le(Z(e)).left+bt(e).scrollLeft}function bo(e,t){var r=k(e),n=Z(e),a=r.visualViewport,o=n.clientWidth,f=n.clientHeight,s=0,i=0;if(a){o=a.width,f=a.height;var c=kr();(c||!c&&t==="fixed")&&(s=a.offsetLeft,i=a.offsetTop)}return{width:o,height:f,x:s+Ot(e),y:i}}function Oo(e){var t,r=Z(e),n=bt(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=re(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),f=re(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-n.scrollLeft+Ot(e),i=-n.scrollTop;return q(a||r).direction==="rtl"&&(s+=re(r.clientWidth,a?a.clientWidth:0)-o),{width:o,height:f,x:s,y:i}}function xt(e){var t=q(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function Vr(e){return["html","body","#document"].indexOf(z(e))>=0?e.ownerDocument.body:M(e)&&xt(e)?e:Vr(Ge(e))}function ve(e,t){var r;t===void 0&&(t=[]);var n=Vr(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),o=k(n),f=a?[o].concat(o.visualViewport||[],xt(n)?n:[]):n,s=t.concat(f);return a?s:s.concat(ve(Ge(f)))}function nt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xo(e,t){var r=le(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function er(e,t,r){return t===Br?nt(bo(e,r)):ne(t)?xo(t,r):nt(Oo(Z(e)))}function wo(e){var t=ve(Ge(e)),r=["absolute","fixed"].indexOf(q(e).position)>=0,n=r&&M(e)?Oe(e):e;return ne(n)?t.filter(function(a){return ne(a)&&Fr(a,n)&&z(a)!=="body"}):[]}function _o(e,t,r,n){var a=t==="clippingParents"?wo(e):[].concat(t),o=[].concat(a,[r]),f=o[0],s=o.reduce(function(i,c){var l=er(e,c,n);return i.top=re(l.top,i.top),i.right=Te(l.right,i.right),i.bottom=Te(l.bottom,i.bottom),i.left=re(l.left,i.left),i},er(e,f,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Wr(e){var t=e.reference,r=e.element,n=e.placement,a=n?U(n):null,o=n?ce(n):null,f=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,i;switch(a){case D:i={x:f,y:t.y-r.height};break;case T:i={x:f,y:t.y+t.height};break;case H:i={x:t.x+t.width,y:s};break;case I:i={x:t.x-r.width,y:s};break;default:i={x:t.x,y:t.y}}var c=a?yt(a):null;if(c!=null){var l=c==="y"?"height":"width";switch(o){case se:i[c]=i[c]-(t[l]/2-r[l]/2);break;case me:i[c]=i[c]+(t[l]/2-r[l]/2);break}}return i}function he(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,o=r.strategy,f=o===void 0?e.strategy:o,s=r.boundary,i=s===void 0?Va:s,c=r.rootBoundary,l=c===void 0?Br:c,d=r.elementContext,v=d===void 0?de:d,u=r.altBoundary,y=u===void 0?!1:u,g=r.padding,h=g===void 0?0:g,O=Tr(typeof h!="number"?h:Hr(h,be)),P=v===de?Wa:de,_=e.rects.popper,m=e.elements[y?P:v],b=_o(ne(m)?m:m.contextElement||Z(e.elements.popper),i,l,f),x=le(e.elements.reference),w=Wr({reference:x,element:_,strategy:"absolute",placement:a}),E=nt(Object.assign({},_,w)),$=v===de?E:x,N={top:b.top-$.top+O.top,bottom:$.bottom-b.bottom+O.bottom,left:b.left-$.left+O.left,right:$.right-b.right+O.right},C=e.modifiersData.offset;if(v===de&&C){var V=C[a];Object.keys(N).forEach(function(R){var J=[H,T].indexOf(R)>=0?1:-1,K=[D,T].indexOf(R)>=0?"y":"x";N[R]+=V[K]*J})}return N}function Po(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,o=r.rootBoundary,f=r.padding,s=r.flipVariations,i=r.allowedAutoPlacements,c=i===void 0?Lr:i,l=ce(n),d=l?s?Zt:Zt.filter(function(y){return ce(y)===l}):be,v=d.filter(function(y){return c.indexOf(y)>=0});v.length===0&&(v=d);var u=v.reduce(function(y,g){return y[g]=he(e,{placement:g,boundary:a,rootBoundary:o,padding:f})[U(g)],y},{});return Object.keys(u).sort(function(y,g){return u[y]-u[g]})}function jo(e){if(U(e)===mt)return[];var t=Ne(e);return[Qt(e),t,Qt(t)]}function Eo(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,o=a===void 0?!0:a,f=r.altAxis,s=f===void 0?!0:f,i=r.fallbackPlacements,c=r.padding,l=r.boundary,d=r.rootBoundary,v=r.altBoundary,u=r.flipVariations,y=u===void 0?!0:u,g=r.allowedAutoPlacements,h=t.options.placement,O=U(h),P=O===h,_=i||(P||!y?[Ne(h)]:jo(h)),m=[h].concat(_).reduce(function(ae,Y){return ae.concat(U(Y)===mt?Po(t,{placement:Y,boundary:l,rootBoundary:d,padding:c,flipVariations:y,allowedAutoPlacements:g}):Y)},[]),b=t.rects.reference,x=t.rects.popper,w=new Map,E=!0,$=m[0],N=0;N<m.length;N++){var C=m[N],V=U(C),R=ce(C)===se,J=[D,T].indexOf(V)>=0,K=J?"width":"height",B=he(t,{placement:C,boundary:l,rootBoundary:d,altBoundary:v,padding:c}),W=J?R?H:I:R?T:D;b[K]>x[K]&&(W=Ne(W));var xe=Ne(W),Q=[];if(o&&Q.push(B[V]<=0),s&&Q.push(B[W]<=0,B[xe]<=0),Q.every(function(ae){return ae})){$=C,E=!1;break}w.set(C,Q)}if(E)for(var we=y?3:1,Ue=function(Y){var fe=m.find(function(Pe){var ee=w.get(Pe);if(ee)return ee.slice(0,Y).every(function(ze){return ze})});if(fe)return $=fe,"break"},pe=we;pe>0;pe--){var _e=Ue(pe);if(_e==="break")break}t.placement!==$&&(t.modifiersData[n]._skip=!0,t.placement=$,t.reset=!0)}}const So={name:"flip",enabled:!0,phase:"main",fn:Eo,requiresIfExists:["offset"],data:{_skip:!1}};function tr(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function rr(e){return[D,H,T,I].some(function(t){return e[t]>=0})}function $o(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,f=he(t,{elementContext:"reference"}),s=he(t,{altBoundary:!0}),i=tr(f,n),c=tr(s,a,o),l=rr(i),d=rr(c);t.modifiersData[r]={referenceClippingOffsets:i,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}const No={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$o};function Co(e,t,r){var n=U(e),a=[I,D].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,f=o[0],s=o[1];return f=f||0,s=(s||0)*a,[I,H].indexOf(n)>=0?{x:s,y:f}:{x:f,y:s}}function Ao(e){var t=e.state,r=e.options,n=e.name,a=r.offset,o=a===void 0?[0,0]:a,f=Lr.reduce(function(l,d){return l[d]=Co(d,t.rects,o),l},{}),s=f[t.placement],i=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=f}const Ro={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ao};function Do(e){var t=e.state,r=e.name;t.modifiersData[r]=Wr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Io={name:"popperOffsets",enabled:!0,phase:"read",fn:Do,data:{}};function Bo(e){return e==="x"?"y":"x"}function Lo(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,o=a===void 0?!0:a,f=r.altAxis,s=f===void 0?!1:f,i=r.boundary,c=r.rootBoundary,l=r.altBoundary,d=r.padding,v=r.tether,u=v===void 0?!0:v,y=r.tetherOffset,g=y===void 0?0:y,h=he(t,{boundary:i,rootBoundary:c,padding:d,altBoundary:l}),O=U(t.placement),P=ce(t.placement),_=!P,m=yt(O),b=Bo(m),x=t.modifiersData.popperOffsets,w=t.rects.reference,E=t.rects.popper,$=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,N=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(x){if(o){var R,J=m==="y"?D:I,K=m==="y"?T:H,B=m==="y"?"height":"width",W=x[m],xe=W+h[J],Q=W-h[K],we=u?-E[B]/2:0,Ue=P===se?w[B]:E[B],pe=P===se?-E[B]:-w[B],_e=t.elements.arrow,ae=u&&_e?gt(_e):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Mr(),fe=Y[J],Pe=Y[K],ee=ue(0,w[B],ae[B]),ze=_?w[B]/2-we-ee-fe-N.mainAxis:Ue-ee-fe-N.mainAxis,Gr=_?-w[B]/2+we+ee+Pe+N.mainAxis:pe+ee+Pe+N.mainAxis,qe=t.elements.arrow&&Oe(t.elements.arrow),Ur=qe?m==="y"?qe.clientTop||0:qe.clientLeft||0:0,wt=(R=C==null?void 0:C[m])!=null?R:0,zr=W+ze-wt-Ur,qr=W+Gr-wt,_t=ue(u?Te(xe,zr):xe,W,u?re(Q,qr):Q);x[m]=_t,V[m]=_t-W}if(s){var Pt,Yr=m==="x"?D:I,Xr=m==="x"?T:H,te=x[b],je=b==="y"?"height":"width",jt=te+h[Yr],Et=te-h[Xr],Ye=[D,I].indexOf(O)!==-1,St=(Pt=C==null?void 0:C[b])!=null?Pt:0,$t=Ye?jt:te-w[je]-E[je]-St+N.altAxis,Nt=Ye?te+w[je]+E[je]-St-N.altAxis:Et,Ct=u&&Ye?oo($t,te,Nt):ue(u?$t:jt,te,u?Nt:Et);x[b]=Ct,V[b]=Ct-te}t.modifiersData[n]=V}}const ko={name:"preventOverflow",enabled:!0,phase:"main",fn:Lo,requiresIfExists:["offset"]};function Fo(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Mo(e){return e===k(e)||!M(e)?bt(e):Fo(e)}function To(e){var t=e.getBoundingClientRect(),r=ie(t.width)/e.offsetWidth||1,n=ie(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Ho(e,t,r){r===void 0&&(r=!1);var n=M(t),a=M(t)&&To(t),o=Z(t),f=le(e,a,r),s={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(n||!n&&!r)&&((z(t)!=="body"||xt(o))&&(s=Mo(t)),M(t)?(i=le(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):o&&(i.x=Ot(o))),{x:f.left+s.scrollLeft-i.x,y:f.top+s.scrollTop-i.y,width:f.width,height:f.height}}function Vo(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function a(o){r.add(o.name);var f=[].concat(o.requires||[],o.requiresIfExists||[]);f.forEach(function(s){if(!r.has(s)){var i=t.get(s);i&&a(i)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||a(o)}),n}function Wo(e){var t=Vo(e);return Qa.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function Go(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Uo(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var nr={placement:"bottom",modifiers:[],strategy:"absolute"};function ar(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function zo(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,o=a===void 0?nr:a;return function(s,i,c){c===void 0&&(c=o);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},nr,o),modifiersData:{},elements:{reference:s,popper:i},attributes:{},styles:{}},d=[],v=!1,u={state:l,setOptions:function(O){var P=typeof O=="function"?O(l.options):O;g(),l.options=Object.assign({},o,l.options,P),l.scrollParents={reference:ne(s)?ve(s):s.contextElement?ve(s.contextElement):[],popper:ve(i)};var _=Wo(Uo([].concat(n,l.options.modifiers)));return l.orderedModifiers=_.filter(function(m){return m.enabled}),y(),u.update()},forceUpdate:function(){if(!v){var O=l.elements,P=O.reference,_=O.popper;if(ar(P,_)){l.rects={reference:Ho(P,Oe(_),l.options.strategy==="fixed"),popper:gt(_)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(N){return l.modifiersData[N.name]=Object.assign({},N.data)});for(var m=0;m<l.orderedModifiers.length;m++){if(l.reset===!0){l.reset=!1,m=-1;continue}var b=l.orderedModifiers[m],x=b.fn,w=b.options,E=w===void 0?{}:w,$=b.name;typeof x=="function"&&(l=x({state:l,options:E,name:$,instance:u})||l)}}}},update:Go(function(){return new Promise(function(h){u.forceUpdate(),h(l)})}),destroy:function(){g(),v=!0}};if(!ar(s,i))return u;u.setOptions(c).then(function(h){!v&&c.onFirstUpdate&&c.onFirstUpdate(h)});function y(){l.orderedModifiers.forEach(function(h){var O=h.name,P=h.options,_=P===void 0?{}:P,m=h.effect;if(typeof m=="function"){var b=m({state:l,name:O,instance:u,options:_}),x=function(){};d.push(b||x)}})}function g(){d.forEach(function(h){return h()}),d=[]}return u}}var qo=[ho,Io,vo,ro,Ro,So,ko,co,No],Yo=zo({defaultModifiers:qo}),Xo=typeof Element<"u",Zo=typeof Map=="function",Jo=typeof Set=="function",Ko=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ce(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Ce(e[n],t[n]))return!1;return!0}var o;if(Zo&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;for(o=e.entries();!(n=o.next()).done;)if(!Ce(n.value[1],t.get(n.value[0])))return!1;return!0}if(Jo&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Ko&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(Xo&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!Ce(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var Qo=function(t,r){try{return Ce(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const es=ln(Qo);var ts=[],rs=function(t,r,n){n===void 0&&(n={});var a=S.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ts},f=S.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=f[0],i=f[1],c=S.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(u){var y=u.state,g=Object.keys(y.elements);ur.flushSync(function(){i({styles:Yt(g.map(function(h){return[h,y.styles[h]||{}]})),attributes:Yt(g.map(function(h){return[h,y.attributes[h]]}))})})},requires:["computeStyles"]}},[]),l=S.useMemo(function(){var v={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return es(a.current,v)?a.current||v:(a.current=v,v)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),d=S.useRef();return Xt(function(){d.current&&d.current.setOptions(l)},[l]),Xt(function(){if(!(t==null||r==null)){var v=n.createPopper||Yo,u=v(t,r,l);return d.current=u,function(){u.destroy(),d.current=null}}},[t,r,n.createPopper]),{state:d.current?d.current.state:null,styles:s.styles,attributes:s.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}},ns=function(){},as=function(){return Promise.resolve(null)},os=[];function ss(e){var t=e.placement,r=t===void 0?"bottom":t,n=e.strategy,a=n===void 0?"absolute":n,o=e.modifiers,f=o===void 0?os:o,s=e.referenceElement,i=e.onFirstUpdate,c=e.innerRef,l=e.children,d=S.useContext(Fa),v=S.useState(null),u=v[0],y=v[1],g=S.useState(null),h=g[0],O=g[1];S.useEffect(function(){Ha(c,u)},[c,u]);var P=S.useMemo(function(){return{placement:r,strategy:a,onFirstUpdate:i,modifiers:[].concat(f,[{name:"arrow",enabled:h!=null,options:{element:h}}])}},[r,a,i,f,h]),_=rs(s||d,u,P),m=_.state,b=_.styles,x=_.forceUpdate,w=_.update,E=S.useMemo(function(){return{ref:y,style:b.popper,placement:m?m.placement:r,hasPopperEscaped:m&&m.modifiersData.hide?m.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:m&&m.modifiersData.hide?m.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:b.arrow,ref:O},forceUpdate:x||ns,update:w||as}},[y,O,r,m,b,w,x]);return Ma(l)(E)}function is(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,at(e,t)}function at(e,t){return at=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},at(e,t)}function ls(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function or(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cs(e,t,r){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(r):e.classList.contains(r)}function ps(e,t,r){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&cs(e,t,r))return!0;e=e.parentNode||e.host}return e}function fs(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}var ds=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,r=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,r),window.removeEventListener("testPassiveEventSupport",n,r),t}};function us(e){return e===void 0&&(e=0),function(){return++e}}var vs=us(),ot,$e={},Qe={},ms=["touchstart","touchmove"],hs="ignore-react-onclickoutside";function sr(e,t){var r=null,n=ms.indexOf(t)!==-1;return n&&ot&&(r={passive:!e.props.preventDefault}),r}function gs(e,t){var r,n,a=e.displayName||e.name||"Component";return n=r=function(o){is(f,o);function f(i){var c;return c=o.call(this,i)||this,c.__outsideClickHandler=function(l){if(typeof c.__clickOutsideHandlerProp=="function"){c.__clickOutsideHandlerProp(l);return}var d=c.getInstance();if(typeof d.props.handleClickOutside=="function"){d.props.handleClickOutside(l);return}if(typeof d.handleClickOutside=="function"){d.handleClickOutside(l);return}throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.")},c.__getComponentNode=function(){var l=c.getInstance();return t&&typeof t.setClickOutsideRef=="function"?t.setClickOutsideRef()(l):typeof l.setClickOutsideRef=="function"?l.setClickOutsideRef():ur.findDOMNode(l)},c.enableOnClickOutside=function(){if(!(typeof document>"u"||Qe[c._uid])){typeof ot>"u"&&(ot=ds()),Qe[c._uid]=!0;var l=c.props.eventTypes;l.forEach||(l=[l]),$e[c._uid]=function(d){if(c.componentNode!==null&&(c.props.preventDefault&&d.preventDefault(),c.props.stopPropagation&&d.stopPropagation(),!(c.props.excludeScrollbar&&fs(d)))){var v=d.composed&&d.composedPath&&d.composedPath().shift()||d.target;ps(v,c.componentNode,c.props.outsideClickIgnoreClass)===document&&c.__outsideClickHandler(d)}},l.forEach(function(d){document.addEventListener(d,$e[c._uid],sr(or(c),d))})}},c.disableOnClickOutside=function(){delete Qe[c._uid];var l=$e[c._uid];if(l&&typeof document<"u"){var d=c.props.eventTypes;d.forEach||(d=[d]),d.forEach(function(v){return document.removeEventListener(v,l,sr(or(c),v))}),delete $e[c._uid]}},c.getRef=function(l){return c.instanceRef=l},c._uid=vs(),c}var s=f.prototype;return s.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var c=this.instanceRef;return c.getInstance?c.getInstance():c},s.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var c=this.getInstance();if(t&&typeof t.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=t.handleClickOutside(c),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+a+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},s.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},s.componentWillUnmount=function(){this.disableOnClickOutside()},s.render=function(){var c=this.props;c.excludeScrollbar;var l=ls(c,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?l.ref=this.getRef:l.wrappedRef=this.getRef,l.disableOnClickOutside=this.disableOnClickOutside,l.enableOnClickOutside=this.enableOnClickOutside,S.createElement(e,l)},f}(S.Component),r.displayName="OnClickOutside("+a+")",r.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:hs,preventDefault:!1,stopPropagation:!1},r.getClass=function(){return e.getClass?e.getClass():e},n}const ys=[{name:"preventOverflow",enabled:!0}],bs={right:"left",left:"right",top:"bottom",bottom:"top"},Os=e=>e&&bs[e.split("-")[0]];class st extends j.PureComponent{constructor(){super(),this.state={isVisible:!1},this.containerItemRef=j.createRef(),this.renderPopper=this.renderPopper.bind(this),this.toggleOverlayVisibility=this.toggleOverlayVisibility.bind(this)}hideOverlay(){this.setState({isVisible:!1})}toggleOverlayVisibility(){this.setState({isVisible:!this.state.isVisible})}handleClickOutside(t){t&&t.target.closest(".inner-popper-overlay")||this.hideOverlay()}renderPopper({ref:t,style:r,placement:n,arrowProps:a,scheduleUpdate:o,outOfBoundaries:f}){const{children:s,hideWhenOutOfBounds:i}=this.props;return p.jsxs("div",{ref:t,style:r,"data-placement":n,className:L("inner-popper-overlay",`arrow-${Os(n)}`,this.props.overlayClassName,{"out-of-bounds":f&&i}),children:[p.jsx("div",{className:"arrow-hider",children:p.jsx("div",{className:"arrow",ref:a.ref,style:a.style})}),p.jsx("div",{className:"inner-popper-content",children:s})]})}render(){const{placement:t,overlayItem:r}=this.props,{isVisible:n}=this.state;return p.jsxs(j.Fragment,{children:[p.jsx("div",{className:"overlay-item",ref:this.containerItemRef,onClick:this.toggleOverlayVisibility,children:r}),n&&cn.createPortal(p.jsx(ss,{container:document.body,modifiers:ys,placement:t,referenceElement:this.containerItemRef.current,children:this.renderPopper}),document.body)]})}}Xe(st,"propTypes",{placement:Ze.string,overlayItem:Ze.any,hideWhenOutOfBounds:Ze.bool}),Xe(st,"defaultTypes",{placement:"bottom"});const xs=gs(st),ir=["#4DB3FF","#80B300","#FF6655","#FF99E6","#33FFCC","#e633c8","#dbe812","#FF1A66","#991AFF","#E6B333","#1AB399","#4D8066","#CC9999","#00E680","#809980","#E6FF80","#1AFF33","#999933","#E6331A","#CCCC00","#66E64D","#4D80CC","#9900B3","#4DB380","#FF4D4D"],lr=(e,t)=>t?`/grades/phoenix/${e}.png`:`/grades/phoenix/fail/${e}.png`,ws=({score:e,grade:t,isPass:r,mix:n,scoring:a="phoenix"})=>{const o=Ia(e);if(o==null)return null;if(a==="xx")return!t||t==="?"?null:p.jsx("img",{src:`/grades/${t}.png`,alt:t??"Grade"});let f=lr(o,r??!1);return r==null&&t!=null&&n>=24&&n<=26&&(f=lr(o,t.includes("+")||t.startsWith("S"))),p.jsx("img",{src:f,alt:o})},cr={xx:26,phoenix:27},_s=({mix:e})=>{const{scoring:t}=gn();return!t||!cr[t]?null:Da(e)&&cr[t]!==e?p.jsx(Ae,{color:Ir[e],children:vt[e]}):null},Ps=({result:e,chart:t})=>{var c,l,d;const r=vr(),n=mr(),a=ct(pt),o=a.sortChartsBy==="pp",f=e.playerId===((c=n.data)==null?void 0:c.id),s=pn(e,t),i=fn.profile.getPath({id:e.playerId});return p.jsxs("tr",{className:L({latest:e.isLatestScore}),style:e.highlightIndex>=0?{background:ir[e.highlightIndex]+"3A",outline:`1px solid ${ir[e.highlightIndex]}A0`}:{},children:[p.jsx("td",{className:"place",style:f?{fontWeight:"bold",color:"#ddd"}:{},children:`#${t.results.findIndex(v=>v.id===e.id)+1}`}),p.jsx("td",{className:L("nickname"),style:e.highlightIndex>=0||f?{fontWeight:"bold"}:{},children:p.jsxs("div",{className:"nickname-container",children:[e.region?p.jsx(bn,{region:e.region}):null,p.jsxs("span",{className:"nickname-text",children:[p.jsx(At,{to:i,children:e.playerName}),!!e.placeDifference&&p.jsxs("span",{className:"change-holder up",children:[p.jsx("span",{children:e.placeDifference}),p.jsx(dn,{})]}),(Rt||o&&e.highlightIndex>=0)&&p.jsxs("span",{className:"debug-elo-info",children:[" ",e.pp&&`${e.pp}pp`]})]}),p.jsxs(Ve,{gap:"0.25em",ml:"auto",children:[((l=e.mods)==null?void 0:l.includes("HJ"))&&p.jsx(Ae,{color:"orange",children:"HJ"}),((d=e.mods)==null?void 0:d.includes("VJ"))&&p.jsx(Ae,{color:"red",children:"R"}),p.jsx(_s,{mix:e.mix})]})]})}),p.jsx("td",{className:L("score"),children:p.jsx(xs,{overlayClassName:"score-overlay-outer",overlayItem:p.jsxs("span",{className:"score-span",children:[!e.scoreIncrease&&p.jsx("span",{style:{fontSize:"80%"},children:"* "}),p.jsx("span",{children:Math.floor(e.score/1e3)}),p.jsxs("span",{style:{fontSize:"70%"},children:[",",`${e.score%1e3}`.padStart(3,"0")]})]}),placement:"top",children:p.jsxs("div",{className:"score-overlay",children:[p.jsx("div",{children:p.jsx(ka,{resultId:e.id})}),Rt&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("span",{className:"_grey",children:"result id: "}),e.id]}),p.jsxs("div",{children:[p.jsx("span",{className:"_grey",children:"player id: "}),e.playerId]})]}),p.jsxs("div",{children:[p.jsxs("span",{className:"_grey",children:[r.PLAYER,": "]}),p.jsxs(At,{to:i,children:[e.playerName," (",e.playerNameArcade,")"]})]}),s?p.jsxs("div",{className:"important",children:[p.jsxs("span",{className:"_grey",children:[r.EXP,": "]}),"+",It(s).format("0,0")]}):null,e.pp?p.jsxs("div",{className:"important",children:[p.jsxs("span",{className:"_grey",children:[r.PP,": "]}),p.jsxs("span",{children:[e.pp,"pp"]})]}):null,!e.isExactGainedDate&&p.jsxs("div",{className:"warning",children:[p.jsx(un,{}),r.MY_BEST_SCORE_WARNING]}),e.isExactGainedDate&&p.jsxs(p.Fragment,{children:[e.mods&&p.jsxs("div",{children:[p.jsxs("span",{className:"_grey",children:[r.MODS,": "]}),e.mods]}),e.combo!=null&&p.jsxs("div",{className:"mobile-only",children:[p.jsxs("span",{className:"_grey",children:[r.COMBO,": "]}),e.combo]}),e.calories!=null&&p.jsxs("div",{children:[p.jsxs("span",{className:"_grey",children:[r.CCAL,": "]}),e.calories]}),e.scoreIncrease!=null&&p.jsxs("div",{children:[p.jsxs("span",{className:"_grey",children:[r.SCORE_INCREASE,": "]}),"+",It(e.scoreIncrease).format("0,0")]}),!e.scoreIncrease&&r.SIGHTREAD]})]})})}),p.jsx("td",{className:L("grade"),children:p.jsx("div",{className:"img-holder",children:p.jsx(ws,{score:e.score,isPass:e.passed,grade:e.grade,mix:e.mix,scoring:a.scoring})})}),p.jsx("td",{className:L("number","miss"),children:e.stats[4]}),p.jsx("td",{className:L("number","bad"),children:e.stats[3]}),p.jsx("td",{className:L("number","good"),children:e.stats[2]}),p.jsx("td",{className:L("number","great"),children:e.stats[1]}),p.jsx("td",{className:L("number","perfect"),children:e.stats[0]}),p.jsx("td",{className:L("combo","desktop-only"),children:e.combo&&`${e.combo}x`}),p.jsx("td",{className:L("date",{latest:e.isLatestScore}),children:p.jsxs(yn,{content:"",tooltipClassName:"pumpking-tooltip",children:[vn(r,new Date(e.gained)),e.isExactGainedDate?"":"?"]})})]},e.id)};function js(e){return mn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"}}]})(e)}const Es=({children:e,count:t})=>{const[r,n]=S.useState(!0),a=vr();return r&&t>1?p.jsx("tr",{className:"results-collapser",onClick:()=>n(!1),children:p.jsx("td",{colSpan:"20",children:p.jsx("div",{children:p.jsx("button",{children:t&&a.SHOW_MORE_RESULTS?p.jsx(p.Fragment,{children:a.SHOW_MORE_RESULTS(t)}):p.jsx(js,{})})})})}):p.jsx(p.Fragment,{children:e})},Ls=({chart:e})=>{var f;const t=(f=mr().data)==null?void 0:f.id,r=ct(pt),n=Na(),a=e.results.map((s,i,c)=>{var g;const l=s.added===e.updatedOn,d=r.sortChartsBy==="pp"&&!((g=r.sortChartsByPlayers)!=null&&g.length)?c[0].playerId:null,v=(d?[d,...n]:n).indexOf(s.playerId??-1),u=l||s.playerId===t||v>=0;let y=0;if(s.scoreIncrease&&l){const h=s.score-s.scoreIncrease;y=Dt.findLastIndex(P=>P.score>h,c)-i}return{...s,topPlace:i+1,isImportant:u,highlightIndex:v,placeDifference:y,isLatestScore:l}}).map((s,i,c)=>{const d=c.slice(i+1,i+1+2).some(u=>u.isImportant),v=c.slice(i-2,i).some(u=>u.isImportant);return{...s,isCollapsible:!s.isImportant&&!d&&!v}}),o=a.reduce((s,i)=>(s.length?s[s.length-1].isGroupCollapsible!==i.isCollapsible?s.push({isGroupCollapsible:i.isCollapsible,results:[i]}):s[s.length-1].results.push(i):s.push({isGroupCollapsible:i.isCollapsible,results:[i]}),s),[]);return p.jsxs("div",{className:"song-block",children:[p.jsx(La,{chart:e}),p.jsx("div",{className:"charts",children:!Dt.isEmpty(a)&&p.jsx("div",{className:"chart",children:p.jsx("div",{className:"results",children:p.jsx("table",{children:p.jsx("tbody",{children:o.map(s=>{const i=s.results.map(c=>p.jsx(S.Fragment,{children:p.jsx(Ps,{chart:e,result:c})},c.id));return s.isGroupCollapsible?p.jsx(Es,{count:i.length,children:i}):p.jsx(p.Fragment,{children:i})})})})})})})]})};export{ut as B,Ls as C,Ve as G,Bs as L,ft as T,$a as r};
//# sourceMappingURL=Chart-e8b9b236.js.map
