var nt=Object.defineProperty;var rt=(n,a,r)=>a in n?nt(n,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[a]=r;var L=(n,a,r)=>(rt(n,typeof a!="symbol"?a+"":a,r),r);import{i as F,w as at,r as Ae,W as ne,j as i,a6 as V,a7 as it,_ as z,a8 as st,a9 as Fe,aa as Ke,P as ot,O as ct}from"./index-4cfa8922.js";import{p as fe,g as ze,h as We}from"./leaderboards-7cfa1ce9.js";import{D as lt}from"./env-026301e6.js";import{c as dt}from"./index-e7ec5d7f.js";import{T as ut}from"./Toggle-25576717.js";import{w as ht,p as qe,f as ft,s as pt,r as mt,P as vt}from"./PlayerCompareSelect-aa443003.js";import{S as Ue,a as gt,u as yt,f as je,L as ae,b as xt,A as bt,i as pe,c as wt,d as Je,g as ye,e as At,h as Tt,C as kt,j as te,k as jt,G as Ot,l as Ve,E as Et,m as _t,n as Dt,X as ie,Y as se,o as Pt,R as me,p as He,q as Oe,r as Ge,T as Ee,s as ve,B as St,t as I}from"./BarChart-e9b08a33.js";import"./index-fb618c55.js";import"./index.esm-1910543d.js";import"./usePlayers-13dad634.js";var Te=function(){return null};Te.displayName="ZAxis";Te.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"};var Mt=["option","isActive"];function ce(){return ce=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},ce.apply(this,arguments)}function It(n,a){if(n==null)return{};var r=Rt(n,a),e,t;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(t=0;t<s.length;t++)e=s[t],!(a.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Rt(n,a){if(n==null)return{};var r={},e=Object.keys(n),t,s;for(s=0;s<e.length;s++)t=e[s],!(a.indexOf(t)>=0)&&(r[t]=n[t]);return r}function Ct(n){var a=n.option,r=n.isActive,e=It(n,Mt);return typeof a=="string"?F.createElement(Ue,ce({option:F.createElement(gt,ce({type:a},e)),isActive:r,shapeType:"symbols"},e)):F.createElement(Ue,ce({option:a,isActive:r,shapeType:"symbols"},e))}function re(n){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},re(n)}function le(){return le=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},le.apply(this,arguments)}function Ye(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);a&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)}return r}function G(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Ye(Object(r),!0).forEach(function(e){q(n,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})}return n}function Lt(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function Xe(n,a){for(var r=0;r<a.length;r++){var e=a[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,Qe(e.key),e)}}function Nt(n,a,r){return a&&Xe(n.prototype,a),r&&Xe(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function Bt(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),a&&De(n,a)}function De(n,a){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(n,a)}function Ft(n){var a=zt();return function(){var e=we(n),t;if(a){var s=we(this).constructor;t=Reflect.construct(e,arguments,s)}else t=e.apply(this,arguments);return Kt(this,t)}}function Kt(n,a){if(a&&(re(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oe(n)}function oe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function we(n){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},we(n)}function q(n,a,r){return a=Qe(a),a in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function Qe(n){var a=Wt(n,"string");return re(a)==="symbol"?a:String(a)}function Wt(n,a){if(re(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var e=r.call(n,a||"default");if(re(e)!=="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}var de=function(n){Bt(r,n);var a=Ft(r);function r(){var e;Lt(this,r);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=a.call.apply(a,[this].concat(s)),q(oe(e),"state",{isAnimationFinished:!1}),q(oe(e),"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),q(oe(e),"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),q(oe(e),"id",yt("recharts-scatter-")),e}return Nt(r,[{key:"renderSymbolsStatically",value:function(t){var s=this,l=this.props,c=l.shape,o=l.activeShape,v=l.activeIndex,u=je(this.props);return t.map(function(d,p){var m=v===p,g=m?o:c,k=G(G({key:"symbol-".concat(p)},u),d);return F.createElement(ae,le({className:"recharts-scatter-symbol"},xt(s.props,d,p),{key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size),role:"img"}),F.createElement(Ct,le({option:g,isActive:m},k)))})}},{key:"renderSymbolsWithAnimation",value:function(){var t=this,s=this.props,l=s.points,c=s.isAnimationActive,o=s.animationBegin,v=s.animationDuration,u=s.animationEasing,d=s.animationId,p=this.state.prevPoints;return F.createElement(bt,{begin:o,duration:v,isActive:c,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,k=l.map(function(D,_){var j=p&&p[_];if(j){var w=pe(j.cx,D.cx),C=pe(j.cy,D.cy),H=pe(j.size,D.size);return G(G({},D),{},{cx:w(g),cy:C(g),size:H(g)})}var R=pe(0,D.size);return G(G({},D),{},{size:R(g)})});return F.createElement(ae,null,t.renderSymbolsStatically(k))})}},{key:"renderSymbols",value:function(){var t=this.props,s=t.points,l=t.isAnimationActive,c=this.state.prevPoints;return l&&s&&s.length&&(!c||!wt(c,s))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(s)}},{key:"renderErrorBar",value:function(){var t=this.props.isAnimationActive;if(t&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,c=s.xAxis,o=s.yAxis,v=s.children,u=Je(v,Et);return u?u.map(function(d,p){var m=d.props,g=m.direction,k=m.dataKey;return F.cloneElement(d,{key:"".concat(g,"-").concat(k,"-").concat(l[p]),data:l,xAxis:c,yAxis:o,layout:g==="x"?"vertical":"horizontal",dataPointFormatter:function(_,j){return{x:_.cx,y:_.cy,value:g==="x"?+_.node.x:+_.node.y,errorVal:ye(_,j)}}})}):null}},{key:"renderLine",value:function(){var t=this.props,s=t.points,l=t.line,c=t.lineType,o=t.lineJointType,v=je(this.props),u=je(l),d,p;if(c==="joint")d=s.map(function(C){return{x:C.cx,y:C.cy}});else if(c==="fitting"){var m=At(s),g=m.xmin,k=m.xmax,D=m.a,_=m.b,j=function(H){return D*H+_};d=[{x:g,y:j(g)},{x:k,y:j(k)}]}var w=G(G(G({},v),{},{fill:"none",stroke:v&&v.fill},u),{},{points:d});return F.isValidElement(l)?p=F.cloneElement(l,w):Tt(l)?p=l(w):p=F.createElement(kt,le({},w,{type:o})),F.createElement(ae,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var t=this.props,s=t.hide,l=t.points,c=t.line,o=t.className,v=t.xAxis,u=t.yAxis,d=t.left,p=t.top,m=t.width,g=t.height,k=t.id,D=t.isAnimationActive;if(s||!l||!l.length)return null;var _=this.state.isAnimationFinished,j=at("recharts-scatter",o),w=v&&v.allowDataOverflow,C=u&&u.allowDataOverflow,H=w||C,R=te(k)?this.id:k;return F.createElement(ae,{className:j,clipPath:H?"url(#clipPath-".concat(R,")"):null},w||C?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(R)},F.createElement("rect",{x:w?d:d-m/2,y:C?p:p-g/2,width:w?m:m*2,height:C?g:g*2}))):null,c&&this.renderLine(),this.renderErrorBar(),F.createElement(ae,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!D||_)&&jt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(t,s){return t.animationId!==s.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,prevPoints:s.curPoints}:t.points!==s.curPoints?{curPoints:t.points}:null}}]),r}(Ae.PureComponent);q(de,"displayName","Scatter");q(de,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ot.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});q(de,"getComposedData",function(n){var a=n.xAxis,r=n.yAxis,e=n.zAxis,t=n.item,s=n.displayedData,l=n.xAxisTicks,c=n.yAxisTicks,o=n.offset,v=t.props.tooltipType,u=Je(t.props.children,_t),d=te(a.dataKey)?t.props.dataKey:a.dataKey,p=te(r.dataKey)?t.props.dataKey:r.dataKey,m=e&&e.dataKey,g=e?e.range:Te.defaultProps.range,k=g&&g[0],D=a.scale.bandwidth?a.scale.bandwidth():0,_=r.scale.bandwidth?r.scale.bandwidth():0,j=s.map(function(w,C){var H=ye(w,d),R=ye(w,p),S=!te(m)&&ye(w,m)||"-",J=[{name:te(a.dataKey)?t.props.name:a.name||a.dataKey,unit:a.unit||"",value:H,payload:w,dataKey:d,type:v},{name:te(r.dataKey)?t.props.name:r.name||r.dataKey,unit:r.unit||"",value:R,payload:w,dataKey:p,type:v}];S!=="-"&&J.push({name:e.name||e.dataKey,unit:e.unit||"",value:S,payload:w,dataKey:m,type:v});var Z=Ve({axis:a,ticks:l,bandSize:D,entry:w,index:C,dataKey:d}),W=Ve({axis:r,ticks:c,bandSize:_,entry:w,index:C,dataKey:p}),h=S!=="-"?e.scale(S):k,f=Math.sqrt(Math.max(h,0)/Math.PI);return G(G({},w),{},{cx:Z,cy:W,x:Z-f,y:W-f,xAxis:a,yAxis:r,zAxis:e,width:2*f,height:2*f,size:h,node:{x:H,y:R,z:S},tooltipPayload:J,tooltipPosition:{x:Z,y:W},payload:w},u&&u[C]&&u[C].props)});return G({points:j},o)});var Ut=Dt({chartName:"ScatterChart",GraphicalChild:de,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:ie},{axisType:"yAxis",AxisComp:se},{axisType:"zAxis",AxisComp:Te}],formatAxisMap:Pt}),$e=function(a,r){return Object.prototype.hasOwnProperty.call(a,r)};function Vt(n,a){function r(e,t){if(n(e,t))return!0;if(Array.isArray(e))return!(!Array.isArray(t)||e.length!==t.length||!e.every(function(u,d){return r(u,t[d])}));if(Array.isArray(t))return!1;if(typeof e=="object"){if(typeof t!="object")return!1;var s=e===null,l=t===null;if(s||l)return s===l;var c=Object.keys(e),o=Object.keys(t);if(c.length!==o.length)return!1;var v=a?r:n;return!!c.every(function(u){return $e(e,u)&&$e(t,u)&&v(e[u],t[u])})}return!1}return r}var Ht=function(a,r){for(var e=0;e<a.length;e++)if(r(a[e]))return e;return-1};function Gt(n,a){var r=[];function e(s){var l=Ht(r,function(o){return a(s,o.key)});if(l>-1){var c=r[l];return l>0&&(r.splice(l,1),r.unshift(c)),c.value}}function t(s,l){e(s)||(r.unshift({key:s,value:l}),r.length>n&&r.pop())}return{get:e,put:t}}function Yt(n){var a;return{get:function(e){if(a&&n(e,a.key))return a.value},put:function(e,t){a={key:e,value:t}}}}function Xt(n,a){return n===1?Yt(a):Gt(n,a)}function $t(n,a){var r=a?Vt(n,a):n;return function(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s+=1)if(!r(e[s],t[s]))return!1;return!0}}function Zt(){for(var n=1,a=function(o,v){return o===v},r=!1,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];typeof t[0]=="number"&&(n=t.shift()),typeof t[0]=="function"?a=t.shift():typeof t[0]>"u"&&t.shift(),typeof t[0]=="boolean"&&(r=t[0]);var l=Xt(n,$t(a,r));return function(c){return function(){for(var o=arguments.length,v=new Array(o),u=0;u<o;u++)v[u]=arguments[u];var d=l.get(v);return d===void 0&&(d=c.apply(c,v),l.put(v,d)),d}}}class xe extends F.PureComponent{render(){const{active:a,onToggle:r,text:e}=this.props;return i.jsx("div",{className:dt("toggle-button",{active:a}),onClick:()=>r(!a),children:e})}}L(xe,"propTypes",{text:ne.string,onToggle:ne.func,active:ne.bool});var Pe={},Se={},Me={},ke={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Direction=void 0,function(a){a.Right="to right",a.Left="to left",a.Down="to bottom",a.Up="to top"}(n.Direction||(n.Direction={}))})(ke);(function(n){var a=V&&V.__spreadArray||function(h,f,y){if(y||arguments.length===2)for(var A=0,T=f.length,x;A<T;A++)(x||!(A in f))&&(x||(x=Array.prototype.slice.call(f,0,A)),x[A]=f[A]);return h.concat(x||Array.prototype.slice.call(f))};Object.defineProperty(n,"__esModule",{value:!0}),n.useThumbOverlap=n.assertUnreachable=n.voidFn=n.getTrackBackground=n.replaceAt=n.schd=n.translate=n.getClosestThumbIndex=n.translateThumbs=n.getPaddingAndBorder=n.getMargin=n.checkInitialOverlap=n.checkValuesAgainstBoundaries=n.checkBoundaries=n.isVertical=n.relativeValue=n.normalizeValue=n.isStepDivisible=n.isTouchEvent=n.getStepDecimals=void 0;var r=Ae,e=ke,t=function(h){var f=h.toString().split(".")[1];return f?f.length:0};n.getStepDecimals=t;function s(h){return h.touches&&h.touches.length||h.changedTouches&&h.changedTouches.length}n.isTouchEvent=s;function l(h,f,y){var A=(f-h)/y,T=8,x=Number(A.toFixed(T));return parseInt(x.toString(),10)===x}n.isStepDivisible=l;function c(h,f,y,A,T,x,P){var E=1e11;if(h=Math.round(h*E)/E,!x){var K=P[f-1],M=P[f+1];if(K&&K>h)return K;if(M&&M<h)return M}if(h>A)return A;if(h<y)return y;var Y=Math.floor(h*E-y*E)%Math.floor(T*E),U=Math.floor(h*E-Math.abs(Y)),X=Y===0?h:U/E,B=Math.abs(Y/E)<T/2?X:X+T,$=(0,n.getStepDecimals)(T);return parseFloat(B.toFixed($))}n.normalizeValue=c;function o(h,f,y){return(h-f)/(y-f)}n.relativeValue=o;function v(h){return h===e.Direction.Up||h===e.Direction.Down}n.isVertical=v;function u(h,f,y){if(f>=y)throw new RangeError("min (".concat(f,") is equal/bigger than max (").concat(y,")"));if(h<f)throw new RangeError("value (".concat(h,") is smaller than min (").concat(f,")"));if(h>y)throw new RangeError("value (".concat(h,") is bigger than max (").concat(y,")"))}n.checkBoundaries=u;function d(h,f,y){return h<f?f:h>y?y:h}n.checkValuesAgainstBoundaries=d;function p(h){if(!(h.length<2)&&!h.slice(1).every(function(f,y){return h[y]<=f}))throw new RangeError("values={[".concat(h,"]} needs to be sorted when allowOverlap={false}"))}n.checkInitialOverlap=p;function m(h){var f=window.getComputedStyle(h);return{top:parseInt(f["margin-top"],10),bottom:parseInt(f["margin-bottom"],10),left:parseInt(f["margin-left"],10),right:parseInt(f["margin-right"],10)}}n.getMargin=m;function g(h){var f=window.getComputedStyle(h);return{top:parseInt(f["padding-top"],10)+parseInt(f["border-top-width"],10),bottom:parseInt(f["padding-bottom"],10)+parseInt(f["border-bottom-width"],10),left:parseInt(f["padding-left"],10)+parseInt(f["border-left-width"],10),right:parseInt(f["padding-right"],10)+parseInt(f["border-right-width"],10)}}n.getPaddingAndBorder=g;function k(h,f,y){var A=y?-1:1;h.forEach(function(T,x){return _(T,A*f[x].x,f[x].y)})}n.translateThumbs=k;function D(h,f,y,A){for(var T=0,x=W(h[0],f,y,A),P=1;P<h.length;P++){var E=W(h[P],f,y,A);E<x&&(x=E,T=P)}return T}n.getClosestThumbIndex=D;function _(h,f,y){h.style.transform="translate(".concat(f,"px, ").concat(y,"px)")}n.translate=_;var j=function(h){var f=[],y=null,A=function(){for(var T=[],x=0;x<arguments.length;x++)T[x]=arguments[x];f=T,!y&&(y=requestAnimationFrame(function(){y=null,h.apply(void 0,f)}))};return A};n.schd=j;function w(h,f,y){var A=h.slice(0);return A[f]=y,A}n.replaceAt=w;function C(h){var f=h.values,y=h.colors,A=h.min,T=h.max,x=h.direction,P=x===void 0?e.Direction.Right:x,E=h.rtl,K=E===void 0?!1:E;K&&P===e.Direction.Right?P=e.Direction.Left:K&&e.Direction.Left&&(P=e.Direction.Right);var M=f.slice(0).sort(function(U,X){return U-X}).map(function(U){return(U-A)/(T-A)*100}),Y=M.reduce(function(U,X,B){return"".concat(U,", ").concat(y[B]," ").concat(X,"%, ").concat(y[B+1]," ").concat(X,"%")},"");return"linear-gradient(".concat(P,", ").concat(y[0]," 0%").concat(Y,", ").concat(y[y.length-1]," 100%)")}n.getTrackBackground=C;function H(){}n.voidFn=H;function R(h){throw new Error("Didn't expect to get here")}n.assertUnreachable=R;var S=function(h,f,y,A,T){T===void 0&&(T=function(P){return P});var x=Math.ceil(a([h],Array.from(h.children),!0).reduce(function(P,E){var K=Math.ceil(E.getBoundingClientRect().width);if(E.innerText&&E.innerText.includes(y)&&E.childElementCount===0){var M=E.cloneNode(!0);M.innerHTML=T(f.toFixed(A)),M.style.visibility="hidden",document.body.appendChild(M),K=Math.ceil(M.getBoundingClientRect().width),document.body.removeChild(M)}return K>P?K:P},h.getBoundingClientRect().width));return x},J=function(h,f,y,A,T,x,P){P===void 0&&(P=function(M){return M});var E=[],K=function(M){var Y=S(y[M],A[M],T,x,P),U=f[M].x;f.forEach(function(X,B){var $=X.x,Q=S(y[B],A[B],T,x,P);M!==B&&(U>=$&&U<=$+Q||U+Y>=$&&U+Y<=$+Q)&&(E.includes(B)||(E.push(M),E.push(B),E=a(a([],E,!0),[M,B],!1),K(B)))})};return K(h),Array.from(new Set(E.sort()))},Z=function(h,f,y,A,T,x){A===void 0&&(A=.1),T===void 0&&(T=" - "),x===void 0&&(x=function(B){return B});var P=(0,n.getStepDecimals)(A),E=(0,r.useState)({}),K=E[0],M=E[1],Y=(0,r.useState)(x(f[y].toFixed(P))),U=Y[0],X=Y[1];return(0,r.useEffect)(function(){if(h){var B=h.getThumbs();if(B.length<1)return;var $={},Q=h.getOffsets(),ue=J(y,Q,B,f,T,P,x),Ie=x(f[y].toFixed(P));if(ue.length){var he=ue.reduce(function(ee,Le,Ne,Be){return ee.length?a(a([],ee,!0),[Q[Be[Ne]].x],!1):[Q[Be[Ne]].x]},[]);if(Math.min.apply(Math,he)===Q[y].x){var Re=[];ue.forEach(function(ee){Re.push(f[ee].toFixed(P))}),Ie=Array.from(new Set(Re.sort(function(ee,Le){return parseFloat(ee)-parseFloat(Le)}))).map(x).join(T);var et=Math.min.apply(Math,he),Ce=Math.max.apply(Math,he),tt=B[ue[he.indexOf(Ce)]].getBoundingClientRect().width;$.left="".concat(Math.abs(et-(Ce+tt))/2,"px"),$.transform="translate(-50%, 0)"}else $.visibility="hidden"}X(Ie),M($)}},[h,f]),[U,K]};n.useThumbOverlap=Z;function W(h,f,y,A){var T=h.getBoundingClientRect(),x=T.left,P=T.top,E=T.width,K=T.height;return v(A)?Math.abs(y-(P+K/2)):Math.abs(f-(x+E/2))}})(Me);var qt=V&&V.__extends||function(){var n=function(a,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])},n(a,r)};return function(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");n(a,r);function e(){this.constructor=a}a.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),Jt=V&&V.__createBinding||(Object.create?function(n,a,r,e){e===void 0&&(e=r);var t=Object.getOwnPropertyDescriptor(a,r);(!t||("get"in t?!a.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return a[r]}}),Object.defineProperty(n,e,t)}:function(n,a,r,e){e===void 0&&(e=r),n[e]=a[r]}),Qt=V&&V.__setModuleDefault||(Object.create?function(n,a){Object.defineProperty(n,"default",{enumerable:!0,value:a})}:function(n,a){n.default=a}),en=V&&V.__importStar||function(n){if(n&&n.__esModule)return n;var a={};if(n!=null)for(var r in n)r!=="default"&&Object.prototype.hasOwnProperty.call(n,r)&&Jt(a,n,r);return Qt(a,n),a},Ze=V&&V.__spreadArray||function(n,a,r){if(r||arguments.length===2)for(var e=0,t=a.length,s;e<t;e++)(s||!(e in a))&&(s||(s=Array.prototype.slice.call(a,0,e)),s[e]=a[e]);return n.concat(s||Array.prototype.slice.call(a))};Object.defineProperty(Se,"__esModule",{value:!0});var ge=en(Ae),O=Me,N=ke,tn=["ArrowRight","ArrowUp","k","PageUp"],nn=["ArrowLeft","ArrowDown","j","PageDown"],rn=function(n){qt(a,n);function a(r){var e=n.call(this,r)||this;if(e.trackRef=ge.createRef(),e.thumbRefs=[],e.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(e.props.values.length).fill(0).map(function(t,s){return s}),isChanged:!1,markOffsets:[]},e.getOffsets=function(){var t=e.props,s=t.direction,l=t.values,c=t.min,o=t.max,v=e.trackRef.current,u=v.getBoundingClientRect(),d=(0,O.getPaddingAndBorder)(v);return e.getThumbs().map(function(p,m){var g={x:0,y:0},k=p.getBoundingClientRect(),D=(0,O.getMargin)(p);switch(s){case N.Direction.Right:return g.x=(D.left+d.left)*-1,g.y=((k.height-u.height)/2+d.top)*-1,g.x+=u.width*(0,O.relativeValue)(l[m],c,o)-k.width/2,g;case N.Direction.Left:return g.x=(D.right+d.right)*-1,g.y=((k.height-u.height)/2+d.top)*-1,g.x+=u.width-u.width*(0,O.relativeValue)(l[m],c,o)-k.width/2,g;case N.Direction.Up:return g.x=((k.width-u.width)/2+D.left+d.left)*-1,g.y=-d.left,g.y+=u.height-u.height*(0,O.relativeValue)(l[m],c,o)-k.height/2,g;case N.Direction.Down:return g.x=((k.width-u.width)/2+D.left+d.left)*-1,g.y=-d.left,g.y+=u.height*(0,O.relativeValue)(l[m],c,o)-k.height/2,g;default:return(0,O.assertUnreachable)(s)}})},e.getThumbs=function(){return e.trackRef&&e.trackRef.current?Array.from(e.trackRef.current.children).filter(function(t){return t.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},e.getTargetIndex=function(t){return e.getThumbs().findIndex(function(s){return s===t.target||s.contains(t.target)})},e.addTouchEvents=function(t){document.addEventListener("touchmove",e.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",e.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",e.schdOnEnd,{passive:!1})},e.addMouseEvents=function(t){document.addEventListener("mousemove",e.schdOnMouseMove),document.addEventListener("mouseup",e.schdOnEnd)},e.onMouseDownTrack=function(t){var s;if(t.button===0)if(t.persist(),t.preventDefault(),e.addMouseEvents(t.nativeEvent),e.props.values.length>1&&e.props.draggableTrack){if(e.thumbRefs.some(function(c){var o;return(o=c.current)===null||o===void 0?void 0:o.contains(t.target)}))return;e.setState({draggedTrackPos:[t.clientX,t.clientY]},function(){return e.onMove(t.clientX,t.clientY)})}else{var l=(0,O.getClosestThumbIndex)(e.thumbRefs.map(function(c){return c.current}),t.clientX,t.clientY,e.props.direction);(s=e.thumbRefs[l].current)===null||s===void 0||s.focus(),e.setState({draggedThumbIndex:l},function(){return e.onMove(t.clientX,t.clientY)})}},e.onResize=function(){(0,O.translateThumbs)(e.getThumbs(),e.getOffsets(),e.props.rtl),e.calculateMarkOffsets()},e.onTouchStartTrack=function(t){var s;if(t.persist(),e.addTouchEvents(t.nativeEvent),e.props.values.length>1&&e.props.draggableTrack){if(e.thumbRefs.some(function(c){var o;return(o=c.current)===null||o===void 0?void 0:o.contains(t.target)}))return;e.setState({draggedTrackPos:[t.touches[0].clientX,t.touches[0].clientY]},function(){return e.onMove(t.touches[0].clientX,t.touches[0].clientY)})}else{var l=(0,O.getClosestThumbIndex)(e.thumbRefs.map(function(c){return c.current}),t.touches[0].clientX,t.touches[0].clientY,e.props.direction);(s=e.thumbRefs[l].current)===null||s===void 0||s.focus(),e.setState({draggedThumbIndex:l},function(){return e.onMove(t.touches[0].clientX,t.touches[0].clientY)})}},e.onMouseOrTouchStart=function(t){if(!e.props.disabled){var s=(0,O.isTouchEvent)(t);if(!(!s&&t.button!==0)){var l=e.getTargetIndex(t);l!==-1&&(s?e.addTouchEvents(t):e.addMouseEvents(t),e.setState({draggedThumbIndex:l,thumbZIndexes:e.state.thumbZIndexes.map(function(c,o){return o===l?Math.max.apply(Math,e.state.thumbZIndexes):c<=e.state.thumbZIndexes[l]?c:c-1})}))}}},e.onMouseMove=function(t){t.preventDefault(),e.onMove(t.clientX,t.clientY)},e.onTouchMove=function(t){t.preventDefault(),e.onMove(t.touches[0].clientX,t.touches[0].clientY)},e.onKeyDown=function(t){var s=e.props,l=s.values,c=s.onChange,o=s.step,v=s.rtl,u=s.direction,d=e.state.isChanged,p=e.getTargetIndex(t.nativeEvent),m=v||u===N.Direction.Left||u===N.Direction.Down?-1:1;p!==-1&&(tn.includes(t.key)?(t.preventDefault(),e.setState({draggedThumbIndex:p,isChanged:!0}),c((0,O.replaceAt)(l,p,e.normalizeValue(l[p]+m*(t.key==="PageUp"?o*10:o),p)))):nn.includes(t.key)?(t.preventDefault(),e.setState({draggedThumbIndex:p,isChanged:!0}),c((0,O.replaceAt)(l,p,e.normalizeValue(l[p]-m*(t.key==="PageDown"?o*10:o),p)))):t.key==="Tab"?e.setState({draggedThumbIndex:-1},function(){d&&e.fireOnFinalChange()}):d&&e.fireOnFinalChange())},e.onKeyUp=function(t){var s=e.state.isChanged;e.setState({draggedThumbIndex:-1},function(){s&&e.fireOnFinalChange()})},e.onMove=function(t,s){var l=e.state,c=l.draggedThumbIndex,o=l.draggedTrackPos,v=e.props,u=v.direction,d=v.min,p=v.max,m=v.onChange,g=v.values,k=v.step,D=v.rtl;if(c===-1&&o[0]===-1&&o[1]===-1)return null;var _=e.trackRef.current;if(!_)return null;var j=_.getBoundingClientRect(),w=(0,O.isVertical)(u)?j.height:j.width;if(o[0]!==-1&&o[1]!==-1){var C=t-o[0],H=s-o[1],R=0;switch(u){case N.Direction.Right:case N.Direction.Left:R=C/w*(p-d);break;case N.Direction.Down:case N.Direction.Up:R=H/w*(p-d);break;default:(0,O.assertUnreachable)(u)}if(D&&(R*=-1),Math.abs(R)>=k/2){for(var S=0;S<e.thumbRefs.length;S++){if(g[S]===p&&Math.sign(R)===1||g[S]===d&&Math.sign(R)===-1)return;var J=g[S]+R;J>p?R=p-g[S]:J<d&&(R=d-g[S])}for(var Z=g.slice(0),S=0;S<e.thumbRefs.length;S++)Z=(0,O.replaceAt)(Z,S,e.normalizeValue(g[S]+R,S));e.setState({draggedTrackPos:[t,s]}),m(Z)}}else{var W=0;switch(u){case N.Direction.Right:W=(t-j.left)/w*(p-d)+d;break;case N.Direction.Left:W=(w-(t-j.left))/w*(p-d)+d;break;case N.Direction.Down:W=(s-j.top)/w*(p-d)+d;break;case N.Direction.Up:W=(w-(s-j.top))/w*(p-d)+d;break;default:(0,O.assertUnreachable)(u)}D&&(W=p+d-W),Math.abs(g[c]-W)>=k/2&&m((0,O.replaceAt)(g,c,e.normalizeValue(W,c)))}},e.normalizeValue=function(t,s){var l=e.props,c=l.min,o=l.max,v=l.step,u=l.allowOverlap,d=l.values;return(0,O.normalizeValue)(t,s,c,o,v,u,d)},e.onEnd=function(t){if(t.preventDefault(),document.removeEventListener("mousemove",e.schdOnMouseMove),document.removeEventListener("touchmove",e.schdOnTouchMove),document.removeEventListener("mouseup",e.schdOnEnd),document.removeEventListener("touchend",e.schdOnEnd),document.removeEventListener("touchcancel",e.schdOnEnd),e.state.draggedThumbIndex===-1&&e.state.draggedTrackPos[0]===-1&&e.state.draggedTrackPos[1]===-1)return null;e.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){e.fireOnFinalChange()})},e.fireOnFinalChange=function(){e.setState({isChanged:!1});var t=e.props,s=t.onFinalChange,l=t.values;s&&s(l)},e.updateMarkRefs=function(t){if(!t.renderMark){e.numOfMarks=void 0,e.markRefs=void 0;return}e.numOfMarks=(t.max-t.min)/e.props.step,e.markRefs=[];for(var s=0;s<e.numOfMarks+1;s++)e.markRefs[s]=ge.createRef()},e.calculateMarkOffsets=function(){if(!(!e.props.renderMark||!e.trackRef||!e.numOfMarks||!e.markRefs||e.trackRef.current===null)){for(var t=window.getComputedStyle(e.trackRef.current),s=parseInt(t.width,10),l=parseInt(t.height,10),c=parseInt(t.paddingLeft,10),o=parseInt(t.paddingTop,10),v=[],u=0;u<e.numOfMarks+1;u++){var d=9999,p=9999;if(e.markRefs[u].current){var m=e.markRefs[u].current.getBoundingClientRect();d=m.height,p=m.width}e.props.direction===N.Direction.Left||e.props.direction===N.Direction.Right?v.push([Math.round(s/e.numOfMarks*u+c-p/2),-Math.round((d-l)/2)]):v.push([Math.round(l/e.numOfMarks*u+o-d/2),-Math.round((p-s)/2)])}e.setState({markOffsets:v})}},r.step===0)throw new Error('"step" property should be a positive number');return e.schdOnMouseMove=(0,O.schd)(e.onMouseMove),e.schdOnTouchMove=(0,O.schd)(e.onTouchMove),e.schdOnEnd=(0,O.schd)(e.onEnd),e.thumbRefs=r.values.map(function(){return ge.createRef()}),e.updateMarkRefs(r),e}return a.prototype.componentDidMount=function(){var r=this,e=this.props,t=e.values,s=e.min,l=e.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",r.onResize)},unobserve:function(){return window.removeEventListener("resize",r.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,O.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(c){return(0,O.checkBoundaries)(c,r.props.min,r.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,O.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),t.forEach(function(c){(0,O.isStepDivisible)(s,c,l)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},a.prototype.componentDidUpdate=function(r,e){var t=this.props,s=t.max,l=t.min,c=t.step,o=t.values,v=t.rtl;(r.max!==s||r.min!==l||r.step!==c)&&this.updateMarkRefs(this.props),(0,O.translateThumbs)(this.getThumbs(),this.getOffsets(),v),(r.max!==s||r.min!==l||r.step!==c||e.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),o.forEach(function(u){(0,O.isStepDivisible)(l,u,c)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},a.prototype.componentWillUnmount=function(){var r={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,r),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},a.prototype.render=function(){var r=this,e=this.props,t=e.renderTrack,s=e.renderThumb,l=e.renderMark,c=l===void 0?function(){return null}:l,o=e.values,v=e.min,u=e.max,d=e.allowOverlap,p=e.disabled,m=this.state,g=m.draggedThumbIndex,k=m.thumbZIndexes,D=m.markOffsets;return t({props:{style:{transform:"scale(1)",cursor:g>-1?"grabbing":this.props.draggableTrack?(0,O.isVertical)(this.props.direction)?"ns-resize":"ew-resize":o.length===1&&!p?"pointer":"inherit"},onMouseDown:p?O.voidFn:this.onMouseDownTrack,onTouchStart:p?O.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:p,children:Ze(Ze([],D.map(function(_,j,w){return c({props:{style:r.props.direction===N.Direction.Left||r.props.direction===N.Direction.Right?{position:"absolute",left:"".concat(_[0],"px"),marginTop:"".concat(_[1],"px")}:{position:"absolute",top:"".concat(_[0],"px"),marginLeft:"".concat(_[1],"px")},key:"mark".concat(j),ref:r.markRefs[j]},index:j})}),!0),o.map(function(_,j){var w=r.state.draggedThumbIndex===j;return s({index:j,value:_,isDragged:w,props:{style:{position:"absolute",zIndex:k[j],cursor:p?"inherit":w?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:j,tabIndex:p?void 0:0,"aria-valuemax":d?u:o[j+1]||u,"aria-valuemin":d?v:o[j-1]||v,"aria-valuenow":_,draggable:!1,ref:r.thumbRefs[j],role:"slider",onKeyDown:p?O.voidFn:r.onKeyDown,onKeyUp:p?O.voidFn:r.onKeyUp}})}),!0)})},a.defaultProps={step:1,direction:N.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},a}(ge.Component);Se.default=rn;(function(n){var a=V&&V.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0}),n.checkValuesAgainstBoundaries=n.relativeValue=n.useThumbOverlap=n.Direction=n.getTrackBackground=n.Range=void 0;var r=a(Se);n.Range=r.default;var e=Me;Object.defineProperty(n,"getTrackBackground",{enumerable:!0,get:function(){return e.getTrackBackground}}),Object.defineProperty(n,"useThumbOverlap",{enumerable:!0,get:function(){return e.useThumbOverlap}}),Object.defineProperty(n,"relativeValue",{enumerable:!0,get:function(){return e.relativeValue}}),Object.defineProperty(n,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return e.checkValuesAgainstBoundaries}});var t=ke;Object.defineProperty(n,"Direction",{enumerable:!0,get:function(){return t.Direction}})})(Pe);function an({range:n,min:a,max:r,onChange:e}){return i.jsx(Pe.Range,{values:n,step:1,min:a,max:r,onChange:e,renderTrack:({props:t,children:s})=>i.jsx("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:{...t.style,position:"relative",height:"10px",display:"flex",width:"100%"},children:i.jsx("div",{ref:t.ref,style:{height:"6px",width:"100%",borderRadius:"3px",background:Pe.getTrackBackground({values:n,colors:["#ccc","#88d3ff","#ccc"],min:a,max:r}),alignSelf:"center"},children:s})}),renderThumb:({props:t,isDragged:s})=>i.jsx("div",{...t,style:{...t.style,height:"12px",width:"12px",borderRadius:"6px",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 3px #AAA"},children:i.jsx("div",{style:{height:"6px",width:"6px",borderRadius:"3px",backgroundColor:s?"#88d3ff":"#CCC"}})})})}const b={SINGLE_TWO:"SINGLE_TWO",SINGLE_FIVE:"SINGLE_FIVE",DOUBLE_TWO:"DOUBLE_TWO",DOUBLE_FIVE:"DOUBLE_FIVE",BOTH_TWO:"BOTH_TWO",BOTH_FIVE:"BOTH_FIVE"},sn=n=>{switch(n){case b.SINGLE_TWO:return[i.jsx(I,{dataKey:"single.twoBars.p1win",fill:"#4696f0",stackId:"stack",isAnimationActive:!0},"11"),i.jsx(I,{dataKey:"single.twoBars.p2win",fill:"#eda338",stackId:"stack",isAnimationActive:!0},"22")];case b.SINGLE_FIVE:return[i.jsx(I,{dataKey:"single.p1win",fill:"#4696f0",stackId:"stack",isAnimationActive:!0},"1"),i.jsx(I,{dataKey:"single.p2notPlayed",fill:"#899db3",stackId:"stack",isAnimationActive:!0},"2"),i.jsx(I,{dataKey:"single.notPlayed",fill:"#70707060",stackId:"stack",isAnimationActive:!0},"3"),i.jsx(I,{dataKey:"single.p1notPlayed",fill:"#bfa988",stackId:"stack",isAnimationActive:!0},"4"),i.jsx(I,{dataKey:"single.p2win",fill:"#eda338",stackId:"stack",isAnimationActive:!0},"5")];case b.DOUBLE_TWO:return[i.jsx(I,{dataKey:"double.twoBars.p1win",fill:"#4696f0",stackId:"stack",isAnimationActive:!0},"11"),i.jsx(I,{dataKey:"double.twoBars.p2win",fill:"#eda338",stackId:"stack",isAnimationActive:!0},"22")];case b.DOUBLE_FIVE:return[i.jsx(I,{dataKey:"double.p1win",fill:"#4696f0",stackId:"stack",isAnimationActive:!0},"1"),i.jsx(I,{dataKey:"double.p2notPlayed",fill:"#899db3",stackId:"stack",isAnimationActive:!0},"2"),i.jsx(I,{dataKey:"double.notPlayed",fill:"#70707060",stackId:"stack",isAnimationActive:!0},"3"),i.jsx(I,{dataKey:"double.p1notPlayed",fill:"#bfa988",stackId:"stack",isAnimationActive:!0},"4"),i.jsx(I,{dataKey:"double.p2win",fill:"#eda338",stackId:"stack",isAnimationActive:!0},"5")];case b.BOTH_TWO:return[i.jsx(I,{dataKey:"all.twoBars.p1win",fill:"#4696f0",stackId:"stack",isAnimationActive:!0},"11"),i.jsx(I,{dataKey:"all.twoBars.p2win",fill:"#eda338",stackId:"stack",isAnimationActive:!0},"22")];case b.BOTH_FIVE:return[i.jsx(I,{dataKey:"all.p1win",fill:"#4696f0",stackId:"stack",isAnimationActive:!0},"1"),i.jsx(I,{dataKey:"all.p2notPlayed",fill:"#899db3",stackId:"stack",isAnimationActive:!0},"2"),i.jsx(I,{dataKey:"all.notPlayed",fill:"#70707060",stackId:"stack",isAnimationActive:!0},"3"),i.jsx(I,{dataKey:"all.p1notPlayed",fill:"#bfa988",stackId:"stack",isAnimationActive:!0},"4"),i.jsx(I,{dataKey:"all.p2win",fill:"#eda338",stackId:"stack",isAnimationActive:!0},"5")];default:return null}},_e=void 0,on=qe("id"),cn=qe("compareToId"),ln=Zt()((n,a,r)=>{if(!n||!a)return{};let e=n.ratingChanges[0].rating,t=a.ratingChanges[0].rating;const s=z.flow(z.sortBy("date"),z.map(o=>(o.rating&&(e=o.rating),o.rating2&&(t=o.rating2),{rating1:e,rating2:t,date:o.date})),z.sortedUniqBy("date"))([...n.ratingChanges,...a.ratingChanges.map(o=>({date:o.date,rating2:o.rating}))]);e=n.placesChanges[0].place,t=a.placesChanges[0].place;const l=z.flow(z.sortBy("date"),z.map(o=>(o.place&&(e=o.place),o.place2&&(t=o.place2),{place1:e,place2:t,date:o.date})))([...n.placesChanges,...a.placesChanges.map(o=>({date:o.date,place2:o.place}))]),c=z.fromPairs(Array.from({length:28}).map((o,v)=>[v+1,{}]));return z.keys(c).forEach(o=>{const v=z.flow(z.map("chart"),z.uniqBy("sharedChartId"))([...n.resultsByLevel[o],...a.resultsByLevel[o]]),u={x:o,all:{p1win:0,p1notPlayed:0,p2win:0,p2notPlayed:0,notPlayed:0,twoBars:{}},double:{p1win:0,p1notPlayed:0,p2win:0,p2notPlayed:0,notPlayed:0,twoBars:{}},single:{p1win:0,p1notPlayed:0,p2win:0,p2notPlayed:0,notPlayed:0,twoBars:{}}};v.forEach(m=>{const g=m.results.findIndex(_=>_.playerId===n.id),k=m.results.findIndex(_=>_.playerId===a.id),D=m.chartType.startsWith("D")?u.double:u.single;g<0&&k<0?console.log("wtf?"):g<0?(u.all.p1notPlayed++,D.p1notPlayed++):k<0?(u.all.p2notPlayed++,D.p2notPlayed++):g<k?(u.all.p1win++,D.p1win++):k<g&&(u.all.p2win++,D.p2win++)});const d=m=>{const g=m.p1win+m.p2win||1;m.twoBars.p1win=m.p1win/g,m.twoBars.p2win=m.p2win/g};d(u.all),d(u.single),d(u.double);const p=(m,g)=>{m.p1win=m.p1win/g,m.p1notPlayed=m.p1notPlayed/g,m.p2win=m.p2win/g,m.p2notPlayed=m.p2notPlayed/g,m.notPlayed=1-m.p1win-m.p1notPlayed-m.p2win-m.p2notPlayed};p(u.all,r.chartLevels[o]),p(u.double,r.doublesLevels[o]),p(u.single,r.singlesLevels[o]),c[o]=u}),{ratingChanges:s,placesChanges:l,perLevelComparison:z.values(c)}}),dn=(n,a)=>{const r=on(n,a),e=cn(n,a);return{profile:r??void 0,profile2:e??void 0,combinedData:ln(r,e,n.tracklist.data),tracklist:n.tracklist.data,filter:n.profiles.filter,error:n.charts.error||n.tracklist.error,isLoading:n.charts.isLoading||n.results.isLoadingRanking||n.tracklist.isLoading}},un={fetchChartsData:ft,setProfilesFilter:pt,resetProfilesFilter:mt};class be extends Ae.Component{constructor(){super(...arguments);L(this,"state",{isLevelGraphCombined:!0,compareBarsMode:b.BOTH_TWO});L(this,"onRefresh",()=>{const{isLoading:r}=this.props;!r&&this.props.fetchChartsData()});L(this,"onChangeDayRange",r=>{const{filter:e}=this.props;this.props.setProfilesFilter({...e,dayRange:r})});L(this,"rhMargin",{top:5,bottom:5,right:5,left:0});L(this,"rhXDomain",["dataMin","dataMax"]);L(this,"rhYDomain",["dataMin - 100","dataMax + 100"]);L(this,"rhXTickFormatter",r=>fe(r).toLocaleDateString());L(this,"rhTooltip",({active:r,payload:e,label:t})=>{const{profile:s,profile2:l}=this.props,c=s.name,o=l.name;return!e||!e[0]?null:i.jsxs("div",{className:"history-tooltip",children:[i.jsx("div",{children:fe(e[0].payload.date).toLocaleDateString()}),e[1]&&i.jsxs("div",{style:{fontWeight:"bold",color:e[1].color},children:[c,": ",Math.round(e[1].value)]}),e[0]&&i.jsxs("div",{style:{fontWeight:"bold",color:e[0].color},children:[o,": ",Math.round(e[0].value)]})]})});L(this,"circleShape",r=>i.jsx("circle",{cx:r.cx,cy:r.cy,r:4,fill:r.fill},r.key));L(this,"plcMargin",{top:5,bottom:5,right:5,left:0});L(this,"plcTooltip",({active:r,payload:e,label:t})=>{const{profile:s,profile2:l}=this.props,{compareBarsMode:c}=this.state,o=[b.SINGLE_TWO,b.DOUBLE_TWO,b.BOTH_TWO].includes(c),v=s.name,u=l.name;if(!e||!e[0])return null;const d=(p,m)=>i.jsxs("div",{style:{fontWeight:"bold",color:p.color},children:[m,": ",Math.round(z.get(p.dataKey,p.payload)*100),"%"]},p.name);return i.jsxs("div",{className:"history-tooltip",children:[i.jsxs("div",{children:["Level: ",e[0].payload.x]}),d(e[0],`${v} wins`),!o&&d(e[1],`${u} has no score`),!o&&d(e[2],"Both have no score"),!o&&d(e[3],`${v} has no score`),d(o?e[1]:e[4],`${u} wins`)]})});L(this,"plcXDomain",[0,1]);L(this,"plcXTicks",[0,.5,1]);L(this,"plcXFormatter",r=>`${Math.round(r*100)}%`)}renderRankingHistory(){const{combinedData:r}=this.props;return i.jsx(me,{minHeight:_e,aspect:1.6,children:i.jsxs(He,{data:r.ratingChanges,margin:this.rhMargin,children:[i.jsx(Oe,{strokeDasharray:"3 3"}),i.jsx(ie,{dataKey:"date",type:"number",domain:this.rhXDomain,tickFormatter:this.rhXTickFormatter}),i.jsx(se,{allowDecimals:!1,domain:this.rhYDomain,tickFormatter:Math.round,width:40}),i.jsx(Ge,{y:1e3,stroke:"white"}),i.jsx(Ee,{isAnimationActive:!1,content:this.rhTooltip}),i.jsx(ve,{type:"monotone",isAnimationActive:!1,dataKey:"rating2",stroke:"#ffd388",strokeWidth:3,dot:!1}),i.jsx(ve,{type:"monotone",isAnimationActive:!1,dataKey:"rating1",stroke:"#88d3ff",strokeWidth:3,dot:!1})]})})}renderAccuracyPoints(r=!1){const{profile:e,profile2:t}=this.props;return i.jsx(me,{minHeight:_e,aspect:1.6,children:i.jsxs(Ut,{margin:{top:5,bottom:5,right:5,left:0},children:[i.jsx(Oe,{strokeDasharray:"3 3"}),i.jsx(ie,{dataKey:"[0]",type:"number",domain:[1,28],tickFormatter:s=>Math.round(s),ticks:[1,3,5,7,9,11,13,15,17,19,21,23,25,27]}),i.jsx(se,{dataKey:"[1]",type:"number",domain:[0,100],width:40,tickFormatter:s=>Math.round(s)+"%"}),i.jsx(de,{shape:this.circleShape,data:(r?t:e).accuracyPointsRaw,fill:r?"#ffd388":"#88d3ff"})]})})}renderPlaceHistory(){const{combinedData:r,profile:e,profile2:t}=this.props,s=e.name,l=t.name;return i.jsx(me,{minHeight:_e,aspect:1.6,children:i.jsxs(He,{data:r.placesChanges,margin:{top:5,bottom:5,right:5,left:0},children:[i.jsx(Oe,{strokeDasharray:"3 3"}),i.jsx(ie,{dataKey:"date",type:"number",domain:["dataMin","dataMax"],tickFormatter:c=>fe(c).toLocaleDateString()}),i.jsx(se,{allowDecimals:!1,domain:[1,c=>c<3?c+2:c+1],interval:0,reversed:!0,width:40}),i.jsx(Ee,{isAnimationActive:!1,content:({active:c,payload:o,label:v})=>!o||!o[0]?null:i.jsxs("div",{className:"history-tooltip",children:[i.jsx("div",{children:fe(o[0].payload.date).toLocaleDateString()}),o[1]&&i.jsxs("div",{style:{fontWeight:"bold",color:o[1].color},children:[s,": #",o[1].value]}),o[0]&&i.jsxs("div",{style:{fontWeight:"bold",color:o[0].color},children:[l,": #",o[0].value]})]})}),i.jsx(ve,{isAnimationActive:!1,type:"stepAfter",dataKey:"place2",stroke:"#ffd388",strokeWidth:3,dot:!1}),i.jsx(ve,{isAnimationActive:!1,type:"stepAfter",dataKey:"place1",stroke:"#88d3ff",strokeWidth:3,dot:!1})]})})}renderPerLevelComparison(){const{combinedData:r}=this.props,{compareBarsMode:e}=this.state;return r.perLevelComparison&&i.jsx(me,{width:"100%",aspect:.7,children:i.jsxs(St,{layout:"vertical",data:[...r.perLevelComparison],margin:this.plcMargin,children:[i.jsx(Ee,{isAnimationActive:!1,content:this.plcTooltip}),i.jsx(se,{reversed:!0,dataKey:"x",type:"category",width:23}),i.jsx(ie,{type:"number",domain:this.plcXDomain,ticks:this.plcXTicks,tickFormatter:this.plcXFormatter}),i.jsx(Ge,{x:.5,stroke:"#666"}),sn(e)]})})}renderProfile(){const r=this.context,{profile:e,profile2:t,filter:s}=this.props,{compareBarsMode:l}=this.state;return i.jsxs("div",{className:"profile",children:[i.jsxs("div",{className:"profile-header",children:[i.jsxs("div",{className:"profile-name text-with-header blue",children:[i.jsx("div",{className:"text-header",children:r.PLAYER}),i.jsx("div",{children:e.name})]}),i.jsxs("div",{className:"text-with-header",children:[i.jsx("div",{className:"text-header",children:r.RANK}),i.jsxs("div",{children:["#",e.rank]})]}),i.jsxs("div",{className:"text-with-header",children:[i.jsx("div",{className:"text-header",children:r.PP}),i.jsx("div",{children:Math.floor(e.pp)})]}),i.jsxs("div",{className:"text-with-header",children:[i.jsx("div",{className:"text-header",children:r.LAST_TIME_PLAYED}),i.jsx("div",{children:e.lastResultDate?ze(r,e.lastResultDate):r.NEVER})]}),i.jsx("div",{className:"_flex-fill"}),i.jsxs("div",{className:"text-with-header -select",children:[i.jsx("div",{className:"text-header",children:r.COMPARE_WITH}),i.jsx("div",{children:i.jsx(vt,{})})]})]}),i.jsxs("div",{className:"profile-header right-align",children:[i.jsxs("div",{className:"profile-name text-with-header orange",children:[i.jsx("div",{className:"text-header",children:r.PLAYER}),i.jsx("div",{children:t.name})]}),i.jsxs("div",{className:"text-with-header",children:[i.jsx("div",{className:"text-header",children:r.RANK}),i.jsxs("div",{children:["#",t.rank]})]}),i.jsxs("div",{className:"text-with-header",children:[i.jsx("div",{className:"text-header",children:r.PP}),i.jsx("div",{children:Math.floor(t.pp)})]}),i.jsxs("div",{className:"text-with-header",children:[i.jsx("div",{className:"text-header",children:r.LAST_TIME_PLAYED}),i.jsx("div",{children:t.lastResultDate?ze(r,t.lastResultDate):r.NEVER})]})]}),i.jsxs("div",{className:"profile-section-horizontal-container",children:[i.jsx("div",{className:"profile-section",children:i.jsx("div",{className:"profile-section-content",children:i.jsxs("div",{className:"profile-section-2",children:[i.jsx("div",{className:"profile-sm-section-header flex",children:i.jsx("span",{children:r.VICTORIES_BY_LEVEL})}),i.jsx("div",{className:"profile-sm-section-header flex",children:(()=>{const c=[b.SINGLE_TWO,b.DOUBLE_TWO,b.BOTH_TWO].includes(l);return i.jsxs("div",{className:"toggle-holder",children:[i.jsx(ut,{className:"combine-toggle",checked:!c,onChange:()=>this.setState(o=>({compareBarsMode:{[b.SINGLE_TWO]:b.SINGLE_FIVE,[b.DOUBLE_TWO]:b.DOUBLE_FIVE,[b.BOTH_TWO]:b.BOTH_FIVE,[b.SINGLE_FIVE]:b.SINGLE_TWO,[b.DOUBLE_FIVE]:b.DOUBLE_TWO,[b.BOTH_FIVE]:b.BOTH_TWO}[o.compareBarsMode]})),children:r.DETAILED}),i.jsxs("div",{className:"tabs-holder",children:[i.jsx(xe,{text:r.ALL,active:[b.BOTH_TWO,b.BOTH_FIVE].includes(l),onToggle:()=>{this.setState(o=>({compareBarsMode:c?b.BOTH_TWO:b.BOTH_FIVE}))}}),i.jsx(xe,{text:r.SINGLES,active:[b.SINGLE_TWO,b.SINGLE_FIVE].includes(l),onToggle:o=>{this.setState(v=>({compareBarsMode:c?b.SINGLE_TWO:b.SINGLE_FIVE}))}}),i.jsx(xe,{text:r.DOUBLES,active:[b.DOUBLE_TWO,b.DOUBLE_FIVE].includes(l),onToggle:o=>{this.setState(v=>({compareBarsMode:c?b.DOUBLE_TWO:b.DOUBLE_FIVE}))}})]})]})})()}),i.jsx("div",{className:"chart-container",children:this.renderPerLevelComparison()})]})})}),i.jsxs("div",{className:"profile-section",children:[i.jsxs("div",{className:"profile-section-content",children:[i.jsxs("div",{className:"profile-section-2",children:[i.jsx("div",{className:"profile-sm-section-header",children:i.jsx("span",{children:r.ELO})}),i.jsx("div",{className:"chart-container",children:this.renderRankingHistory()})]}),i.jsxs("div",{className:"profile-section-2",children:[i.jsx("div",{className:"profile-sm-section-header",children:i.jsx("span",{children:r.PLACE_IN_TOP})}),i.jsx("div",{className:"chart-container",children:this.renderPlaceHistory()})]})]}),(()=>{const c=s.dayRange||e.filterRange,o=We(c[0]*1e3*60*60*24).format("L"),v=We(c[1]*1e3*60*60*24).format("L"),u=Math.max(c[0]-1,e.minMaxRange[0]),d=Math.min(c[0]+1,c[1]),p=Math.max(c[1]-1,c[0]),m=Math.min(c[1]+1,e.minMaxRange[1]);return i.jsxs("div",{className:"range-container",children:[i.jsx(an,{range:c,min:e.minMaxRange[0],max:e.minMaxRange[1],onChange:this.onChangeDayRange}),i.jsxs("div",{className:"range-controls _flex-row",children:[i.jsx("button",{className:"btn btn-sm btn-dark",onClick:()=>this.onChangeDayRange([u,c[1]]),children:i.jsx(Fe,{})}),i.jsx("span",{className:"date-text",children:o}),i.jsx("button",{className:"btn btn-sm btn-dark",onClick:()=>this.onChangeDayRange([d,c[1]]),children:i.jsx(Ke,{})}),i.jsx("div",{className:"_flex-fill"}),i.jsx("button",{className:"btn btn-sm btn-dark",onClick:()=>this.onChangeDayRange([c[0],p]),children:i.jsx(Fe,{})}),i.jsx("span",{className:"date-text",children:v}),i.jsx("button",{className:"btn btn-sm btn-dark",onClick:()=>this.onChangeDayRange([c[0],m]),children:i.jsx(Ke,{})})]})]})})()]})]}),i.jsxs("div",{className:"profile-section-horizontal-container",children:[i.jsx("div",{className:"profile-section",children:i.jsx("div",{className:"profile-section-content",children:i.jsxs("div",{className:"profile-section-2",children:[i.jsx("div",{className:"profile-sm-section-header",children:i.jsx("span",{children:r.ACCURACY_BY_LEVEL})}),i.jsx("div",{className:"chart-container",children:this.renderAccuracyPoints()})]})})}),i.jsx("div",{className:"profile-section",children:i.jsx("div",{className:"profile-section-content",children:i.jsxs("div",{className:"profile-section-2",children:[i.jsx("div",{className:"profile-sm-section-header",children:i.jsx("span",{children:r.ACCURACY_BY_LEVEL})}),i.jsx("div",{className:"chart-container",children:this.renderAccuracyPoints(!0)})]})})})]})]})}render(){const{isLoading:r,profile:e,error:t}=this.props;lt&&console.log("profile:",e);const s=this.context;return i.jsx("div",{className:"profile-compare-page",children:i.jsxs("div",{className:"content",children:[t&&t.message,i.jsxs("div",{className:"top-controls",children:[i.jsx("div",{className:"_flex-fill"}),i.jsxs("button",{disabled:r,className:"btn btn-sm btn-dark btn-icon",onClick:this.onRefresh,children:[i.jsx(ot,{})," ",s.UPDATE]})]}),r&&i.jsx(ct,{}),!r&&z.isEmpty(e)&&i.jsx("div",{className:"profile",children:"Profile not found"}),!r&&!z.isEmpty(e)&&this.renderProfile()]})})}}L(be,"contextType",st),L(be,"propTypes",{profile:ne.object,error:ne.object,isLoading:ne.bool.isRequired}),L(be,"defaultProps",{profile:{},profile2:{},combinedData:{}});const Tn=ht(it(dn,un)(be));export{Tn as default};
//# sourceMappingURL=ProfileCompare-a3c815f2.js.map
