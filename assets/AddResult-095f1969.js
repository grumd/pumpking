import{G as Fr,r as De,j as G,R as br,u as _r,a as yr,b as Cr,c as Xn,p as Pr,H as Ur,d as Nr,f as Rr,e as Or}from"./index-9de2e070.js";import{u as Dr}from"./index.esm-a396c210.js";import{c as Wn}from"./index-02d73131.js";function Mr(e){return Fr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.9 79.9L51.8 403.1C40.6 423.3 55.5 448 78.9 448h354.3c23.3 0 38.2-24.7 27.1-44.9L283.1 79.9c-11.7-21.2-42.5-21.2-54.2 0zM273.6 214L270 336h-28l-3.6-122h35.2zM256 402.4c-10.7 0-19.1-8.1-19.1-18.4s8.4-18.4 19.1-18.4 19.1 8.1 19.1 18.4-8.4 18.4-19.1 18.4z"}}]})(e)}const vr="_addResultPage_1gb69_1",Lr="_addResultForm_1gb69_9",wr="_fileInput_1gb69_19",kr="_confirmation_1gb69_23",Gr="_splitPanels_1gb69_23",Br="_screenshotPanel_1gb69_28",Hr="_formPanel_1gb69_31",jr="_chartName_1gb69_34",Zr="_grid_1gb69_39",$r="_warning_1gb69_45",be={addResultPage:vr,addResultForm:Lr,fileInput:wr,confirmation:kr,splitPanels:Gr,screenshotPanel:Br,formPanel:Hr,chartName:jr,grid:Zr,warning:$r};function X(e,n,r){const o=[];for(let t=0;t<r&&n+t<e.byteLength;t++)o.push(e.getUint8(n+t));return Ke(o)}function zr(e,n,r){const o=[];for(let t=0;t<r&&n+t<e.byteLength;t+=2)o.push(e.getUint16(n+t));return Ke(o)}function Ke(e){return e.map(n=>String.fromCharCode(n)).join("")}function K(){for(let e=1;e<arguments.length;e++)for(const n in arguments[e])arguments[0][n]=arguments[e][n];return arguments[0]}function Nt(e,n,r){let o=!1;Object.defineProperty(e,n,{get(){return o||(o=!0,Object.defineProperty(e,n,{configurable:!0,enumerable:!0,value:r.apply(e),writable:!0})),e[n]},configurable:!0,enumerable:!0})}function Rt(e){if(typeof btoa<"u")return btoa(typeof e=="string"?e:Array.prototype.reduce.call(new Uint8Array(e),(n,r)=>n+String.fromCharCode(r),""));if(!(typeof Buffer>"u"))return typeof Buffer.from!==void 0?Buffer.from(e).toString("base64"):new Buffer(e).toString("base64")}function Xr(e){const n=e.substring(e.indexOf(",")+1);if(e.indexOf(";base64")!==-1)return typeof atob<"u"?Uint8Array.from(atob(n),o=>o.charCodeAt(0)).buffer:typeof Buffer>"u"?void 0:typeof Buffer.from!==void 0?Buffer.from(n,"base64"):new Buffer(n,"base64");const r=decodeURIComponent(n);return typeof Buffer<"u"?typeof Buffer.from!==void 0?Buffer.from(r):new Buffer(r):Uint8Array.from(r,o=>o.charCodeAt(0)).buffer}let Wr=class{constructor(n){if(Yr(n))throw new Error("DataView: Passed buffer type is unsupported.");this.buffer=n,this.byteLength=this.buffer.length}getUint8(n){return this.buffer.readUInt8(n)}getUint16(n,r){return r?this.buffer.readUInt16LE(n):this.buffer.readUInt16BE(n)}getUint32(n,r){return r?this.buffer.readUInt32LE(n):this.buffer.readUInt32BE(n)}getInt32(n,r){return r?this.buffer.readInt32LE(n):this.buffer.readInt32BE(n)}};function Yr(e){return typeof e!="object"||e.length===void 0||e.readUInt8===void 0||e.readUInt16LE===void 0||e.readUInt16BE===void 0||e.readUInt32LE===void 0||e.readUInt32BE===void 0||e.readInt32LE===void 0||e.readInt32BE===void 0}function oe(e){return e.map(n=>String.fromCharCode(n)).join("")}function Cn(e){if(e.length>=8){const n=oe(e.slice(0,8));if(n==="ASCII\0\0\0")return oe(e.slice(8));if(n==="JIS\0\0\0\0\0")return"[JIS encoded text]";if(n==="UNICODE\0")return"[Unicode encoded text]";if(n==="\0\0\0\0\0\0\0\0")return"[Undefined encoding]"}return"Undefined"}function cn(e){return e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600}const Pn=18761,Un=19789,He={BIG_ENDIAN:Un,LITTLE_ENDIAN:Pn,getByteOrder:Kr};function Kr(e,n){if(e.getUint16(n)===Pn)return Pn;if(e.getUint16(n)===Un)return Un;throw new Error("Illegal byte order value. Faulty image.")}const Yn={isTiffFile:Jr,findTiffOffsets:Qr};function Jr(e){return!!e&&e.byteLength>=4&&qr(e)}function qr(e){const o=e.getUint16(0)===He.LITTLE_ENDIAN;return e.getUint16(2,o)===42}function Qr(){return{hasAppMarkers:!0,tiffHeaderOffset:0}}const Kn={isJpegFile:pi,findJpegOffsets:mi},Vr=2,ei=65496,Jn=2,Se=4,ge=2,ni=2,ti=10,ri=18,qn=33,Qn=79,Vn=18,ii=8,Nn="ICC_PROFILE\0",Ot=Se+Nn.length,oi=Ot+1,et="MPF\0",Dt=65472,Mt=65474,si=65476,ai=65499,ci=65501,ui=65498,vt=65504,Gn=65505,Lt=65506,fi=65517,li=65519,di=65534,hi=65535,gi="JFIF",Rn="Exif",nt="http://ns.adobe.com/xap/1.0/\0",tt="http://ns.adobe.com/xmp/extension/\0",rt="Photoshop 3.0";function pi(e){return!!e&&e.byteLength>=Vr&&e.getUint16(0)===ei}function mi(e){let n=Jn,r,o,t,i,c,u,h,x,s;for(;n+Se+5<=e.byteLength;){if(xi(e,n))o=n+ge;else if(Ei(e,n))t=n+ge;else if(Ii(e,n))r=e.getUint16(n+ge),i=n+ni;else if(Ai(e,n))r=e.getUint16(n+ge),c=n+ti;else if(Fi(e,n))h||(h=[]),r=e.getUint16(n+ge),h.push(Ci(n,r));else if(_i(e,n))h||(h=[]),r=e.getUint16(n+ge),h.push(Pi(n,r));else if(Ui(e,n))r=e.getUint16(n+ge),u=n+ri;else if(Si(e,n)){r=e.getUint16(n+ge);const f=n+Vn,a=r-(Vn-ge),l=e.getUint8(n+Ot),E=e.getUint8(n+oi);x||(x=[]),x.push({offset:f,length:a,chunkNumber:l,chunksTotal:E})}else if(Ti(e,n))r=e.getUint16(n+ge),s=n+ii;else if(Ni(e,n))r=e.getUint16(n+ge);else if(Ri(e,n)){n++;continue}else break;n+=ge+r}return{hasAppMarkers:n>Jn,fileDataOffset:o||t,jfifDataOffset:i,tiffHeaderOffset:c,iptcDataOffset:u,xmpChunks:h,iccChunks:x,mpfDataOffset:s}}function xi(e,n){return e.getUint16(n)===Dt}function Ei(e,n){return e.getUint16(n)===Mt}function Si(e,n){const r=Nn.length;return e.getUint16(n)===Lt&&X(e,n+Se,r)===Nn}function Ti(e,n){const r=et.length;return e.getUint16(n)===Lt&&X(e,n+Se,r)===et}function Ii(e,n){const r=Rn.length;return e.getUint16(n)===vt&&X(e,n+Se,r)===gi&&e.getUint8(n+Se+r)===0}function Ai(e,n){const r=Rn.length;return e.getUint16(n)===Gn&&X(e,n+Se,r)===Rn&&e.getUint8(n+Se+r)===0}function Fi(e,n){return e.getUint16(n)===Gn&&bi(e,n)}function bi(e,n){const r=nt.length;return X(e,n+Se,r)===nt}function _i(e,n){return e.getUint16(n)===Gn&&yi(e,n)}function yi(e,n){const r=tt.length;return X(e,n+Se,r)===tt}function Ci(e,n){return{dataOffset:e+qn,length:n-(qn-ge)}}function Pi(e,n){return{dataOffset:e+Qn,length:n-(Qn-ge)}}function Ui(e,n){const r=rt.length;return e.getUint16(n)===fi&&X(e,n+Se,r)===rt&&e.getUint8(n+Se+r)===0}function Ni(e,n){const r=e.getUint16(n);return r>=vt&&r<=li||r===di||r===Dt||r===Mt||r===si||r===ai||r===ci||r===ui}function Ri(e,n){return e.getUint16(n)===hi}const it={isPngFile:Mi,findPngOffsets:vi},On=`PNG\r

`,un=4,ye=4,nn=0,je=un,le=un+ye,Dn="XML:com.adobe.xmp\0",Oi="tEXt",wt="iTXt",kt="pHYs",Gt="tIME",Di="eXIf";function Mi(e){return!!e&&X(e,0,On.length)===On}function vi(e){const r={hasAppMarkers:!1};let o=On.length;for(;o+un+ye<=e.byteLength;){if(Li(e,o))r.hasAppMarkers=!0,r.pngHeaderOffset=o+le;else if(wi(e,o)){const t=Hi(e,o);t!==void 0&&(r.hasAppMarkers=!0,r.xmpChunks=[{dataOffset:t,length:e.getUint32(o+nn)-(t-(o+le))}])}else if(ki(e,o)){r.hasAppMarkers=!0;const t=X(e,o+je,ye);r.pngTextChunks||(r.pngTextChunks=[]),r.pngTextChunks.push({length:e.getUint32(o+nn),type:t,offset:o+le})}else Gi(e,o)?(r.hasAppMarkers=!0,r.tiffHeaderOffset=o+le):Bi(e,o)&&(r.hasAppMarkers=!0,r.pngChunkOffsets||(r.pngChunkOffsets=[]),r.pngChunkOffsets.push(o+nn));o+=e.getUint32(o+nn)+un+ye+4}return r}function Li(e,n){const r="IHDR";return X(e,n+je,ye)===r}function wi(e,n){const r="iTXt";return X(e,n+je,ye)===r&&X(e,n+le,Dn.length)===Dn}function ki(e,n){const r="tEXt",o="iTXt",t=X(e,n+je,ye);return t===r||t===o}function Gi(e,n){return X(e,n+je,ye)===Di}function Bi(e,n){const r=[kt,Gt],o=X(e,n+je,ye);return r.includes(o)}function Hi(e,n){n+=le+Dn.length+1+1;let t=0;for(;t<2&&n<e.byteLength;)e.getUint8(n)===0&&t++,n++;if(!(t<2))return n}const ot={isHeicFile:ji,findHeicOffsets:Zi};function ji(e){if(!e)return!1;const n="ftyp",r=4,o=["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"],t=4,i=X(e,r+n.length,t);return X(e,r,n.length)===n&&o.indexOf(i)!==-1}function Zi(e){{const{offset:n,length:r}=$i(e);if(n===void 0)return{hasAppMarkers:!1};const o=Math.min(n+r,e.byteLength),{exifItemOffset:t,ilocOffset:i,colrOffset:c}=Yi(e,n,o),u=Ki(e,t,i,o),h=Ji(e,c,o);return{hasAppMarkers:u!==void 0||h!==void 0,tiffHeaderOffset:u,iccChunks:h}}}function $i(e){let i=0;for(;i+4+4<=e.byteLength;){const c=Bt(e,i);if(c>=8&&X(e,i+4,4)==="meta")return{offset:i,length:c};i+=c}return{offset:void 0,length:0}}function Bt(e,n){const o=e.getUint32(n);return zi(o)?e.byteLength-n:Xi(o)&&Wi(e,n)?e.getUint32(n+12):o}function zi(e){return e===0}function Xi(e){return e===1}function Wi(e,n){return e.getUint32(n+8)===0}function Yi(e,n,r){const i={ilocOffset:void 0,exifItemOffset:void 0,colrOffset:void 0};for(;n+4<=r&&(!i.ilocOffset||!i.exifItemOffset||!i.colrOffset);){const c=X(e,n,4);c==="iloc"?i.ilocOffset=n:c==="Exif"?i.exifItemOffset=n+-4:c==="colr"&&(i.colrOffset=n+-4),n++}return i}function Ki(e,n,r,o){if(!r||!n||n+2>o)return;const s=e.getUint16(n);for(r+=12;r+16<=o;){if(e.getUint16(r)===s){const a=e.getUint32(r+8);if(a+4<=e.byteLength){const E=e.getUint32(a)+4;return a+E}}r+=16}}function Ji(e,n,r){if(!n||n+12>r)return;const c=X(e,n+8,4);if(!(c!=="prof"&&c!=="rICC"))return[{offset:n+12,length:Bt(e,n)-12,chunkNumber:1,chunksTotal:1}]}const st={isWebpFile:qi,findOffsets:Qi};function qi(e){const r="RIFF",t="WEBP";return!!e&&X(e,0,r.length)===r&&X(e,8,t.length)===t}function Qi(e){const o="Exif\0\0";let i=12,c=!1,u,h,x;for(;i+8<e.byteLength;){const s=X(e,i,4),f=e.getUint32(i+4,!0);s==="EXIF"?(c=!0,X(e,i+8,o.length)===o?u=i+8+o.length:u=i+8):s==="XMP "?(c=!0,h=[{dataOffset:i+8,length:f}]):s==="ICCP"&&(c=!0,x=[{offset:i+8,length:f,chunkNumber:1,chunksTotal:1}]),i+=8+(f%2===0?f:f+1)}return{hasAppMarkers:c,tiffHeaderOffset:u,xmpChunks:h,iccChunks:x}}const Vi={parseAppMarkers:eo};function eo(e){if(Yn.isTiffFile(e))return Yn.findTiffOffsets();if(Kn.isJpegFile(e))return Kn.findJpegOffsets(e);if(it.isPngFile(e))return it.findPngOffsets(e);if(ot.isHeicFile(e))return ot.findHeicOffsets(e);if(st.isWebpFile(e))return st.findOffsets(e);throw new Error("Invalid image format")}const Ht={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},Mn={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13},H={getAsciiValue:no,getByteAt:jt,getAsciiAt:to,getShortAt:ro,getLongAt:fn,getRationalAt:io,getUndefinedAt:oo,getSlongAt:vn,getSrationalAt:so,getIfdPointerAt:ao,typeSizes:Ht,tagTypes:Mn,getTypeSize:co};function no(e){return e.map(n=>String.fromCharCode(n))}function jt(e,n){return e.getUint8(n)}function to(e,n){return e.getUint8(n)}function ro(e,n,r){return e.getUint16(n,r===He.LITTLE_ENDIAN)}function fn(e,n,r){return e.getUint32(n,r===He.LITTLE_ENDIAN)}function io(e,n,r){return[fn(e,n,r),fn(e,n+4,r)]}function oo(e,n){return jt(e,n)}function vn(e,n,r){return e.getInt32(n,r===He.LITTLE_ENDIAN)}function so(e,n,r){return[vn(e,n,r),vn(e,n+4,r)]}function ao(e,n,r){return fn(e,n,r)}function co(e){if(Mn[e]===void 0)throw new Error("No such type found.");return Ht[Mn[e]]}const z={ApertureValue:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2),ColorSpace(e){return e===1?"sRGB":e===65535?"Uncalibrated":"Unknown"},ComponentsConfiguration(e){return e.map(n=>{if(n===49)return"Y";if(n===50)return"Cb";if(n===51)return"Cr";if(n===52)return"R";if(n===53)return"G";if(n===54)return"B"}).join("")},Contrast(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},CustomRendered(e){return e===0?"Normal process":e===1?"Custom process":"Unknown"},ExposureMode(e){return e===0?"Auto exposure":e===1?"Manual exposure":e===2?"Auto bracket":"Unknown"},ExposureProgram(e){return e===0?"Undefined":e===1?"Manual":e===2?"Normal program":e===3?"Aperture priority":e===4?"Shutter priority":e===5?"Creative program":e===6?"Action program":e===7?"Portrait mode":e===8?"Landscape mode":e===9?"Bulb":"Unknown"},ExposureTime(e){return e[0]>=e[1]?`${Math.round(e[0]/e[1])}`:e[0]!==0?`1/${Math.round(e[1]/e[0])}`:`0/${e[1]}`},FNumber:e=>`f/${e[0]/e[1]}`,FocalLength:e=>e[0]/e[1]+" mm",FocalPlaneResolutionUnit(e){return e===2?"inches":e===3?"centimeters":"Unknown"},LightSource:e=>e===1?"Daylight":e===2?"Fluorescent":e===3?"Tungsten (incandescent light)":e===4?"Flash":e===9?"Fine weather":e===10?"Cloudy weather":e===11?"Shade":e===12?"Daylight fluorescent (D 5700 – 7100K)":e===13?"Day white fluorescent (N 4600 – 5400K)":e===14?"Cool white fluorescent (W 3900 – 4500K)":e===15?"White fluorescent (WW 3200 – 3700K)":e===17?"Standard light A":e===18?"Standard light B":e===19?"Standard light C":e===20?"D55":e===21?"D65":e===22?"D75":e===23?"D50":e===24?"ISO studio tungsten":e===255?"Other light source":"Unknown",MeteringMode(e){return e===1?"Average":e===2?"CenterWeightedAverage":e===3?"Spot":e===4?"MultiSpot":e===5?"Pattern":e===6?"Partial":e===255?"Other":"Unknown"},ResolutionUnit(e){return e===2?"inches":e===3?"centimeters":"Unknown"},Saturation(e){return e===0?"Normal":e===1?"Low saturation":e===2?"High saturation":"Unknown"},SceneCaptureType(e){return e===0?"Standard":e===1?"Landscape":e===2?"Portrait":e===3?"Night scene":"Unknown"},Sharpness(e){return e===0?"Normal":e===1?"Soft":e===2?"Hard":"Unknown"},ShutterSpeedValue(e){const n=Math.pow(2,e[0]/e[1]);return n<=1?`${Math.round(1/n)}`:`1/${Math.round(n)}`},WhiteBalance(e){return e===0?"Auto white balance":e===1?"Manual white balance":"Unknown"},XResolution:e=>""+Math.round(e[0]/e[1]),YResolution:e=>""+Math.round(e[0]/e[1])},uo={11:"ProcessingSoftware",254:{name:"SubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"})[e]||"Unknown"},255:{name:"OldSubfileType",description:e=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"})[e]||"Unknown"},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:e=>({1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"})[e]||"Unknown"},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:e=>({1:"Normal",2:"Reversed"})[e]||"Unknown"},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:e=>e===1?"top-left":e===2?"top-right":e===3?"bottom-right":e===4?"bottom-left":e===5?"left-top":e===6?"right-top":e===7?"right-bottom":e===8?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:z.XResolution},283:{name:"YResolution",description:z.YResolution},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:e=>""+Math.round(e[0]/e[1])},287:{name:"YPosition",description:e=>""+Math.round(e[0]/e[1])},290:{name:"GrayResponseUnit",description:e=>({1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"})[e]||"Unknown"},296:{name:"ResolutionUnit",description:z.ResolutionUnit},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:e=>e.map(n=>`${n[0]}/${n[1]}`).join(", ")},319:{name:"PrimaryChromaticities",description:e=>e.map(n=>`${n[0]}/${n[1]}`).join(", ")},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:e=>({1:"CMYK",2:"Not CMYK"})[e]||"Unknown"},337:"TargetPrinter",338:{name:"ExtraSamples",description:e=>({0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"})[e]||"Unknown"},339:{name:"SampleFormat",description:e=>{const n={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(e)?e.map(r=>n[r]||"Unknown").join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:e=>e.map(n=>""+n[0]/n[1]).join("/")},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:e=>e===1?"centered":e===2?"co-sited":"undefined "+e},532:{name:"ReferenceBlackWhite",description:e=>e.map(n=>""+n[0]/n[1]).join(", ")},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:e=>e.join("; ")},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:e=>({0:"Unsafe",1:"Safe"})[e]||"Unknown"},50778:{name:"CalibrationIlluminant1",description:z.LightSource},50779:{name:"CalibrationIlluminant2",description:z.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:e=>({0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"})[e]||"Unknown"},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:e=>({1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"})[e]||"Unknown"},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51108:{name:"ProfileLookTableEncoding",description:e=>({0:"Linear",1:"sRGB"})[e]||"Unknown"},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:e=>({0:"Auto",1:"None"})[e]||"Unknown"},51111:"NewRawImageDigest",51112:"RawToPreviewGain"},fo={33434:{name:"ExposureTime",description:z.ExposureTime},33437:{name:"FNumber",description:z.FNumber},34850:{name:"ExposureProgram",description:z.ExposureProgram},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:e=>({1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"})[e]||"Unknown"},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:e=>oe(e)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:z.ComponentsConfiguration},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:z.ShutterSpeedValue},37378:{name:"ApertureValue",description:z.ApertureValue},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:e=>Math.pow(Math.sqrt(2),e[0]/e[1]).toFixed(2)},37382:{name:"SubjectDistance",description:e=>e[0]/e[1]+" m"},37383:{name:"MeteringMode",description:z.MeteringMode},37384:{name:"LightSource",description:z.LightSource},37385:{name:"Flash",description:e=>e===0?"Flash did not fire":e===1?"Flash fired":e===5?"Strobe return light not detected":e===7?"Strobe return light detected":e===9?"Flash fired, compulsory flash mode":e===13?"Flash fired, compulsory flash mode, return light not detected":e===15?"Flash fired, compulsory flash mode, return light detected":e===16?"Flash did not fire, compulsory flash mode":e===24?"Flash did not fire, auto mode":e===25?"Flash fired, auto mode":e===29?"Flash fired, auto mode, return light not detected":e===31?"Flash fired, auto mode, return light detected":e===32?"No flash function":e===65?"Flash fired, red-eye reduction mode":e===69?"Flash fired, red-eye reduction mode, return light not detected":e===71?"Flash fired, red-eye reduction mode, return light detected":e===73?"Flash fired, compulsory flash mode, red-eye reduction mode":e===77?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":e===79?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":e===89?"Flash fired, auto mode, red-eye reduction mode":e===93?"Flash fired, auto mode, return light not detected, red-eye reduction mode":e===95?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"},37386:{name:"FocalLength",description:z.FocalLength},37393:"ImageNumber",37394:{name:"SecurityClassification",description:e=>({C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"})[e]||"Unknown"},37395:"ImageHistory",37396:{name:"SubjectArea",description:e=>e.length===2?`Location; X: ${e[0]}, Y: ${e[1]}`:e.length===3?`Circle; X: ${e[0]}, Y: ${e[1]}, diameter: ${e[2]}`:e.length===4?`Rectangle; X: ${e[0]}, Y: ${e[1]}, width: ${e[2]}, height: ${e[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:Cn},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37888:{name:"AmbientTemperature",description:e=>e[0]/e[1]+" °C"},37889:{name:"Humidity",description:e=>e[0]/e[1]+" %"},37890:{name:"Pressure",description:e=>e[0]/e[1]+" hPa"},37891:{name:"WaterDepth",description:e=>e[0]/e[1]+" m"},37892:{name:"Acceleration",description:e=>e[0]/e[1]+" mGal"},37893:{name:"CameraElevationAngle",description:e=>e[0]/e[1]+" °"},40960:{name:"FlashpixVersion",description:e=>e.map(n=>String.fromCharCode(n)).join("")},40961:{name:"ColorSpace",description:z.ColorSpace},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:z.FocalPlaneResolutionUnit},41492:{name:"SubjectLocation",description:([e,n])=>`X: ${e}, Y: ${n}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:e=>e===1?"Undefined":e===2?"One-chip color area sensor":e===3?"Two-chip color area sensor":e===4?"Three-chip color area sensor":e===5?"Color sequential area sensor":e===7?"Trilinear sensor":e===8?"Color sequential linear sensor":"Unknown"},41728:{name:"FileSource",description:e=>e===3?"DSC":"Unknown"},41729:{name:"SceneType",description:e=>e===1?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:z.CustomRendered},41986:{name:"ExposureMode",description:z.ExposureMode},41987:{name:"WhiteBalance",description:z.WhiteBalance},41988:{name:"DigitalZoomRatio",description:e=>e[0]===0?"Digital zoom was not used":""+e[0]/e[1]},41989:{name:"FocalLengthIn35mmFilm",description:e=>e===0?"Unknown":e},41990:{name:"SceneCaptureType",description:z.SceneCaptureType},41991:{name:"GainControl",description:e=>e===0?"None":e===1?"Low gain up":e===2?"High gain up":e===3?"Low gain down":e===4?"High gain down":"Unknown"},41992:{name:"Contrast",description:z.Contrast},41993:{name:"Saturation",description:z.Saturation},41994:{name:"Sharpness",description:z.Sharpness},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:e=>e===1?"Macro":e===2?"Close view":e===3?"Distant view":"Unknown"},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:e=>{const n=`${e[0][0]/e[0][1]}-${e[1][0]/e[1][1]} mm`;return e[3][1]===0?`${n} f/?`:`${n} f/${1/(e[2][1]/e[2][1]/(e[3][0]/e[3][1]))}`}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:e=>({1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"})[e]||"Unknown"},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},lo={0:{name:"GPSVersionID",description:e=>e[0]===2&&e[1]===2&&e[2]===0&&e[3]===0?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:e=>{const n=e.join("");return n==="N"?"North latitude":n==="S"?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:cn},3:{name:"GPSLongitudeRef",description:e=>{const n=e.join("");return n==="E"?"East longitude":n==="W"?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:cn},5:{name:"GPSAltitudeRef",description:e=>e===0?"Sea level":e===1?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:e=>e[0]/e[1]+" m"},7:{name:"GPSTimeStamp",description:e=>e.map(([n,r])=>{const o=n/r;return/^\d(\.|$)/.test(`${o}`)?`0${o}`:o}).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:e=>{const n=e.join("");return n==="A"?"Measurement in progress":n==="V"?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:e=>{const n=e.join("");return n==="2"?"2-dimensional measurement":n==="3"?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:e=>{const n=e.join("");return n==="K"?"Kilometers per hour":n==="M"?"Miles per hour":n==="N"?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:e=>{const n=e.join("");return n==="T"?"True direction":n==="M"?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:e=>{const n=e.join("");return n==="T"?"True direction":n==="M"?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:e=>{const n=e.join("");return n==="N"?"North latitude":n==="S"?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},21:{name:"GPSDestLongitudeRef",description:e=>{const n=e.join("");return n==="E"?"East longitude":n==="W"?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:e=>e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600},23:{name:"GPSDestBearingRef",description:e=>{const n=e.join("");return n==="T"?"True direction":n==="M"?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:e=>{const n=e.join("");return n==="K"?"Kilometers":n==="M"?"Miles":n==="N"?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:Cn},28:{name:"GPSAreaInformation",description:Cn},29:"GPSDateStamp",30:{name:"GPSDifferential",description:e=>e===0?"Measurement without differential correction":e===1?"Differential correction applied":"Unknown"},31:"GPSHPositioningError"},ho={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:e=>oe(e)},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},go={45056:{name:"MPFVersion",description:e=>oe(e)},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},at=K({},uo,fo),Oe={"0th":at,exif:at,gps:lo,interoperability:ho,mpf:go},ct="Exif IFD Pointer",ut="GPS Info IFD Pointer",ft="Interoperability IFD Pointer",po={1:H.getByteAt,2:H.getAsciiAt,3:H.getShortAt,4:H.getLongAt,5:H.getRationalAt,7:H.getUndefinedAt,9:H.getSlongAt,10:H.getSrationalAt,13:H.getIfdPointerAt},lt={read:mo,readMpf:Io};function mo(e,n,r){const o=He.getByteOrder(e,n);let t=xo(e,n,o,r);return t=Eo(t,e,n,o,r),t=So(t,e,n,o,r),t=To(t,e,n,o,r),t}function xo(e,n,r,o){return Je(e,"0th",n,Zt(e,n,r),r,o)}function Zt(e,n,r){return n+H.getLongAt(e,n+4,r)}function Eo(e,n,r,o,t){return e[ct]!==void 0?K(e,Je(n,"exif",r,r+e[ct].value,o,t)):e}function So(e,n,r,o,t){return e[ut]!==void 0?K(e,Je(n,"gps",r,r+e[ut].value,o,t)):e}function To(e,n,r,o,t){return e[ft]!==void 0?K(e,Je(n,"interoperability",r,r+e[ft].value,o,t)):e}function Io(e,n,r){const o=He.getByteOrder(e,n),t=Je(e,"mpf",n,Zt(e,n,o),o,r);return Ao(e,n,t,o)}function Ao(e,n,r,o){if(!r.MPEntry)return r;const i=[];for(let c=0;c<Math.ceil(r.MPEntry.value.length/16);c++){i[c]={};const u=Ve(r.MPEntry.value,c*16,H.getTypeSize("LONG"),o);i[c].ImageFlags=Fo(u),i[c].ImageFormat=bo(u),i[c].ImageType=_o(u);const h=Ve(r.MPEntry.value,c*16+4,H.getTypeSize("LONG"),o);i[c].ImageSize={value:h,description:""+h};const x=yo(c)?0:Ve(r.MPEntry.value,c*16+8,H.getTypeSize("LONG"),o)+n;i[c].ImageOffset={value:x,description:""+x};const s=Ve(r.MPEntry.value,c*16+12,H.getTypeSize("SHORT"),o);i[c].DependentImage1EntryNumber={value:s,description:""+s};const f=Ve(r.MPEntry.value,c*16+14,H.getTypeSize("SHORT"),o);i[c].DependentImage2EntryNumber={value:f,description:""+f},i[c].image=e.buffer.slice(x,x+h),Nt(i[c],"base64",function(){return Rt(this.image)})}return r.Images=i,r}function Ve(e,n,r,o){if(o===He.LITTLE_ENDIAN){let i=0;for(let c=0;c<r;c++)i+=e[n+c]<<8*c;return i}let t=0;for(let i=0;i<r;i++)t+=e[n+i]<<8*(r-1-i);return t}function Fo(e){const n=[e>>31&1,e>>30&1,e>>29&1],r=[];return n[0]&&r.push("Dependent Parent Image"),n[1]&&r.push("Dependent Child Image"),n[2]&&r.push("Representative Image"),{value:n,description:r.join(", ")||"None"}}function bo(e){const n=e>>24&7;return{value:n,description:n===0?"JPEG":"Unknown"}}function _o(e){const n=e&16777215;return{value:n,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[n]||"Unknown"}}function yo(e){return e===0}function Je(e,n,r,o,t,i){const c=H.getTypeSize("SHORT"),u=12,h={},x=Co(e,o,t);o+=c;for(let s=0;s<x&&!(o+u>e.byteLength);s++){const f=Po(e,n,r,o,t,i);f!==void 0&&(h[f.name]={id:f.id,value:f.value,description:f.description}),o+=u}if(o<e.byteLength-H.getTypeSize("LONG")){const s=H.getLongAt(e,o,t);s!==0&&(h.Thumbnail=Je(e,n,r,r+s,t,!0))}return h}function Co(e,n,r){return n+H.getTypeSize("SHORT")<=e.byteLength?H.getShortAt(e,n,r):0}function Po(e,n,r,o,t,i){const u=H.getTypeSize("SHORT"),h=u+H.getTypeSize("SHORT"),x=h+H.getTypeSize("LONG"),s=H.getShortAt(e,o,t),f=H.getShortAt(e,o+u,t),a=H.getLongAt(e,o+h,t);let l;if(H.typeSizes[f]===void 0||!i&&Oe[n][s]===void 0)return;if(Uo(f,a))l=dt(e,o+x,f,a,t);else{const I=H.getLongAt(e,o+x,t);if(No(e,r,I,f,a)){const T=s===33723;l=dt(e,r+I,f,a,t,T)}else l="<faulty value>"}f===H.tagTypes.ASCII&&(l=Ro(l),l=Oo(l));let E=`undefined-${s}`,_=l;if(Oe[n][s]!==void 0)if(Oe[n][s].name!==void 0&&Oe[n][s].description!==void 0){E=Oe[n][s].name;try{_=Oe[n][s].description(l)}catch{_=ht(l)}}else f===H.tagTypes.RATIONAL||f===H.tagTypes.SRATIONAL?(E=Oe[n][s],_=""+l[0]/l[1]):(E=Oe[n][s],_=ht(l));return{id:s,name:E,value:l,description:_}}function Uo(e,n){return H.typeSizes[e]*n<=H.getTypeSize("LONG")}function dt(e,n,r,o,t,i=!1){let c=[];i&&(o=o*H.typeSizes[r],r=H.tagTypes.BYTE);for(let u=0;u<o;u++)c.push(po[r](e,n,t)),n+=H.typeSizes[r];return r===H.tagTypes.ASCII?c=H.getAsciiValue(c):c.length===1&&(c=c[0]),c}function No(e,n,r,o,t){return n+r+H.typeSizes[o]*t<=e.byteLength}function Ro(e){const n=[];let r=0;for(let o=0;o<e.length;o++){if(e[o]==="\0"){r++;continue}n[r]===void 0&&(n[r]=""),n[r]+=e[o]}return n}function Oo(e){try{return e.map(n=>decodeURIComponent(escape(n)))}catch{return e}}function ht(e){return e instanceof Array?e.join(", "):e}const Do={read:Mo};function Mo(e,n){const r=vo(e,n),o=Go(e,n,r);return{"Bits Per Sample":Lo(e,n,r),"Image Height":wo(e,n,r),"Image Width":ko(e,n,r),"Color Components":o,Subsampling:o&&Bo(e,n,o.value,r)}}function vo(e,n){return H.getShortAt(e,n)}function Lo(e,n,r){if(2+1>r)return;const i=H.getByteAt(e,n+2);return{value:i,description:""+i}}function wo(e,n,r){if(3+2>r)return;const i=H.getShortAt(e,n+3);return{value:i,description:`${i}px`}}function ko(e,n,r){if(5+2>r)return;const i=H.getShortAt(e,n+5);return{value:i,description:`${i}px`}}function Go(e,n,r){if(7+1>r)return;const i=H.getByteAt(e,n+7);return{value:i,description:""+i}}function Bo(e,n,r,o){if(8+3*r>o)return;const c=[];for(let u=0;u<r;u++){const h=n+8+u*3;c.push([H.getByteAt(e,h),H.getByteAt(e,h+1),H.getByteAt(e,h+2)])}return{value:c,description:c.length>1?Ho(c)+jo(c):""}}function Ho(e){const n={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return e.map(r=>n[r[0]]).join("")}function jo(e){const n={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return e.length===0||e[0][1]===void 0||n[e[0][1]]===void 0?"":n[e[0][1]]}const Zo={read:$o};function $o(e,n){const r=zo(e,n),o=qo(e,n,r),t=Qo(e,n,r),i={"JFIF Version":Xo(e,n,r),"Resolution Unit":Wo(e,n,r),XResolution:Ko(e,n,r),YResolution:Jo(e,n,r),"JFIF Thumbnail Width":o,"JFIF Thumbnail Height":t};if(o!==void 0&&t!==void 0){const c=Vo(e,n,3*o.value*t.value,r);c&&(i["JFIF Thumbnail"]=c)}for(const c in i)i[c]===void 0&&delete i[c];return i}function zo(e,n){return H.getShortAt(e,n)}function Xo(e,n,r){if(7+2>r)return;const i=H.getByteAt(e,n+7),c=H.getByteAt(e,n+7+1);return{value:i*256+c,description:i+"."+c}}function Wo(e,n,r){if(9+1>r)return;const i=H.getByteAt(e,n+9);return{value:i,description:Yo(i)}}function Yo(e){return e===0?"None":e===1?"inches":e===2?"cm":"Unknown"}function Ko(e,n,r){if(10+2>r)return;const i=H.getShortAt(e,n+10);return{value:i,description:""+i}}function Jo(e,n,r){if(12+2>r)return;const i=H.getShortAt(e,n+12);return{value:i,description:""+i}}function qo(e,n,r){if(14+1>r)return;const i=H.getByteAt(e,n+14);return{value:i,description:`${i}px`}}function Qo(e,n,r){if(15+1>r)return;const i=H.getByteAt(e,n+15);return{value:i,description:`${i}px`}}function Vo(e,n,r,o){return r===0||16+r>o?void 0:{value:e.buffer.slice(n+16,n+16+r),description:"<24-bit RGB pixel data>"}}const Me={iptc:{256:{name:"Model Version",description:e=>((e[0]<<8)+e[1]).toString()},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:e=>((e[0]<<8)+e[1]).toString()},278:{name:"File Format Version",description:e=>((e[0]<<8)+e[1]).toString()},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:In},336:{name:"Time Sent",description:An},346:{name:"Coded Character Set",description:gt,encoding_name:gt},356:"UNO",376:{name:"ARM Identifier",description:e=>((e[0]<<8)+e[1]).toString()},378:{name:"ARM Version",description:e=>((e[0]<<8)+e[1]).toString()},512:{name:"Record Version",description:e=>((e[0]<<8)+e[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:e=>oe(e)==="01"?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:e=>{const n=oe(e).split(":");return n[2]+(n[3]?"/"+n[3]:"")+(n[4]?"/"+n[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:e=>{const n=oe(e);return n==="01"?"Object Kill":n==="02"?"Object Replace":n==="03"?"Object Append":n==="04"?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:In},572:{name:"Time Created",description:An},574:{name:"Digital Creation Date",description:In},575:{name:"Digital Creation Time",description:An},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:e=>{const n=oe(e);return n==="a"?"morning":n==="p"?"evening":n==="b"?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:e=>e},642:"Image Type",643:{name:"Image Orientation",description:e=>{const n=oe(e);return n==="P"?"Portrait":n==="L"?"Landscape":n==="S"?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:e=>{const n=oe(e),r=n.charAt(0),o=n.charAt(1);let t="";return r==="1"?t+="Mono":r==="2"&&(t+="Stereo"),o==="A"?t+=", actuality":o==="C"?t+=", question and answer session":o==="M"?t+=", music, transmitted by itself":o==="Q"?t+=", response to a question":o==="R"?t+=", raw sound":o==="S"?t+=", scener":o==="V"?t+=", voicer":o==="W"&&(t+=", wrap"),t!==""?t:n}},663:{name:"Audio Sampling Rate",description:e=>parseInt(oe(e),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:e=>{const n=parseInt(oe(e),10);return n+(n===1?" bit":" bits")}},665:{name:"Audio Duration",description:e=>{const n=oe(e);return n.length>=6?n.substr(0,2)+":"+n.substr(2,2)+":"+n.substr(4,2):n}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:e=>e.length===2?"ObjectData Preview File Format":"Record 2 destination",description:e=>{if(e.length===2){const n=(e[0]<<8)+e[1];return n===0?"No ObjectData":n===1?"IPTC-NAA Digital Newsphoto Parameter Record":n===2?"IPTC7901 Recommended Message Format":n===3?"Tagged Image File Format (Adobe/Aldus Image data)":n===4?"Illustrator (Adobe Graphics data)":n===5?"AppleSingle (Apple Computer Inc)":n===6?"NAA 89-3 (ANPA 1312)":n===7?"MacBinary II":n===8?"IPTC Unstructured Character Oriented File Format (UCOFF)":n===9?"United Press International ANPA 1312 variant":n===10?"United Press International Down-Load Message":n===11?"JPEG File Interchange (JFIF)":n===12?"Photo-CD Image-Pac (Eastman Kodak)":n===13?"Microsoft Bit Mapped Graphics File [*.BMP]":n===14?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":n===15?"Audio plus Moving Video [*.AVI] (Microsoft)":n===16?"PC DOS/Windows Executable Files [*.COM][*.EXE]":n===17?"Compressed Binary File [*.ZIP] (PKWare Inc)":n===18?"Audio Interchange File Format AIFF (Apple Computer Inc)":n===19?"RIFF Wave (Microsoft Corporation)":n===20?"Freehand (Macromedia/Aldus)":n===21?'Hypertext Markup Language "HTML" (The Internet Society)':n===22?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":n===23?"MPEG 2 Audio Layer 3, ISO/IEC":n===24?"Portable Document File (*.PDF) Adobe":n===25?"News Industry Text Format (NITF)":n===26?"Tape Archive (*.TAR)":n===27?"Tidningarnas Telegrambyrå NITF version (TTNITF DTD)":n===28?"Ritzaus Bureau NITF version (RBNITF DTD)":n===29?"Corel Draw [*.CDR]":`Unknown format ${n}`}return oe(e)}},713:{name:"ObjectData Preview File Format Version",description:(e,n)=>{const r={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},o=oe(e);if(n["ObjectData Preview File Format"]){const t=oe(n["ObjectData Preview File Format"].value);if(r[t]&&r[t][o])return r[t][o]}return o}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:e=>e[0].toString()},1812:{name:"Max Subfile Size",description:e=>{let n=0;for(let r=0;r<e.length;r++)n=(n<<8)+e[r];return n.toString()}},1882:{name:"ObjectData Size Announced",description:e=>{let n=0;for(let r=0;r<e.length;r++)n=(n<<8)+e[r];return n.toString()}},1887:{name:"Maximum ObjectData Size",description:e=>{let n=0;for(let r=0;r<e.length;r++)n=(n<<8)+e[r];return n.toString()}}}};function In(e){const n=oe(e);return n.length>=8?n.substr(0,4)+"-"+n.substr(4,2)+"-"+n.substr(6,2):n}function An(e){const n=oe(e);let r=n;return n.length>=6&&(r=n.substr(0,2)+":"+n.substr(2,2)+":"+n.substr(4,2),n.length===11&&(r+=n.substr(6,1)+n.substr(7,2)+":"+n.substr(9,2))),r}function gt(e){const n=oe(e);return n==="\x1B%G"?"UTF-8":n==="\x1B%5"?"Windows-1252":n==="\x1B%/G"?"UTF-8 Level 1":n==="\x1B%/H"?"UTF-8 Level 2":n==="\x1B%/I"?"UTF-8 Level 3":n==="\x1B/A"?"ISO-8859-1":n==="\x1B/B"?"ISO-8859-2":n==="\x1B/C"?"ISO-8859-3":n==="\x1B/D"?"ISO-8859-4":n==="\x1B/@"?"ISO-8859-5":n==="\x1B/G"?"ISO-8859-6":n==="\x1B/F"?"ISO-8859-7":n==="\x1B/H"?"ISO-8859-8":"Unknown"}const es={get:ns};function ns(){if(typeof TextDecoder<"u")return TextDecoder}const ts=5,$t={decode:rs,TAG_HEADER_SIZE:ts};function rs(e,n){const r=es.get();if(typeof r<"u"&&e!==void 0)try{return new r(e).decode(Uint8Array.from(n))}catch{}const o=n.map(t=>String.fromCharCode(t)).join("");return is(o)}function is(e){try{return decodeURIComponent(escape(e))}catch{return e}}const os=943868237,zt=4,Fn=zt+8,ss=1028,Xt=5,pt={read:as};function as(e,n,r){try{if(Array.isArray(e))return mt(new DataView(Uint8Array.from(e).buffer),{size:e.length},0,r);const{naaBlock:o,dataOffset:t}=cs(e,n);return mt(e,o,t,r)}catch{return{}}}function cs(e,n){for(;n+Fn<=e.byteLength;){const r=us(e,n);if(fs(r))return{naaBlock:r,dataOffset:n+Fn};n+=Fn+r.size+ls(r)}throw new Error("No IPTC NAA resource block.")}function us(e,n){if(e.getUint32(n,!1)!==os)throw new Error("Not an IPTC resource block.");return{type:e.getUint16(n+zt),size:e.getUint16(n+10)}}function fs(e){return e.type===ss}function ls(e){return e.size%2!==0?1:0}function mt(e,n,r,o){const t={};let i;const c=r+n.size;for(;r<c&&r<e.byteLength;){const{tag:u,tagSize:h}=ds(e,r,t,i,o);if(u===null)break;u&&("encoding"in u&&(i=u.encoding),t[u.name]===void 0||u.repeatable===void 0?t[u.name]={id:u.id,value:u.value,description:u.description}:(t[u.name]instanceof Array||(t[u.name]=[{id:t[u.name].id,value:t[u.name].value,description:t[u.name].description}]),t[u.name].push({id:u.id,value:u.value,description:u.description}))),r+=Xt+h}return t}function ds(e,n,r,o,t){if(hs(e,n))return{tag:null,tagSize:0};const u=e.getUint16(n+1),h=e.getUint16(n+3);if(!t&&!Me.iptc[u])return{tag:void 0,tagSize:h};const x=gs(e,n+Xt,h),s={id:u,name:ps(Me.iptc[u],u,x),value:x,description:Es(Me.iptc[u],x,r,o)};return Is(u)&&(s.repeatable=!0),As(u)&&(s.encoding=Me.iptc[u].encoding_name(x)),{tag:s,tagSize:h}}function hs(e,n){return e.getUint8(n)!==28}function gs(e,n,r){const o=[];for(let t=0;t<r;t++)o.push(e.getUint8(n+t));return o}function ps(e,n,r){return e?ms(e)?e:xs(e)?e.name(r):e.name:`undefined-${n}`}function ms(e){return typeof e=="string"}function xs(e){return typeof e.name=="function"}function Es(e,n,r,o){if(Ts(e))try{return e.description(n,r)}catch{}return Ss(e,n)?$t.decode(o,n):n}function Ss(e,n){return e&&n instanceof Array}function Ts(e){return e&&e.description!==void 0}function Is(e){return Me.iptc[e]&&Me.iptc[e].repeatable}function As(e){return Me.iptc[e]&&Me.iptc[e].encoding_name!==void 0}const on={"tiff:Orientation"(e){return e==="1"?"Horizontal (normal)":e==="2"?"Mirror horizontal":e==="3"?"Rotate 180":e==="4"?"Mirror vertical":e==="5"?"Mirror horizontal and rotate 270 CW":e==="6"?"Rotate 90 CW":e==="7"?"Mirror horizontal and rotate 90 CW":e==="8"?"Rotate 270 CW":e},"tiff:ResolutionUnit":e=>z.ResolutionUnit(parseInt(e,10)),"tiff:XResolution":e=>$e(z.XResolution,e),"tiff:YResolution":e=>$e(z.YResolution,e),"exif:ApertureValue":e=>$e(z.ApertureValue,e),"exif:GPSLatitude":xt,"exif:GPSLongitude":xt,"exif:FNumber":e=>$e(z.FNumber,e),"exif:FocalLength":e=>$e(z.FocalLength,e),"exif:FocalPlaneResolutionUnit":e=>z.FocalPlaneResolutionUnit(parseInt(e,10)),"exif:ColorSpace":e=>z.ColorSpace(Fs(e)),"exif:ComponentsConfiguration"(e,n){if(/^\d, \d, \d, \d$/.test(n)){const r=n.split(", ").map(o=>o.charCodeAt(0));return z.ComponentsConfiguration(r)}return n},"exif:Contrast":e=>z.Contrast(parseInt(e,10)),"exif:CustomRendered":e=>z.CustomRendered(parseInt(e,10)),"exif:ExposureMode":e=>z.ExposureMode(parseInt(e,10)),"exif:ExposureProgram":e=>z.ExposureProgram(parseInt(e,10)),"exif:ExposureTime"(e){return Wt(e)?z.ExposureTime(e.split("/").map(n=>parseInt(n,10))):e},"exif:MeteringMode":e=>z.MeteringMode(parseInt(e,10)),"exif:Saturation":e=>z.Saturation(parseInt(e,10)),"exif:SceneCaptureType":e=>z.SceneCaptureType(parseInt(e,10)),"exif:Sharpness":e=>z.Sharpness(parseInt(e,10)),"exif:ShutterSpeedValue":e=>$e(z.ShutterSpeedValue,e),"exif:WhiteBalance":e=>z.WhiteBalance(parseInt(e,10))};function $e(e,n){return Wt(n)?e(n.split("/")):n}function Fs(e){return e.substring(0,2)==="0x"?parseInt(e.substring(2),16):parseInt(e,10)}function Wt(e){return/^-?\d+\/-?\d+$/.test(e)}function xt(e){const[n,r]=e.split(",");if(n!==void 0&&r!==void 0){const o=parseFloat(n),t=parseFloat(r),i=r.charAt(r.length-1);if(!Number.isNaN(o)&&!Number.isNaN(t))return""+(o+t/60)+i}return e}const bs={get:_s};function _s(){if(typeof DOMParser<"u")return DOMParser;try{return __non_webpack_require__("@xmldom/xmldom").DOMParser}catch{return}}const Et={read:ys};function ys(e,n){return typeof e=="string"?Tt({},e):Cs(e,n).reduce(Tt,{})}function Cs(e,n){if(n.length===0)return[];const r=[St(e,n.slice(0,1))];return n.length>1&&r.push(St(e,n.slice(1))),r}function St(e,n){const r=n.reduce((i,c)=>i+c.length,0),o=new Uint8Array(r);let t=0;for(let i=0;i<n.length;i++){const c=n[i],u=e.buffer.slice(c.dataOffset,c.dataOffset+c.length);o.set(new Uint8Array(u),t),t+=c.length}return new DataView(o.buffer)}function Tt(e,n){try{const{doc:r,raw:o}=Ps(n);e._raw=(e._raw||"")+o;const t=Yt(r);return K(e,Jt(Kt(t,!0)))}catch{return e}}function Ps(e){const n=bs.get();if(!n)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;const r=new n,o=typeof e=="string"?e:X(e,0,e.byteLength),t=r.parseFromString(Us(o),"application/xml");if(t.documentElement.nodeName==="parsererror")throw new Error(t.documentElement.textContent);return{doc:t,raw:o}}function Us(e){return e.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1")}function Yt(e){for(let n=0;n<e.childNodes.length;n++){if(e.childNodes[n].tagName==="x:xmpmeta")return Yt(e.childNodes[n]);if(e.childNodes[n].tagName==="rdf:RDF")return e.childNodes[n]}throw new Error}function Kt(e,n=!1){const r=Ns(e);return Rs(r)?n?{}:Os(r[0]):Ds(r)}function Ns(e){const n=[];for(let r=0;r<e.childNodes.length;r++)n.push(e.childNodes[r]);return n}function Rs(e){return e.length===1&&e[0].nodeName==="#text"}function Os(e){return e.nodeValue}function Ds(e){const n={};return e.forEach(r=>{if(Ms(r)){const o=vs(r);n[r.nodeName]!==void 0?(Array.isArray(n[r.nodeName])||(n[r.nodeName]=[n[r.nodeName]]),n[r.nodeName].push(o)):n[r.nodeName]=o}}),n}function Ms(e){return e.nodeName&&e.nodeName!=="#text"}function vs(e){return{attributes:Ls(e),value:Kt(e)}}function Ls(e){const n={};for(let r=0;r<e.attributes.length;r++)n[e.attributes[r].nodeName]=decodeURIComponent(escape(e.attributes[r].value));return n}function Jt(e){const n={};if(typeof e=="string")return e;for(const r in e){let o=e[r];Array.isArray(o)||(o=[o]),o.forEach(t=>{K(n,Bn(t.attributes)),typeof t.value=="object"&&K(n,qt(t.value))})}return n}function Bn(e){const n={};for(const r in e)ws(r)&&(n[mn(r)]={value:e[r],attributes:{},description:Pe(e[r],r)});return n}function ws(e){return e!=="rdf:parseType"&&!pn(e)}function pn(e){return e.split(":")[0]==="xmlns"}function mn(e){return/^MicrosoftPhoto(_\d+_)?:Rating$/i.test(e)?"RatingPercent":e.split(":")[1]}function Pe(e,n=void 0){if(Array.isArray(e)){const r=ks(e);return n&&typeof on[n]=="function"?on[n](e,r):r}if(typeof e=="object")return Gs(e);try{return n&&typeof on[n]=="function"?on[n](e):decodeURIComponent(escape(e))}catch{return e}}function ks(e){return e.map(n=>n.value!==void 0?Pe(n.value):Pe(n)).join(", ")}function Gs(e){const n=[];for(const r in e)n.push(`${Bs(r)}: ${Pe(e[r].value)}`);return n.join("; ")}function Bs(e){return e==="CiAdrCity"?"CreatorCity":e==="CiAdrCtry"?"CreatorCountry":e==="CiAdrExtadr"?"CreatorAddress":e==="CiAdrPcode"?"CreatorPostalCode":e==="CiAdrRegion"?"CreatorRegion":e==="CiEmailWork"?"CreatorWorkEmail":e==="CiTelWork"?"CreatorWorkPhone":e==="CiUrlWork"?"CreatorWorkUrl":e}function qt(e){const n={};for(const r in e)pn(r)||(n[mn(r)]=Hs(e[r],r));return n}function Hs(e,n){return Qt(e)?Vt(e,n):er(e)?nr(e,n):tr(e)?rr(e,n):$s(e)?zs(e,n):or(e,n)}function Qt(e){return e.attributes["rdf:parseType"]==="Resource"&&e.value["rdf:value"]!==void 0||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]!==void 0}function Vt(e,n){const r=tn(e);e.value["rdf:Description"]!==void 0&&(e=e.value["rdf:Description"]),K(r,tn(e),js(e));const o=Zs(e);return{value:o,attributes:r,description:Pe(o,n)}}function tn(e){const n={};for(const r in e.attributes)r!=="rdf:parseType"&&r!=="rdf:resource"&&!pn(r)&&(n[mn(r)]=e.attributes[r]);return n}function js(e){const n={};for(const r in e.value)r!=="rdf:value"&&!pn(r)&&(n[mn(r)]=e.value[r].value);return n}function Zs(e){return sr(e.value["rdf:value"])||e.value["rdf:value"].value}function er(e){return e.attributes["rdf:parseType"]==="Resource"||e.value["rdf:Description"]!==void 0&&e.value["rdf:Description"].value["rdf:value"]===void 0}function nr(e,n){const r={value:{},attributes:{}};return e.value["rdf:Description"]!==void 0&&(K(r.value,Bn(e.value["rdf:Description"].attributes)),K(r.attributes,tn(e)),e=e.value["rdf:Description"]),K(r.value,qt(e.value)),r.description=Pe(r.value,n),r}function tr(e){return Object.keys(e.value).length===0&&e.attributes["xml:lang"]===void 0&&e.attributes["rdf:resource"]===void 0}function rr(e,n){const r=Bn(e.attributes);return{value:r,attributes:{},description:Pe(r,n)}}function $s(e){return ir(e.value)!==void 0}function ir(e){return e["rdf:Bag"]||e["rdf:Seq"]||e["rdf:Alt"]}function zs(e,n){let r=ir(e.value).value["rdf:li"];const o=tn(e),t=[];return r===void 0?r=[]:Array.isArray(r)||(r=[r]),r.forEach(i=>{t.push(Xs(i))}),{value:t,attributes:o,description:Pe(t,n)}}function Xs(e){return Qt(e)?Vt(e):er(e)?nr(e).value:tr(e)?rr(e).value:or(e)}function or(e,n){const r=sr(e)||Jt(e.value);return{value:r,attributes:tn(e),description:Pe(r,n)}}function sr(e){return e.attributes&&e.attributes["rdf:resource"]}const It={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},At={4:{name:"Preferred CMM type",value:(e,n)=>X(e,n,4),description:e=>e!==null?bn(e):""},8:{name:"Profile Version",value:(e,n)=>e.getUint8(n).toString(10)+"."+(e.getUint8(n+1)>>4).toString(10)+"."+(e.getUint8(n+1)%16).toString(10)},12:{name:"Profile/Device class",value:(e,n)=>X(e,n,4),description:e=>{switch(e.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return e}}},16:{name:"Color Space",value:(e,n)=>X(e,n,4)},20:{name:"Connection Space",value:(e,n)=>X(e,n,4)},24:{name:"ICC Profile Date",value:(e,n)=>Ws(e,n).toISOString()},36:{name:"ICC Signature",value:(e,n)=>Ys(e.buffer.slice(n,n+4))},40:{name:"Primary Platform",value:(e,n)=>X(e,n,4),description:e=>bn(e)},48:{name:"Device Manufacturer",value:(e,n)=>X(e,n,4),description:e=>bn(e)},52:{name:"Device Model Number",value:(e,n)=>X(e,n,4)},64:{name:"Rendering Intent",value:(e,n)=>e.getUint32(n),description:e=>{switch(e){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return e}}},80:{name:"Profile Creator",value:(e,n)=>X(e,n,4)}};function Ws(e,n){const r=e.getUint16(n),o=e.getUint16(n+2)-1,t=e.getUint16(n+4),i=e.getUint16(n+6),c=e.getUint16(n+8),u=e.getUint16(n+10);return new Date(Date.UTC(r,o,t,i,c,u))}function Ys(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function bn(e){switch(e.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return e}}const Ft={read:ra},Ks=84,Js=128,qs="acsp",Qs="desc",Vs="mluc",ea="text",na="sig ",ta=12;function ra(e,n){try{const r=n.reduce((c,u)=>c+u.length,0),o=new Uint8Array(r);let t=0;const i=ia(e);for(let c=1;c<=n.length;c++){const u=n.find(s=>s.chunkNumber===c);if(!u)throw new Error(`ICC chunk ${c} not found`);const h=i.slice(u.offset,u.offset+u.length),x=new Uint8Array(h);o.set(x,t),t+=x.length}return aa(new DataView(o.buffer))}catch{return{}}}function ia(e){return Array.isArray(e)?new DataView(Uint8Array.from(e).buffer).buffer:e.buffer}function oa(e){return e.length<Js+4}function sa(e,n){return e.length<n+ta}function aa(e){const n=e.buffer,r=e.getUint32();if(e.byteLength!==r)throw new Error("ICC profile length not matching");if(e.length<Ks)throw new Error("ICC profile too short");const o={},t=Object.keys(At);for(let h=0;h<t.length;h++){const x=t[h],s=At[x],f=s.value(e,parseInt(x,10));let a=f;s.description&&(a=s.description(f)),o[s.name]={value:f,description:a}}if(sn(n.slice(36,40))!==qs)throw new Error("ICC profile: missing signature");if(oa(n))return o;const c=e.getUint32(128);let u=132;for(let h=0;h<c;h++){if(sa(n,u))return o;const x=X(e,u,4),s=e.getUint32(u+4),f=e.getUint32(u+8);if(s>n.length)return o;const a=X(e,s,4);if(a===Qs){const l=e.getUint32(s+8);if(l>f)return o;const E=sn(n.slice(s+12,s+l+11));en(o,x,E)}else if(a===Vs){const l=e.getUint32(s+8),E=e.getUint32(s+12);let _=s+16;const I=[];for(let T=0;T<l;T++){const v=X(e,_+0,2),D=X(e,_+2,2),N=e.getUint32(_+4),M=e.getUint32(_+8),S=zr(e,s+M,N);I.push({languageCode:v,countryCode:D,text:S}),_+=E}if(l===1)en(o,x,I[0].text);else{const T={};for(let v=0;v<I.length;v++)T[`${I[v].languageCode}-${I[v].countryCode}`]=I[v].text;en(o,x,T)}}else if(a===ea){const l=sn(n.slice(s+8,s+f-7));en(o,x,l)}else if(a===na){const l=sn(n.slice(s+8,s+12));en(o,x,l)}u=u+12}return o}function sn(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function en(e,n,r){It[n]?e[It[n].name]={value:r,description:r}:e[n]={value:r,description:r}}const ca={read:ua};function ua(e,n){return{"Image Width":fa(e,n),"Image Height":la(e,n),"Bit Depth":da(e,n),"Color Type":ha(e,n),Compression:ga(e,n),Filter:pa(e,n),Interlace:ma(e,n)}}function fa(e,n){if(n+0+4>e.byteLength)return;const t=H.getLongAt(e,n);return{value:t,description:`${t}px`}}function la(e,n){if(n+4+4>e.byteLength)return;const t=H.getLongAt(e,n+4);return{value:t,description:`${t}px`}}function da(e,n){if(n+8+1>e.byteLength)return;const t=H.getByteAt(e,n+8);return{value:t,description:`${t}`}}function ha(e,n){const t={0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"};if(n+9+1>e.byteLength)return;const i=H.getByteAt(e,n+9);return{value:i,description:t[i]||"Unknown"}}function ga(e,n){if(n+10+1>e.byteLength)return;const t=H.getByteAt(e,n+10);return{value:t,description:t===0?"Deflate/Inflate":"Unknown"}}function pa(e,n){if(n+11+1>e.byteLength)return;const t=H.getByteAt(e,n+11);return{value:t,description:t===0?"Adaptive":"Unknown"}}function ma(e,n){const t={0:"Noninterlaced",1:"Adam7 Interlace"};if(n+12+1>e.byteLength)return;const i=H.getByteAt(e,n+12);return{value:i,description:t[i]||"Unknown"}}const xa={read:Ta},Ln="STATE_KEYWORD",wn="STATE_COMPRESSION",kn="STATE_LANG",ar="STATE_TRANSLATED_KEYWORD",Ea="STATE_TEXT",Sa=2;function Ta(e,n){return n.reduce((r,{offset:o,length:t,type:i})=>{const{name:c,value:u,description:h}=Ia(e,o,t,i);return c&&(r[c]={value:u,description:h}),r},{})}function Ia(e,n,r,o){const t=[],i=[],c=[];let u=Ln;for(let x=0;x<r&&n+x<e.byteLength;x++){if(u===wn){if(e.getUint8(n+x)!==0)return{};x+=Sa,u=bt(o,u)}const s=e.getUint8(n+x);s===0?u=bt(o,u):u===Ln?t.push(s):u===kn?i.push(s):u===ar||c.push(s)}const h=Ke(c);return{name:Aa(o,i,t),value:h,description:o===wt?$t.decode("UTF-8",c):h}}function bt(e,n){return n===Ln&&e===wt?wn:n===wn?kn:n===kn?ar:Ea}function Aa(e,n,r){const o=Ke(r);if(e===Oi||n.length===0)return o;const t=Ke(n);return`${o} (${t})`}const Fa={read:ba};function ba(e,n){const r={};for(let o=0;o<n.length;o++){const t=H.getLongAt(e,n[o]+nn),i=X(e,n[o]+je,ye);i===kt?(r["Pixels Per Unit X"]=_a(e,n[o],t),r["Pixels Per Unit Y"]=ya(e,n[o],t),r["Pixel Units"]=Ca(e,n[o],t)):i===Gt&&(r["Modify Date"]=Pa(e,n[o],t))}return r}function _a(e,n,r){if(!xn(e,n,r,0,4))return;const i=H.getLongAt(e,n+le+0);return{value:i,description:""+i}}function ya(e,n,r){if(!xn(e,n,r,4,4))return;const i=H.getLongAt(e,n+le+4);return{value:i,description:""+i}}function Ca(e,n,r){if(!xn(e,n,r,8,1))return;const i=H.getByteAt(e,n+le+8);return{value:i,description:i===1?"meters":"Unknown"}}function Pa(e,n,r){if(!xn(e,n,r,0,7))return;const t=H.getShortAt(e,n+le),i=H.getByteAt(e,n+le+2),c=H.getByteAt(e,n+le+3),u=H.getByteAt(e,n+le+4),h=H.getByteAt(e,n+le+5),x=H.getByteAt(e,n+le+6);return{value:[t,i,c,u,h,x],description:`${ze(t,4)}-${ze(i,2)}-${ze(c,2)} ${ze(u,2)}:${ze(h,2)}:${ze(x,2)}`}}function xn(e,n,r,o,t){return o+t<=r&&n+le+o+t<=e.byteLength}function ze(e,n){return`${"0".repeat(n-(""+e).length)}${e}`}const Ua=[6,7,99],Na={get:Ra};function Ra(e,n,r){if(Oa(n)){n.type="image/jpeg";const o=r+n.JPEGInterchangeFormat.value;n.image=e.buffer.slice(o,o+n.JPEGInterchangeFormatLength.value),Nt(n,"base64",function(){return Rt(this.image)})}return n}function Oa(e){return e&&(e.Compression===void 0||Ua.includes(e.Compression.value))&&e.JPEGInterchangeFormat&&e.JPEGInterchangeFormat.value&&e.JPEGInterchangeFormatLength&&e.JPEGInterchangeFormatLength.value}function cr(e){this.name="MetadataMissingError",this.message=e||"No Exif data",this.stack=new Error().stack}cr.prototype=new Error;const Da={MetadataMissingError:cr};function Ma(e,n){return va(e)?La(e,n).then(r=>_n(r,n)):Za(e)?$a(e).then(r=>_n(r,n)):_n(e,n)}function va(e){return typeof e=="string"}function La(e,n){return/^https?:\/\//.test(e)?typeof fetch<"u"?wa(e,n):ka(e,n):Ba(e)?Promise.resolve(Xr(e)):Ha(e,n)}function wa(e,{length:n}={}){const r={method:"GET"};return Number.isInteger(n)&&n>=0&&(r.headers={range:`bytes=0-${n-1}`}),fetch(e,r).then(o=>o.arrayBuffer())}function ka(e,{length:n}={}){return new Promise((r,o)=>{const t={};Number.isInteger(n)&&n>=0&&(t.headers={range:`bytes=0-${n-1}`}),Ga(e)(e,t,c=>{if(c.statusCode>=200&&c.statusCode<=299){const u=[];c.on("data",h=>u.push(Buffer.from(h))),c.on("error",h=>o(h)),c.on("end",()=>r(Buffer.concat(u)))}else o(`Could not fetch file: ${c.statusCode} ${c.statusMessage}`),c.resume()}).on("error",c=>o(c))})}function Ga(e){return/^https:\/\//.test(e)?__non_webpack_require__("https").get:__non_webpack_require__("http").get}function Ba(e){return/^data:[^;,]*(;base64)?,/.test(e)}function Ha(e,{length:n}={}){return new Promise((r,o)=>{const t=ja();t.open(e,(i,c)=>{i?o(i):t.stat(e,(u,h)=>{if(u)o(u);else{const x=Math.min(h.size,n!==void 0?n:h.size),s=Buffer.alloc(x),f={buffer:s,length:x};t.read(c,f,a=>{a?o(a):t.close(c,l=>{l&&console.warn(`Could not close file ${e}:`,l),r(s)})})}})})})}function ja(){try{return __non_webpack_require__("fs")}catch{return}}function Za(e){return typeof window<"u"&&typeof File<"u"&&e instanceof File}function $a(e){return new Promise((n,r)=>{const o=new FileReader;o.onload=t=>n(t.target.result),o.onerror=()=>r(o.error),o.readAsArrayBuffer(e)})}function _n(e,n){return za(e)&&(e=new Uint8Array(e).buffer),Wa(Xa(e),n)}function za(e){try{return Buffer.isBuffer(e)}catch{return!1}}function Xa(e){try{return new DataView(e)}catch{return new Wr(e)}}function Wa(e,{expanded:n=!1,includeUnknown:r=!1}={expanded:!1,includeUnknown:!1}){let o=!1,t={};const{fileDataOffset:i,jfifDataOffset:c,tiffHeaderOffset:u,iptcDataOffset:h,xmpChunks:x,iccChunks:s,mpfDataOffset:f,pngHeaderOffset:a,pngTextChunks:l,pngChunkOffsets:E}=Vi.parseAppMarkers(e);if(Ya(i)){o=!0;const I=Do.read(e,i);n?t.file=I:t=K({},t,I)}if(Ka(c)){o=!0;const I=Zo.read(e,c);n?t.jfif=I:t=K({},t,I)}if(Ja(u)){o=!0;const I=lt.read(e,u,r);if(I.Thumbnail&&(t.Thumbnail=I.Thumbnail,delete I.Thumbnail),n?(t.exif=I,qa(t)):t=K({},t,I),I["IPTC-NAA"]&&!_t(h)){const T=pt.read(I["IPTC-NAA"].value,0,r);n?t.iptc=T:t=K({},t,T)}if(I.ApplicationNotes&&!yt(x)){const T=Et.read(Ke(I.ApplicationNotes.value));n?t.xmp=T:(delete T._raw,t=K({},t,T))}if(I.ICC_Profile&&!Ct(s)){const T=Ft.read(I.ICC_Profile.value,[{offset:0,length:I.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);n?t.icc=T:t=K({},t,T)}}if(_t(h)){o=!0;const I=pt.read(e,h,r);n?t.iptc=I:t=K({},t,I)}if(yt(x)){o=!0;const I=Et.read(e,x);n?t.xmp=I:(delete I._raw,t=K({},t,I))}if(Ct(s)){o=!0;const I=Ft.read(e,s);n?t.icc=I:t=K({},t,I)}if(Qa(f)){o=!0;const I=lt.readMpf(e,f,r);n?t.mpf=I:t=K({},t,I)}if(Va(a)){o=!0;const I=ca.read(e,a);n?(t.png=t.png?K({},t.png,I):I,t.pngFile=I):t=K({},t,I)}if(ec(l)){o=!0;const I=xa.read(e,l);n?(t.png=t.png?K({},t.png,I):I,t.pngText=I):t=K({},t,I)}if(nc(E)){o=!0;const I=Fa.read(e,E);n?t.png=t.png?K({},t.png,I):I:t=K({},t,I)}const _=Na.get(e,t.Thumbnail,u);if(_?(o=!0,t.Thumbnail=_):delete t.Thumbnail,!o)throw new Da.MetadataMissingError;return t}function Ya(e){return e!==void 0}function Ka(e){return e!==void 0}function Ja(e){return e!==void 0}function qa(e){if(e.exif){if(e.exif.GPSLatitude&&e.exif.GPSLatitudeRef)try{e.gps=e.gps||{},e.gps.Latitude=cn(e.exif.GPSLatitude.value),e.exif.GPSLatitudeRef.value.join("")==="S"&&(e.gps.Latitude=-e.gps.Latitude)}catch{}if(e.exif.GPSLongitude&&e.exif.GPSLongitudeRef)try{e.gps=e.gps||{},e.gps.Longitude=cn(e.exif.GPSLongitude.value),e.exif.GPSLongitudeRef.value.join("")==="W"&&(e.gps.Longitude=-e.gps.Longitude)}catch{}if(e.exif.GPSAltitude&&e.exif.GPSAltitudeRef)try{e.gps=e.gps||{},e.gps.Altitude=e.exif.GPSAltitude.value[0]/e.exif.GPSAltitude.value[1],e.exif.GPSAltitudeRef.value===1&&(e.gps.Altitude=-e.gps.Altitude)}catch{}}}function _t(e){return e!==void 0}function yt(e){return Array.isArray(e)&&e.length>0}function Ct(e){return Array.isArray(e)&&e.length>0}function Qa(e){return e!==void 0}function Va(e){return e!==void 0}function ec(e){return e!==void 0}function nc(e){return e!==void 0}var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});const tc=new RegExp("^(\\d{4}):(\\d{2}):(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d{1,3}))?(?:([zZ])|([-+])(\\d{2}):(\\d{2}))?$");function Xe(e,n){let r=e.toString(),o=n-r.length;for(;o>0;)o-=1,r=`0${r}`;return r}function rc(e){const n=tc.exec(e);if(n==null)return new Date(NaN);const r=new Date,o=n[8]?0:n[9]?(Number(n[10])*60+Number(n[11]))*(n[9]==="+"?1:-1):0;return r.setUTCFullYear(Number(n[1])),r.setUTCMonth(Number(n[2])-1),r.setUTCDate(Number(n[3])),r.setUTCHours(Number(n[4])),r.setUTCMinutes(Number(n[5])+o),r.setUTCSeconds(Number(n[6])),r.setUTCMilliseconds(Number(n[7])||0),r}var ic=Hn.parse=rc;function oc(e,n,r){if(isNaN(e.getTime()))return"";const o=Xe(e.getUTCFullYear(),4),t=Xe(e.getUTCMonth()+1,2),i=Xe(e.getUTCDate(),2),c=Xe(e.getUTCHours(),2),u=Xe(e.getUTCMinutes(),2),h=Xe(e.getUTCSeconds(),2),x=n?`.${Math.round(e.getUTCMilliseconds()/10)}`:"";return`${o}:${t}:${i} ${c}:${u}:${h}${x}${r?"Z":""}`}Hn.format=oc;const ur=async e=>{var o,t,i;const n=await Ma(e),r=((o=n.DateTimeOriginal)==null?void 0:o.description)||((t=n.DateTimeDigitized)==null?void 0:t.description)||((i=n.DateTime)==null?void 0:i.description);return typeof r!="string"?null:ic(r)},Pt=({file:e,showDate:n})=>{const[r,o]=De.useState(),[t,i]=De.useState(),[c,u]=De.useState();return De.useEffect(()=>{if(!FileReader){u("FileReader not supported");return}if(e)try{const h=new FileReader;h.onload=async()=>{o(h.result);const x=await ur(h.result);u(null),i(x)},h.readAsDataURL(e)}catch(h){u(h.message)}else o(null),i(null),u(null)},[e]),r?G.jsxs("div",{children:[G.jsx("img",{style:{maxHeight:270,maxWidth:"100%",objectFit:"contain"},src:r,alt:"Screenshot preview"}),n&&G.jsxs("div",{style:{fontSize:"75%",padding:"0.4em"},children:["Date taken: ",t?t.toLocaleString():"Unknown"]}),c&&G.jsxs("div",{style:{fontSize:"75%",padding:"0.4em"},children:["Error: ",c]})]}):null};function sc(e,n){return n.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(o){if(o!=="default"&&!(o in e)){var t=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(e,o,t.get?t:{enumerable:!0,get:function(){return r[o]}})}})}),Object.freeze(e)}function fr(e,n){return new Promise(function(r,o){let t;return ac(e).then(function(i){try{return t=i,r(new Blob([n.slice(0,2),t,n.slice(2)],{type:"image/jpeg"}))}catch(c){return o(c)}},o)})}const ac=e=>new Promise((n,r)=>{const o=new FileReader;o.addEventListener("load",({target:{result:t}})=>{const i=new DataView(t);let c=0;if(i.getUint16(c)!==65496)return r("not a valid JPEG");for(c+=2;;){const u=i.getUint16(c);if(u===65498)break;const h=i.getUint16(c+2);if(u===65505&&i.getUint32(c+4)===1165519206){const x=c+10;let s;switch(i.getUint16(x)){case 18761:s=!0;break;case 19789:s=!1;break;default:return r("TIFF header contains invalid endian")}if(i.getUint16(x+2,s)!==42)return r("TIFF header contains invalid version");const f=i.getUint32(x+4,s),a=x+f+2+12*i.getUint16(x+f,s);for(let l=x+f+2;l<a;l+=12)if(i.getUint16(l,s)==274){if(i.getUint16(l+2,s)!==3)return r("Orientation data type is invalid");if(i.getUint32(l+4,s)!==1)return r("Orientation data count is invalid");i.setUint16(l+8,1,s);break}return n(t.slice(c,c+2+h))}c+=2+h}return n(new Blob)}),o.readAsArrayBuffer(e)});var ln={},cc={get exports(){return ln},set exports(e){ln=e}};(function(e){var n,r,o={};cc.exports=o,o.parse=function(t,i){for(var c=o.bin.readUshort,u=o.bin.readUint,h=0,x={},s=new Uint8Array(t),f=s.length-4;u(s,f)!=101010256;)f--;h=f,h+=4;var a=c(s,h+=4);c(s,h+=2);var l=u(s,h+=2),E=u(s,h+=4);h+=4,h=E;for(var _=0;_<a;_++){u(s,h),h+=4,h+=4,h+=4,u(s,h+=4),l=u(s,h+=4);var I=u(s,h+=4),T=c(s,h+=4),v=c(s,h+2),D=c(s,h+4);h+=6;var N=u(s,h+=8);h+=4,h+=T+v+D,o._readLocal(s,N,x,l,I,i)}return x},o._readLocal=function(t,i,c,u,h,x){var s=o.bin.readUshort,f=o.bin.readUint;f(t,i),s(t,i+=4),s(t,i+=2);var a=s(t,i+=2);f(t,i+=2),f(t,i+=4),i+=4;var l=s(t,i+=8),E=s(t,i+=2);i+=2;var _=o.bin.readUTF8(t,i,l);if(i+=l,i+=E,x)c[_]={size:h,csize:u};else{var I=new Uint8Array(t.buffer,i);if(a==0)c[_]=new Uint8Array(I.buffer.slice(i,i+u));else{if(a!=8)throw"unknown compression method: "+a;var T=new Uint8Array(h);o.inflateRaw(I,T),c[_]=T}}},o.inflateRaw=function(t,i){return o.F.inflate(t,i)},o.inflate=function(t,i){return t[0],t[1],o.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),i)},o.deflate=function(t,i){i==null&&(i={level:6});var c=0,u=new Uint8Array(50+Math.floor(1.1*t.length));u[c]=120,u[c+1]=156,c+=2,c=o.F.deflateRaw(t,u,c,i.level);var h=o.adler(t,0,t.length);return u[c+0]=h>>>24&255,u[c+1]=h>>>16&255,u[c+2]=h>>>8&255,u[c+3]=h>>>0&255,new Uint8Array(u.buffer,0,c+4)},o.deflateRaw=function(t,i){i==null&&(i={level:6});var c=new Uint8Array(50+Math.floor(1.1*t.length)),u=o.F.deflateRaw(t,c,u,i.level);return new Uint8Array(c.buffer,0,u)},o.encode=function(t,i){i==null&&(i=!1);var c=0,u=o.bin.writeUint,h=o.bin.writeUshort,x={};for(var s in t){var f=!o._noNeed(s)&&!i,a=t[s],l=o.crc.crc(a,0,a.length);x[s]={cpr:f,usize:a.length,crc:l,file:f?o.deflateRaw(a):a}}for(var s in x)c+=x[s].file.length+30+46+2*o.bin.sizeUTF8(s);c+=22;var E=new Uint8Array(c),_=0,I=[];for(var s in x){var T=x[s];I.push(_),_=o._writeHeader(E,_,s,T,0)}var v=0,D=_;for(var s in x)T=x[s],I.push(_),_=o._writeHeader(E,_,s,T,1,I[v++]);var N=_-D;return u(E,_,101010256),_+=4,h(E,_+=4,v),h(E,_+=2,v),u(E,_+=2,N),u(E,_+=4,D),_+=4,_+=2,E.buffer},o._noNeed=function(t){var i=t.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},o._writeHeader=function(t,i,c,u,h,x){var s=o.bin.writeUint,f=o.bin.writeUshort,a=u.file;return s(t,i,h==0?67324752:33639248),i+=4,h==1&&(i+=2),f(t,i,20),f(t,i+=2,0),f(t,i+=2,u.cpr?8:0),s(t,i+=2,0),s(t,i+=4,u.crc),s(t,i+=4,a.length),s(t,i+=4,u.usize),f(t,i+=4,o.bin.sizeUTF8(c)),f(t,i+=2,0),i+=2,h==1&&(i+=2,i+=2,s(t,i+=6,x),i+=4),i+=o.bin.writeUTF8(t,i,c),h==0&&(t.set(a,i),i+=a.length),i},o.crc={table:function(){for(var t=new Uint32Array(256),i=0;i<256;i++){for(var c=i,u=0;u<8;u++)1&c?c=3988292384^c>>>1:c>>>=1;t[i]=c}return t}(),update:function(t,i,c,u){for(var h=0;h<u;h++)t=o.crc.table[255&(t^i[c+h])]^t>>>8;return t},crc:function(t,i,c){return 4294967295^o.crc.update(4294967295,t,i,c)}},o.adler=function(t,i,c){for(var u=1,h=0,x=i,s=i+c;x<s;){for(var f=Math.min(x+5552,s);x<f;)h+=u+=t[x++];u%=65521,h%=65521}return h<<16|u},o.bin={readUshort:function(t,i){return t[i]|t[i+1]<<8},writeUshort:function(t,i,c){t[i]=255&c,t[i+1]=c>>8&255},readUint:function(t,i){return 16777216*t[i+3]+(t[i+2]<<16|t[i+1]<<8|t[i])},writeUint:function(t,i,c){t[i]=255&c,t[i+1]=c>>8&255,t[i+2]=c>>16&255,t[i+3]=c>>24&255},readASCII:function(t,i,c){for(var u="",h=0;h<c;h++)u+=String.fromCharCode(t[i+h]);return u},writeASCII:function(t,i,c){for(var u=0;u<c.length;u++)t[i+u]=c.charCodeAt(u)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,i,c){for(var u,h="",x=0;x<c;x++)h+="%"+o.bin.pad(t[i+x].toString(16));try{u=decodeURIComponent(h)}catch{return o.bin.readASCII(t,i,c)}return u},writeUTF8:function(t,i,c){for(var u=c.length,h=0,x=0;x<u;x++){var s=c.charCodeAt(x);if(!(4294967168&s))t[i+h]=s,h++;else if(!(4294965248&s))t[i+h]=192|s>>6,t[i+h+1]=128|s>>0&63,h+=2;else if(!(4294901760&s))t[i+h]=224|s>>12,t[i+h+1]=128|s>>6&63,t[i+h+2]=128|s>>0&63,h+=3;else{if(4292870144&s)throw"e";t[i+h]=240|s>>18,t[i+h+1]=128|s>>12&63,t[i+h+2]=128|s>>6&63,t[i+h+3]=128|s>>0&63,h+=4}}return h},sizeUTF8:function(t){for(var i=t.length,c=0,u=0;u<i;u++){var h=t.charCodeAt(u);if(!(4294967168&h))c++;else if(!(4294965248&h))c+=2;else if(!(4294901760&h))c+=3;else{if(4292870144&h)throw"e";c+=4}}return c}},o.F={},o.F.deflateRaw=function(t,i,c,u){var h=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][u],x=o.F.U,s=o.F._goodIndex;o.F._hash;var f=o.F._putsE,a=0,l=c<<3,E=0,_=t.length;if(u==0){for(;a<_;)f(i,l,a+(y=Math.min(65535,_-a))==_?1:0),l=o.F._copyExact(t,a,y,i,l+8),a+=y;return l>>>3}var I=x.lits,T=x.strt,v=x.prev,D=0,N=0,M=0,S=0,R=0,p=0;for(_>2&&(T[p=o.F._hash(t,0)]=0),a=0;a<_;a++){if(R=p,a+1<_-2){p=o.F._hash(t,a+1);var g=a+1&32767;v[g]=T[p],T[p]=g}if(E<=a){(D>14e3||N>26697)&&_-a>100&&(E<a&&(I[D]=a-E,D+=2,E=a),l=o.F._writeBlock(a==_-1||E==_?1:0,I,D,S,t,M,a-M,i,l),D=N=S=0,M=a);var A=0;a<_-2&&(A=o.F._bestMatch(t,a,v,R,Math.min(h[2],_-a),h[3]));var y=A>>>16,b=65535&A;if(A!=0){b=65535&A;var C=s(y=A>>>16,x.of0);x.lhst[257+C]++;var F=s(b,x.df0);x.dhst[F]++,S+=x.exb[C]+x.dxb[F],I[D]=y<<23|a-E,I[D+1]=b<<16|C<<8|F,D+=2,E=a+y}else x.lhst[t[a]]++;N++}}for(M==a&&t.length!=0||(E<a&&(I[D]=a-E,D+=2,E=a),l=o.F._writeBlock(1,I,D,S,t,M,a-M,i,l),D=0,N=0,D=N=S=0,M=a);7&l;)l++;return l>>>3},o.F._bestMatch=function(t,i,c,u,h,x){var s=32767&i,f=c[s],a=s-f+32768&32767;if(f==s||u!=o.F._hash(t,i-a))return 0;for(var l=0,E=0,_=Math.min(32767,i);a<=_&&--x!=0&&f!=s;){if(l==0||t[i+l]==t[i+l-a]){var I=o.F._howLong(t,i,a);if(I>l){if(E=a,(l=I)>=h)break;a+2<I&&(I=a+2);for(var T=0,v=0;v<I-2;v++){var D=i-a+v+32768&32767,N=D-c[D]+32768&32767;N>T&&(T=N,f=D)}}}a+=(s=f)-(f=c[s])+32768&32767}return l<<16|E},o.F._howLong=function(t,i,c){if(t[i]!=t[i-c]||t[i+1]!=t[i+1-c]||t[i+2]!=t[i+2-c])return 0;var u=i,h=Math.min(t.length,i+258);for(i+=3;i<h&&t[i]==t[i-c];)i++;return i-u},o.F._hash=function(t,i){return(t[i]<<8|t[i+1])+(t[i+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(t,i,c,u,h,x,s,f,a){var l,E,_,I,T,v,D,N,M,S=o.F.U,R=o.F._putsF,p=o.F._putsE;S.lhst[256]++,E=(l=o.F.getTrees())[0],_=l[1],I=l[2],T=l[3],v=l[4],D=l[5],N=l[6],M=l[7];var g=32+(a+3&7?8-(a+3&7):0)+(s<<3),A=u+o.F.contSize(S.fltree,S.lhst)+o.F.contSize(S.fdtree,S.dhst),y=u+o.F.contSize(S.ltree,S.lhst)+o.F.contSize(S.dtree,S.dhst);y+=14+3*D+o.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var b=0;b<286;b++)S.lhst[b]=0;for(b=0;b<30;b++)S.dhst[b]=0;for(b=0;b<19;b++)S.ihst[b]=0;var C=g<A&&g<y?0:A<y?1:2;if(R(f,a,t),R(f,a+1,C),a+=3,C==0){for(;7&a;)a++;a=o.F._copyExact(h,x,s,f,a)}else{var F,U;if(C==1&&(F=S.fltree,U=S.fdtree),C==2){o.F.makeCodes(S.ltree,E),o.F.revCodes(S.ltree,E),o.F.makeCodes(S.dtree,_),o.F.revCodes(S.dtree,_),o.F.makeCodes(S.itree,I),o.F.revCodes(S.itree,I),F=S.ltree,U=S.dtree,p(f,a,T-257),p(f,a+=5,v-1),p(f,a+=5,D-4),a+=4;for(var m=0;m<D;m++)p(f,a+3*m,S.itree[1+(S.ordr[m]<<1)]);a+=3*D,a=o.F._codeTiny(N,S.itree,f,a),a=o.F._codeTiny(M,S.itree,f,a)}for(var d=x,L=0;L<c;L+=2){for(var P=i[L],w=P>>>23,Z=d+(8388607&P);d<Z;)a=o.F._writeLit(h[d++],F,f,a);if(w!=0){var B=i[L+1],j=B>>16,k=B>>8&255,O=255&B;p(f,a=o.F._writeLit(257+k,F,f,a),w-S.of0[k]),a+=S.exb[k],R(f,a=o.F._writeLit(O,U,f,a),j-S.df0[O]),a+=S.dxb[O],d+=w}}a=o.F._writeLit(256,F,f,a)}return a},o.F._copyExact=function(t,i,c,u,h){var x=h>>>3;return u[x]=c,u[x+1]=c>>>8,u[x+2]=255-u[x],u[x+3]=255-u[x+1],x+=4,u.set(new Uint8Array(t.buffer,i,c),x),h+(c+4<<3)},o.F.getTrees=function(){for(var t=o.F.U,i=o.F._hufTree(t.lhst,t.ltree,15),c=o.F._hufTree(t.dhst,t.dtree,15),u=[],h=o.F._lenCodes(t.ltree,u),x=[],s=o.F._lenCodes(t.dtree,x),f=0;f<u.length;f+=2)t.ihst[u[f]]++;for(f=0;f<x.length;f+=2)t.ihst[x[f]]++;for(var a=o.F._hufTree(t.ihst,t.itree,7),l=19;l>4&&t.itree[1+(t.ordr[l-1]<<1)]==0;)l--;return[i,c,a,h,s,l,u,x]},o.F.getSecond=function(t){for(var i=[],c=0;c<t.length;c+=2)i.push(t[c+1]);return i},o.F.nonZero=function(t){for(var i="",c=0;c<t.length;c+=2)t[c+1]!=0&&(i+=(c>>1)+",");return i},o.F.contSize=function(t,i){for(var c=0,u=0;u<i.length;u++)c+=i[u]*t[1+(u<<1)];return c},o.F._codeTiny=function(t,i,c,u){for(var h=0;h<t.length;h+=2){var x=t[h],s=t[h+1];u=o.F._writeLit(x,i,c,u);var f=x==16?2:x==17?3:7;x>15&&(o.F._putsE(c,u,s,f),u+=f)}return u},o.F._lenCodes=function(t,i){for(var c=t.length;c!=2&&t[c-1]==0;)c-=2;for(var u=0;u<c;u+=2){var h=t[u+1],x=u+3<c?t[u+3]:-1,s=u+5<c?t[u+5]:-1,f=u==0?-1:t[u-1];if(h==0&&x==h&&s==h){for(var a=u+5;a+2<c&&t[a+2]==h;)a+=2;(l=Math.min(a+1-u>>>1,138))<11?i.push(17,l-3):i.push(18,l-11),u+=2*l-2}else if(h==f&&x==h&&s==h){for(a=u+5;a+2<c&&t[a+2]==h;)a+=2;var l=Math.min(a+1-u>>>1,6);i.push(16,l-3),u+=2*l-2}else i.push(h,0)}return c>>>1},o.F._hufTree=function(t,i,c){var u=[],h=t.length,x=i.length,s=0;for(s=0;s<x;s+=2)i[s]=0,i[s+1]=0;for(s=0;s<h;s++)t[s]!=0&&u.push({lit:s,f:t[s]});var f=u.length,a=u.slice(0);if(f==0)return 0;if(f==1){var l=u[0].lit;return a=l==0?1:0,i[1+(l<<1)]=1,i[1+(a<<1)]=1,1}u.sort(function(N,M){return N.f-M.f});var E=u[0],_=u[1],I=0,T=1,v=2;for(u[0]={lit:-1,f:E.f+_.f,l:E,r:_,d:0};T!=f-1;)E=I!=T&&(v==f||u[I].f<u[v].f)?u[I++]:u[v++],_=I!=T&&(v==f||u[I].f<u[v].f)?u[I++]:u[v++],u[T++]={lit:-1,f:E.f+_.f,l:E,r:_};var D=o.F.setDepth(u[T-1],0);for(D>c&&(o.F.restrictDepth(a,c,D),D=c),s=0;s<f;s++)i[1+(a[s].lit<<1)]=a[s].d;return D},o.F.setDepth=function(t,i){return t.lit!=-1?(t.d=i,i):Math.max(o.F.setDepth(t.l,i+1),o.F.setDepth(t.r,i+1))},o.F.restrictDepth=function(t,i,c){var u=0,h=1<<c-i,x=0;for(t.sort(function(f,a){return a.d==f.d?f.f-a.f:a.d-f.d}),u=0;u<t.length&&t[u].d>i;u++){var s=t[u].d;t[u].d=i,x+=h-(1<<c-s)}for(x>>>=c-i;x>0;)(s=t[u].d)<i?(t[u].d++,x-=1<<i-s-1):u++;for(;u>=0;u--)t[u].d==i&&x<0&&(t[u].d--,x++);x!=0&&console.log("debt left")},o.F._goodIndex=function(t,i){var c=0;return i[16|c]<=t&&(c|=16),i[8|c]<=t&&(c|=8),i[4|c]<=t&&(c|=4),i[2|c]<=t&&(c|=2),i[1|c]<=t&&(c|=1),c},o.F._writeLit=function(t,i,c,u){return o.F._putsF(c,u,i[t<<1]),u+i[1+(t<<1)]},o.F.inflate=function(t,i){var c=Uint8Array;if(t[0]==3&&t[1]==0)return i||new c(0);var u=o.F,h=u._bitsF,x=u._bitsE,s=u._decodeTiny,f=u.makeCodes,a=u.codes2map,l=u._get17,E=u.U,_=i==null;_&&(i=new c(t.length>>>2<<3));for(var I,T,v=0,D=0,N=0,M=0,S=0,R=0,p=0,g=0,A=0;v==0;)if(v=h(t,A,1),D=h(t,A+1,2),A+=3,D!=0){if(_&&(i=o.F._check(i,g+(1<<17))),D==1&&(I=E.flmap,T=E.fdmap,R=511,p=31),D==2){N=x(t,A,5)+257,M=x(t,A+5,5)+1,S=x(t,A+10,4)+4,A+=14;for(var y=0;y<38;y+=2)E.itree[y]=0,E.itree[y+1]=0;var b=1;for(y=0;y<S;y++){var C=x(t,A+3*y,3);E.itree[1+(E.ordr[y]<<1)]=C,C>b&&(b=C)}A+=3*S,f(E.itree,b),a(E.itree,b,E.imap),I=E.lmap,T=E.dmap,A=s(E.imap,(1<<b)-1,N+M,t,A,E.ttree);var F=u._copyOut(E.ttree,0,N,E.ltree);R=(1<<F)-1;var U=u._copyOut(E.ttree,N,M,E.dtree);p=(1<<U)-1,f(E.ltree,F),a(E.ltree,F,I),f(E.dtree,U),a(E.dtree,U,T)}for(;;){var m=I[l(t,A)&R];A+=15&m;var d=m>>>4;if(!(d>>>8))i[g++]=d;else{if(d==256)break;var L=g+d-254;if(d>264){var P=E.ldef[d-257];L=g+(P>>>3)+x(t,A,7&P),A+=7&P}var w=T[l(t,A)&p];A+=15&w;var Z=w>>>4,B=E.ddef[Z],j=(B>>>4)+h(t,A,15&B);for(A+=15&B,_&&(i=o.F._check(i,g+(1<<17)));g<L;)i[g]=i[g++-j],i[g]=i[g++-j],i[g]=i[g++-j],i[g]=i[g++-j];g=L}}}else{7&A&&(A+=8-(7&A));var k=4+(A>>>3),O=t[k-4]|t[k-3]<<8;_&&(i=o.F._check(i,g+O)),i.set(new c(t.buffer,t.byteOffset+k,O),g),A=k+O<<3,g+=O}return i.length==g?i:i.slice(0,g)},o.F._check=function(t,i){var c=t.length;if(i<=c)return t;var u=new Uint8Array(Math.max(c<<1,i));return u.set(t,0),u},o.F._decodeTiny=function(t,i,c,u,h,x){for(var s=o.F._bitsE,f=o.F._get17,a=0;a<c;){var l=t[f(u,h)&i];h+=15&l;var E=l>>>4;if(E<=15)x[a]=E,a++;else{var _=0,I=0;E==16?(I=3+s(u,h,2),h+=2,_=x[a-1]):E==17?(I=3+s(u,h,3),h+=3):E==18&&(I=11+s(u,h,7),h+=7);for(var T=a+I;a<T;)x[a]=_,a++}}return h},o.F._copyOut=function(t,i,c,u){for(var h=0,x=0,s=u.length>>>1;x<c;){var f=t[x+i];u[x<<1]=0,u[1+(x<<1)]=f,f>h&&(h=f),x++}for(;x<s;)u[x<<1]=0,u[1+(x<<1)]=0,x++;return h},o.F.makeCodes=function(t,i){for(var c,u,h,x,s=o.F.U,f=t.length,a=s.bl_count,l=0;l<=i;l++)a[l]=0;for(l=1;l<f;l+=2)a[t[l]]++;var E=s.next_code;for(c=0,a[0]=0,u=1;u<=i;u++)c=c+a[u-1]<<1,E[u]=c;for(h=0;h<f;h+=2)(x=t[h+1])!=0&&(t[h]=E[x],E[x]++)},o.F.codes2map=function(t,i,c){for(var u=t.length,h=o.F.U.rev15,x=0;x<u;x+=2)if(t[x+1]!=0)for(var s=x>>1,f=t[x+1],a=s<<4|f,l=i-f,E=t[x]<<l,_=E+(1<<l);E!=_;)c[h[E]>>>15-i]=a,E++},o.F.revCodes=function(t,i){for(var c=o.F.U.rev15,u=15-i,h=0;h<t.length;h+=2){var x=t[h]<<i-t[h+1];t[h]=c[x]>>>u}},o.F._putsE=function(t,i,c){c<<=7&i;var u=i>>>3;t[u]|=c,t[u+1]|=c>>>8},o.F._putsF=function(t,i,c){c<<=7&i;var u=i>>>3;t[u]|=c,t[u+1]|=c>>>8,t[u+2]|=c>>>16},o.F._bitsE=function(t,i,c){return(t[i>>>3]|t[1+(i>>>3)]<<8)>>>(7&i)&(1<<c)-1},o.F._bitsF=function(t,i,c){return(t[i>>>3]|t[1+(i>>>3)]<<8|t[2+(i>>>3)]<<16)>>>(7&i)&(1<<c)-1},o.F._get17=function(t,i){return(t[i>>>3]|t[1+(i>>>3)]<<8|t[2+(i>>>3)]<<16)>>>(7&i)},o.F._get25=function(t,i){return(t[i>>>3]|t[1+(i>>>3)]<<8|t[2+(i>>>3)]<<16|t[3+(i>>>3)]<<24)>>>(7&i)},o.F.U=(n=Uint16Array,r=Uint32Array,{next_code:new n(16),bl_count:new n(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new n(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new n(512),fltree:[],fdmap:new n(32),fdtree:[],lmap:new n(32768),ltree:[],ttree:[],dmap:new n(32768),dtree:[],imap:new n(512),itree:[],rev15:new n(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new n(65536),prev:new n(32768)}),function(){for(var t=o.F.U,i=0;i<32768;i++){var c=i;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,t.rev15[i]=(c>>>16|c<<16)>>>17}function u(h,x,s){for(;x--!=0;)h.push(0,s)}for(i=0;i<32;i++)t.ldef[i]=t.of0[i]<<3|t.exb[i],t.ddef[i]=t.df0[i]<<4|t.dxb[i];u(t.fltree,144,8),u(t.fltree,112,9),u(t.fltree,24,7),u(t.fltree,8,8),o.F.makeCodes(t.fltree,9),o.F.codes2map(t.fltree,9,t.flmap),o.F.revCodes(t.fltree,9),u(t.fdtree,32,5),o.F.makeCodes(t.fdtree,5),o.F.codes2map(t.fdtree,5,t.fdmap),o.F.revCodes(t.fdtree,5),u(t.itree,19,0),u(t.ltree,286,0),u(t.dtree,30,0),u(t.ttree,320,0)}()})();var uc=sc({__proto__:null,default:ln},[ln]);const Ie=function(){var e={nextZero(s,f){for(;s[f]!=0;)f++;return f},readUshort:(s,f)=>s[f]<<8|s[f+1],writeUshort(s,f,a){s[f]=a>>8&255,s[f+1]=255&a},readUint:(s,f)=>16777216*s[f]+(s[f+1]<<16|s[f+2]<<8|s[f+3]),writeUint(s,f,a){s[f]=a>>24&255,s[f+1]=a>>16&255,s[f+2]=a>>8&255,s[f+3]=255&a},readASCII(s,f,a){let l="";for(let E=0;E<a;E++)l+=String.fromCharCode(s[f+E]);return l},writeASCII(s,f,a){for(let l=0;l<a.length;l++)s[f+l]=a.charCodeAt(l)},readBytes(s,f,a){const l=[];for(let E=0;E<a;E++)l.push(s[f+E]);return l},pad:s=>s.length<2?`0${s}`:s,readUTF8(s,f,a){let l,E="";for(let _=0;_<a;_++)E+=`%${e.pad(s[f+_].toString(16))}`;try{l=decodeURIComponent(E)}catch{return e.readASCII(s,f,a)}return l}};function n(s,f,a,l){const E=f*a,_=i(l),I=Math.ceil(f*_/8),T=new Uint8Array(4*E),v=new Uint32Array(T.buffer),{ctype:D}=l,{depth:N}=l,M=e.readUshort;if(D==6){const P=E<<2;if(N==8)for(var S=0;S<P;S+=4)T[S]=s[S],T[S+1]=s[S+1],T[S+2]=s[S+2],T[S+3]=s[S+3];if(N==16)for(S=0;S<P;S++)T[S]=s[S<<1]}else if(D==2){const P=l.tabs.tRNS;if(P==null){if(N==8)for(S=0;S<E;S++){var R=3*S;v[S]=255<<24|s[R+2]<<16|s[R+1]<<8|s[R]}if(N==16)for(S=0;S<E;S++)R=6*S,v[S]=255<<24|s[R+4]<<16|s[R+2]<<8|s[R]}else{var p=P[0];const w=P[1],Z=P[2];if(N==8)for(S=0;S<E;S++){var g=S<<2;R=3*S,v[S]=255<<24|s[R+2]<<16|s[R+1]<<8|s[R],s[R]==p&&s[R+1]==w&&s[R+2]==Z&&(T[g+3]=0)}if(N==16)for(S=0;S<E;S++)g=S<<2,R=6*S,v[S]=255<<24|s[R+4]<<16|s[R+2]<<8|s[R],M(s,R)==p&&M(s,R+2)==w&&M(s,R+4)==Z&&(T[g+3]=0)}}else if(D==3){const P=l.tabs.PLTE,w=l.tabs.tRNS,Z=w?w.length:0;if(N==1)for(var A=0;A<a;A++){var y=A*I,b=A*f;for(S=0;S<f;S++){g=b+S<<2;var C=3*(F=s[y+(S>>3)]>>7-((7&S)<<0)&1);T[g]=P[C],T[g+1]=P[C+1],T[g+2]=P[C+2],T[g+3]=F<Z?w[F]:255}}if(N==2)for(A=0;A<a;A++)for(y=A*I,b=A*f,S=0;S<f;S++)g=b+S<<2,C=3*(F=s[y+(S>>2)]>>6-((3&S)<<1)&3),T[g]=P[C],T[g+1]=P[C+1],T[g+2]=P[C+2],T[g+3]=F<Z?w[F]:255;if(N==4)for(A=0;A<a;A++)for(y=A*I,b=A*f,S=0;S<f;S++)g=b+S<<2,C=3*(F=s[y+(S>>1)]>>4-((1&S)<<2)&15),T[g]=P[C],T[g+1]=P[C+1],T[g+2]=P[C+2],T[g+3]=F<Z?w[F]:255;if(N==8)for(S=0;S<E;S++){var F;g=S<<2,C=3*(F=s[S]),T[g]=P[C],T[g+1]=P[C+1],T[g+2]=P[C+2],T[g+3]=F<Z?w[F]:255}}else if(D==4){if(N==8)for(S=0;S<E;S++){g=S<<2;var U=s[m=S<<1];T[g]=U,T[g+1]=U,T[g+2]=U,T[g+3]=s[m+1]}if(N==16)for(S=0;S<E;S++){var m;g=S<<2,U=s[m=S<<2],T[g]=U,T[g+1]=U,T[g+2]=U,T[g+3]=s[m+2]}}else if(D==0)for(p=l.tabs.tRNS?l.tabs.tRNS:-1,A=0;A<a;A++){const P=A*I,w=A*f;if(N==1)for(var d=0;d<f;d++){var L=(U=255*(s[P+(d>>>3)]>>>7-(7&d)&1))==255*p?0:255;v[w+d]=L<<24|U<<16|U<<8|U}else if(N==2)for(d=0;d<f;d++)L=(U=85*(s[P+(d>>>2)]>>>6-((3&d)<<1)&3))==85*p?0:255,v[w+d]=L<<24|U<<16|U<<8|U;else if(N==4)for(d=0;d<f;d++)L=(U=17*(s[P+(d>>>1)]>>>4-((1&d)<<2)&15))==17*p?0:255,v[w+d]=L<<24|U<<16|U<<8|U;else if(N==8)for(d=0;d<f;d++)L=(U=s[P+d])==p?0:255,v[w+d]=L<<24|U<<16|U<<8|U;else if(N==16)for(d=0;d<f;d++)U=s[P+(d<<1)],L=M(s,P+(d<<1))==p?0:255,v[w+d]=L<<24|U<<16|U<<8|U}return T}function r(s,f,a,l){const E=i(s),_=Math.ceil(a*E/8),I=new Uint8Array((_+1+s.interlace)*l);return f=s.tabs.CgBI?t(f,I):o(f,I),s.interlace==0?f=c(f,s,0,a,l):s.interlace==1&&(f=function(v,D){const N=D.width,M=D.height,S=i(D),R=S>>3,p=Math.ceil(N*S/8),g=new Uint8Array(M*p);let A=0;const y=[0,0,4,0,2,0,1],b=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const d=C[U],L=F[U];let P=0,w=0,Z=y[U];for(;Z<M;)Z+=d,w++;let B=b[U];for(;B<N;)B+=L,P++;const j=Math.ceil(P*S/8);c(v,D,A,P,w);let k=0,O=y[U];for(;O<M;){let $=b[U],V=A+k*j<<3;for(;$<N;){var m;if(S==1&&(m=(m=v[V>>3])>>7-(7&V)&1,g[O*p+($>>3)]|=m<<7-((7&$)<<0)),S==2&&(m=(m=v[V>>3])>>6-(7&V)&3,g[O*p+($>>2)]|=m<<6-((3&$)<<1)),S==4&&(m=(m=v[V>>3])>>4-(7&V)&15,g[O*p+($>>1)]|=m<<4-((1&$)<<2)),S>=8){const Y=O*p+$*R;for(let W=0;W<R;W++)g[Y+W]=v[(V>>3)+W]}V+=S,$+=L}k++,O+=d}P*w!=0&&(A+=w*(1+j)),U+=1}return g}(f,s)),f}function o(s,f){return t(new Uint8Array(s.buffer,2,s.length-6),f)}var t=function(){const s={H:{}};return s.H.N=function(f,a){const l=Uint8Array;let E,_,I=0,T=0,v=0,D=0,N=0,M=0,S=0,R=0,p=0;if(f[0]==3&&f[1]==0)return a||new l(0);const g=s.H,A=g.b,y=g.e,b=g.R,C=g.n,F=g.A,U=g.Z,m=g.m,d=a==null;for(d&&(a=new l(f.length>>>2<<5));I==0;)if(I=A(f,p,1),T=A(f,p+1,2),p+=3,T!=0){if(d&&(a=s.H.W(a,R+(1<<17))),T==1&&(E=m.J,_=m.h,M=511,S=31),T==2){v=y(f,p,5)+257,D=y(f,p+5,5)+1,N=y(f,p+10,4)+4,p+=14;let P=1;for(var L=0;L<38;L+=2)m.Q[L]=0,m.Q[L+1]=0;for(L=0;L<N;L++){const B=y(f,p+3*L,3);m.Q[1+(m.X[L]<<1)]=B,B>P&&(P=B)}p+=3*N,C(m.Q,P),F(m.Q,P,m.u),E=m.w,_=m.d,p=b(m.u,(1<<P)-1,v+D,f,p,m.v);const w=g.V(m.v,0,v,m.C);M=(1<<w)-1;const Z=g.V(m.v,v,D,m.D);S=(1<<Z)-1,C(m.C,w),F(m.C,w,E),C(m.D,Z),F(m.D,Z,_)}for(;;){const P=E[U(f,p)&M];p+=15&P;const w=P>>>4;if(!(w>>>8))a[R++]=w;else{if(w==256)break;{let Z=R+w-254;if(w>264){const $=m.q[w-257];Z=R+($>>>3)+y(f,p,7&$),p+=7&$}const B=_[U(f,p)&S];p+=15&B;const j=B>>>4,k=m.c[j],O=(k>>>4)+A(f,p,15&k);for(p+=15&k;R<Z;)a[R]=a[R++-O],a[R]=a[R++-O],a[R]=a[R++-O],a[R]=a[R++-O];R=Z}}}}else{7&p&&(p+=8-(7&p));const P=4+(p>>>3),w=f[P-4]|f[P-3]<<8;d&&(a=s.H.W(a,R+w)),a.set(new l(f.buffer,f.byteOffset+P,w),R),p=P+w<<3,R+=w}return a.length==R?a:a.slice(0,R)},s.H.W=function(f,a){const l=f.length;if(a<=l)return f;const E=new Uint8Array(l<<1);return E.set(f,0),E},s.H.R=function(f,a,l,E,_,I){const T=s.H.e,v=s.H.Z;let D=0;for(;D<l;){const N=f[v(E,_)&a];_+=15&N;const M=N>>>4;if(M<=15)I[D]=M,D++;else{let S=0,R=0;M==16?(R=3+T(E,_,2),_+=2,S=I[D-1]):M==17?(R=3+T(E,_,3),_+=3):M==18&&(R=11+T(E,_,7),_+=7);const p=D+R;for(;D<p;)I[D]=S,D++}}return _},s.H.V=function(f,a,l,E){let _=0,I=0;const T=E.length>>>1;for(;I<l;){const v=f[I+a];E[I<<1]=0,E[1+(I<<1)]=v,v>_&&(_=v),I++}for(;I<T;)E[I<<1]=0,E[1+(I<<1)]=0,I++;return _},s.H.n=function(f,a){const l=s.H.m,E=f.length;let _,I,T,v;const D=l.j;for(var N=0;N<=a;N++)D[N]=0;for(N=1;N<E;N+=2)D[f[N]]++;const M=l.K;for(_=0,D[0]=0,I=1;I<=a;I++)_=_+D[I-1]<<1,M[I]=_;for(T=0;T<E;T+=2)v=f[T+1],v!=0&&(f[T]=M[v],M[v]++)},s.H.A=function(f,a,l){const E=f.length,_=s.H.m.r;for(let I=0;I<E;I+=2)if(f[I+1]!=0){const T=I>>1,v=f[I+1],D=T<<4|v,N=a-v;let M=f[I]<<N;const S=M+(1<<N);for(;M!=S;)l[_[M]>>>15-a]=D,M++}},s.H.l=function(f,a){const l=s.H.m.r,E=15-a;for(let _=0;_<f.length;_+=2){const I=f[_]<<a-f[_+1];f[_]=l[I]>>>E}},s.H.M=function(f,a,l){l<<=7&a;const E=a>>>3;f[E]|=l,f[E+1]|=l>>>8},s.H.I=function(f,a,l){l<<=7&a;const E=a>>>3;f[E]|=l,f[E+1]|=l>>>8,f[E+2]|=l>>>16},s.H.e=function(f,a,l){return(f[a>>>3]|f[1+(a>>>3)]<<8)>>>(7&a)&(1<<l)-1},s.H.b=function(f,a,l){return(f[a>>>3]|f[1+(a>>>3)]<<8|f[2+(a>>>3)]<<16)>>>(7&a)&(1<<l)-1},s.H.Z=function(f,a){return(f[a>>>3]|f[1+(a>>>3)]<<8|f[2+(a>>>3)]<<16)>>>(7&a)},s.H.i=function(f,a){return(f[a>>>3]|f[1+(a>>>3)]<<8|f[2+(a>>>3)]<<16|f[3+(a>>>3)]<<24)>>>(7&a)},s.H.m=function(){const f=Uint16Array,a=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new a(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new a(286),Y:new a(30),a:new a(19),t:new a(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=s.H.m;for(var a=0;a<32768;a++){let E=a;E=(2863311530&E)>>>1|(1431655765&E)<<1,E=(3435973836&E)>>>2|(858993459&E)<<2,E=(4042322160&E)>>>4|(252645135&E)<<4,E=(4278255360&E)>>>8|(16711935&E)<<8,f.r[a]=(E>>>16|E<<16)>>>17}function l(E,_,I){for(;_--!=0;)E.push(0,I)}for(a=0;a<32;a++)f.q[a]=f.S[a]<<3|f.T[a],f.c[a]=f.p[a]<<4|f.z[a];l(f._,144,8),l(f._,112,9),l(f._,24,7),l(f._,8,8),s.H.n(f._,9),s.H.A(f._,9,f.J),s.H.l(f._,9),l(f.$,32,5),s.H.n(f.$,5),s.H.A(f.$,5,f.h),s.H.l(f.$,5),l(f.Q,19,0),l(f.C,286,0),l(f.D,30,0),l(f.v,320,0)}(),s.H.N}();function i(s){return[1,null,3,1,2,null,4][s.ctype]*s.depth}function c(s,f,a,l,E){let _=i(f);const I=Math.ceil(l*_/8);let T,v;_=Math.ceil(_/8);let D=s[a],N=0;if(D>1&&(s[a]=[0,0,1][D-2]),D==3)for(N=_;N<I;N++)s[N+1]=s[N+1]+(s[N+1-_]>>>1)&255;for(let M=0;M<E;M++)if(T=a+M*I,v=T+M+1,D=s[v-1],N=0,D==0)for(;N<I;N++)s[T+N]=s[v+N];else if(D==1){for(;N<_;N++)s[T+N]=s[v+N];for(;N<I;N++)s[T+N]=s[v+N]+s[T+N-_]}else if(D==2)for(;N<I;N++)s[T+N]=s[v+N]+s[T+N-I];else if(D==3){for(;N<_;N++)s[T+N]=s[v+N]+(s[T+N-I]>>>1);for(;N<I;N++)s[T+N]=s[v+N]+(s[T+N-I]+s[T+N-_]>>>1)}else{for(;N<_;N++)s[T+N]=s[v+N]+u(0,s[T+N-I],0);for(;N<I;N++)s[T+N]=s[v+N]+u(s[T+N-_],s[T+N-I],s[T+N-_-I])}return s}function u(s,f,a){const l=s+f-a,E=l-s,_=l-f,I=l-a;return E*E<=_*_&&E*E<=I*I?s:_*_<=I*I?f:a}function h(s,f,a){a.width=e.readUint(s,f),f+=4,a.height=e.readUint(s,f),f+=4,a.depth=s[f],f++,a.ctype=s[f],f++,a.compress=s[f],f++,a.filter=s[f],f++,a.interlace=s[f],f++}function x(s,f,a,l,E,_,I,T,v){const D=Math.min(f,E),N=Math.min(a,_);let M=0,S=0;for(let U=0;U<N;U++)for(let m=0;m<D;m++)if(I>=0&&T>=0?(M=U*f+m<<2,S=(T+U)*E+I+m<<2):(M=(-T+U)*f-I+m<<2,S=U*E+m<<2),v==0)l[S]=s[M],l[S+1]=s[M+1],l[S+2]=s[M+2],l[S+3]=s[M+3];else if(v==1){var R=s[M+3]*.00392156862745098,p=s[M]*R,g=s[M+1]*R,A=s[M+2]*R,y=l[S+3]*(1/255),b=l[S]*y,C=l[S+1]*y,F=l[S+2]*y;const d=1-R,L=R+y*d,P=L==0?0:1/L;l[S+3]=255*L,l[S+0]=(p+b*d)*P,l[S+1]=(g+C*d)*P,l[S+2]=(A+F*d)*P}else if(v==2)R=s[M+3],p=s[M],g=s[M+1],A=s[M+2],y=l[S+3],b=l[S],C=l[S+1],F=l[S+2],R==y&&p==b&&g==C&&A==F?(l[S]=0,l[S+1]=0,l[S+2]=0,l[S+3]=0):(l[S]=p,l[S+1]=g,l[S+2]=A,l[S+3]=R);else if(v==3){if(R=s[M+3],p=s[M],g=s[M+1],A=s[M+2],y=l[S+3],b=l[S],C=l[S+1],F=l[S+2],R==y&&p==b&&g==C&&A==F)continue;if(R<220&&y>20)return!1}return!0}return{decode:function(f){const a=new Uint8Array(f);let l=8;const E=e,_=E.readUshort,I=E.readUint,T={tabs:{},frames:[]},v=new Uint8Array(a.length);let D,N=0,M=0;const S=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(a[R]!=S[R])throw"The input is not a PNG file!";for(;l<a.length;){const U=E.readUint(a,l);l+=4;const m=E.readASCII(a,l,4);if(l+=4,m=="IHDR")h(a,l,T);else if(m=="iCCP"){for(var p=l;a[p]!=0;)p++;E.readASCII(a,l,p-l),a[p+1];const d=a.slice(p+2,l+U);let L=null;try{L=o(d)}catch{L=t(d)}T.tabs[m]=L}else if(m=="CgBI")T.tabs[m]=a.slice(l,l+4);else if(m=="IDAT"){for(R=0;R<U;R++)v[N+R]=a[l+R];N+=U}else if(m=="acTL")T.tabs[m]={num_frames:I(a,l),num_plays:I(a,l+4)},D=new Uint8Array(a.length);else if(m=="fcTL"){M!=0&&((F=T.frames[T.frames.length-1]).data=r(T,D.slice(0,M),F.rect.width,F.rect.height),M=0);const d={x:I(a,l+12),y:I(a,l+16),width:I(a,l+4),height:I(a,l+8)};let L=_(a,l+22);L=_(a,l+20)/(L==0?100:L);const P={rect:d,delay:Math.round(1e3*L),dispose:a[l+24],blend:a[l+25]};T.frames.push(P)}else if(m=="fdAT"){for(R=0;R<U-4;R++)D[M+R]=a[l+R+4];M+=U-4}else if(m=="pHYs")T.tabs[m]=[E.readUint(a,l),E.readUint(a,l+4),a[l+8]];else if(m=="cHRM")for(T.tabs[m]=[],R=0;R<8;R++)T.tabs[m].push(E.readUint(a,l+4*R));else if(m=="tEXt"||m=="zTXt"){T.tabs[m]==null&&(T.tabs[m]={});var g=E.nextZero(a,l),A=E.readASCII(a,l,g-l),y=l+U-g-1;if(m=="tEXt")C=E.readASCII(a,g+1,y);else{var b=o(a.slice(g+2,g+2+y));C=E.readUTF8(b,0,b.length)}T.tabs[m][A]=C}else if(m=="iTXt"){T.tabs[m]==null&&(T.tabs[m]={}),g=0,p=l,g=E.nextZero(a,p),A=E.readASCII(a,p,g-p);const d=a[p=g+1];var C;a[p+1],p+=2,g=E.nextZero(a,p),E.readASCII(a,p,g-p),p=g+1,g=E.nextZero(a,p),E.readUTF8(a,p,g-p),y=U-((p=g+1)-l),d==0?C=E.readUTF8(a,p,y):(b=o(a.slice(p,p+y)),C=E.readUTF8(b,0,b.length)),T.tabs[m][A]=C}else if(m=="PLTE")T.tabs[m]=E.readBytes(a,l,U);else if(m=="hIST"){const d=T.tabs.PLTE.length/3;for(T.tabs[m]=[],R=0;R<d;R++)T.tabs[m].push(_(a,l+2*R))}else if(m=="tRNS")T.ctype==3?T.tabs[m]=E.readBytes(a,l,U):T.ctype==0?T.tabs[m]=_(a,l):T.ctype==2&&(T.tabs[m]=[_(a,l),_(a,l+2),_(a,l+4)]);else if(m=="gAMA")T.tabs[m]=E.readUint(a,l)/1e5;else if(m=="sRGB")T.tabs[m]=a[l];else if(m=="bKGD")T.ctype==0||T.ctype==4?T.tabs[m]=[_(a,l)]:T.ctype==2||T.ctype==6?T.tabs[m]=[_(a,l),_(a,l+2),_(a,l+4)]:T.ctype==3&&(T.tabs[m]=a[l]);else if(m=="IEND")break;l+=U,E.readUint(a,l),l+=4}var F;return M!=0&&((F=T.frames[T.frames.length-1]).data=r(T,D.slice(0,M),F.rect.width,F.rect.height)),T.data=r(T,v,T.width,T.height),delete T.compress,delete T.interlace,delete T.filter,T},toRGBA8:function(f){const a=f.width,l=f.height;if(f.tabs.acTL==null)return[n(f.data,a,l,f).buffer];const E=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const _=a*l*4,I=new Uint8Array(_),T=new Uint8Array(_),v=new Uint8Array(_);for(let N=0;N<f.frames.length;N++){const M=f.frames[N],S=M.rect.x,R=M.rect.y,p=M.rect.width,g=M.rect.height,A=n(M.data,p,g,f);if(N!=0)for(var D=0;D<_;D++)v[D]=I[D];if(M.blend==0?x(A,p,g,I,a,l,S,R,0):M.blend==1&&x(A,p,g,I,a,l,S,R,1),E.push(I.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)x(T,p,g,I,a,l,S,R,0);else if(M.dispose==2)for(D=0;D<_;D++)I[D]=v[D]}}return E},_paeth:u,_copyTile:x,_bin:e}}();(function(){const{_copyTile:e}=Ie,{_bin:n}=Ie,r=Ie._paeth;var o={table:function(){const p=new Uint32Array(256);for(let g=0;g<256;g++){let A=g;for(let y=0;y<8;y++)1&A?A=3988292384^A>>>1:A>>>=1;p[g]=A}return p}(),update(p,g,A,y){for(let b=0;b<y;b++)p=o.table[255&(p^g[A+b])]^p>>>8;return p},crc:(p,g,A)=>4294967295^o.update(4294967295,p,g,A)};function t(p,g,A,y){g[A]+=p[0]*y>>4,g[A+1]+=p[1]*y>>4,g[A+2]+=p[2]*y>>4,g[A+3]+=p[3]*y>>4}function i(p){return Math.max(0,Math.min(255,p))}function c(p,g){const A=p[0]-g[0],y=p[1]-g[1],b=p[2]-g[2],C=p[3]-g[3];return A*A+y*y+b*b+C*C}function u(p,g,A,y,b,C,F){F==null&&(F=1);const U=y.length,m=[];for(var d=0;d<U;d++){const O=y[d];m.push([O>>>0&255,O>>>8&255,O>>>16&255,O>>>24&255])}for(d=0;d<U;d++){let O=4294967295;for(var L=0,P=0;P<U;P++){var w=c(m[d],m[P]);P!=d&&w<O&&(O=w,L=P)}}const Z=new Uint32Array(b.buffer),B=new Int16Array(g*A*4),j=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(d=0;d<j.length;d++)j[d]=255*((j[d]+.5)/16-.5);for(let O=0;O<A;O++)for(let $=0;$<g;$++){var k;d=4*(O*g+$),F!=2?k=[i(p[d]+B[d]),i(p[d+1]+B[d+1]),i(p[d+2]+B[d+2]),i(p[d+3]+B[d+3])]:(w=j[4*(3&O)+(3&$)],k=[i(p[d]+w),i(p[d+1]+w),i(p[d+2]+w),i(p[d+3]+w)]),L=0;let V=16777215;for(P=0;P<U;P++){const J=c(k,m[P]);J<V&&(V=J,L=P)}const Y=m[L],W=[k[0]-Y[0],k[1]-Y[1],k[2]-Y[2],k[3]-Y[3]];F==1&&($!=g-1&&t(W,B,d+4,7),O!=A-1&&($!=0&&t(W,B,d+4*g-4,3),t(W,B,d+4*g,5),$!=g-1&&t(W,B,d+4*g+4,1))),C[d>>2]=L,Z[d>>2]=y[L]}}function h(p,g,A,y,b){b==null&&(b={});const{crc:C}=o,F=n.writeUint,U=n.writeUshort,m=n.writeASCII;let d=8;const L=p.frames.length>1;let P,w=!1,Z=33+(L?20:0);if(b.sRGB!=null&&(Z+=13),b.pHYs!=null&&(Z+=21),b.iCCP!=null&&(P=pako.deflate(b.iCCP),Z+=21+P.length+4),p.ctype==3){for(var B=p.plte.length,j=0;j<B;j++)p.plte[j]>>>24!=255&&(w=!0);Z+=8+3*B+4+(w?8+1*B+4:0)}for(var k=0;k<p.frames.length;k++)L&&(Z+=38),Z+=(Y=p.frames[k]).cimg.length+12,k!=0&&(Z+=4);Z+=12;const O=new Uint8Array(Z),$=[137,80,78,71,13,10,26,10];for(j=0;j<8;j++)O[j]=$[j];if(F(O,d,13),d+=4,m(O,d,"IHDR"),d+=4,F(O,d,g),d+=4,F(O,d,A),d+=4,O[d]=p.depth,d++,O[d]=p.ctype,d++,O[d]=0,d++,O[d]=0,d++,O[d]=0,d++,F(O,d,C(O,d-17,17)),d+=4,b.sRGB!=null&&(F(O,d,1),d+=4,m(O,d,"sRGB"),d+=4,O[d]=b.sRGB,d++,F(O,d,C(O,d-5,5)),d+=4),b.iCCP!=null){const W=13+P.length;F(O,d,W),d+=4,m(O,d,"iCCP"),d+=4,m(O,d,"ICC profile"),d+=11,d+=2,O.set(P,d),d+=P.length,F(O,d,C(O,d-(W+4),W+4)),d+=4}if(b.pHYs!=null&&(F(O,d,9),d+=4,m(O,d,"pHYs"),d+=4,F(O,d,b.pHYs[0]),d+=4,F(O,d,b.pHYs[1]),d+=4,O[d]=b.pHYs[2],d++,F(O,d,C(O,d-13,13)),d+=4),L&&(F(O,d,8),d+=4,m(O,d,"acTL"),d+=4,F(O,d,p.frames.length),d+=4,F(O,d,b.loop!=null?b.loop:0),d+=4,F(O,d,C(O,d-12,12)),d+=4),p.ctype==3){for(F(O,d,3*(B=p.plte.length)),d+=4,m(O,d,"PLTE"),d+=4,j=0;j<B;j++){const W=3*j,J=p.plte[j],te=255&J,se=J>>>8&255,ve=J>>>16&255;O[d+W+0]=te,O[d+W+1]=se,O[d+W+2]=ve}if(d+=3*B,F(O,d,C(O,d-3*B-4,3*B+4)),d+=4,w){for(F(O,d,B),d+=4,m(O,d,"tRNS"),d+=4,j=0;j<B;j++)O[d+j]=p.plte[j]>>>24&255;d+=B,F(O,d,C(O,d-B-4,B+4)),d+=4}}let V=0;for(k=0;k<p.frames.length;k++){var Y=p.frames[k];L&&(F(O,d,26),d+=4,m(O,d,"fcTL"),d+=4,F(O,d,V++),d+=4,F(O,d,Y.rect.width),d+=4,F(O,d,Y.rect.height),d+=4,F(O,d,Y.rect.x),d+=4,F(O,d,Y.rect.y),d+=4,U(O,d,y[k]),d+=2,U(O,d,1e3),d+=2,O[d]=Y.dispose,d++,O[d]=Y.blend,d++,F(O,d,C(O,d-30,30)),d+=4);const W=Y.cimg;F(O,d,(B=W.length)+(k==0?0:4)),d+=4;const J=d;m(O,d,k==0?"IDAT":"fdAT"),d+=4,k!=0&&(F(O,d,V++),d+=4),O.set(W,d),d+=B,F(O,d,C(O,J,d-J)),d+=4}return F(O,d,0),d+=4,m(O,d,"IEND"),d+=4,F(O,d,C(O,d-4,4)),d+=4,O.buffer}function x(p,g,A){for(let y=0;y<p.frames.length;y++){const b=p.frames[y];b.rect.width;const C=b.rect.height,F=new Uint8Array(C*b.bpl+C);b.cimg=l(b.img,C,b.bpp,b.bpl,F,g,A)}}function s(p,g,A,y,b){const C=b[0],F=b[1],U=b[2],m=b[3],d=b[4],L=b[5];let P=6,w=8,Z=255;for(var B=0;B<p.length;B++){const ce=new Uint8Array(p[B]);for(var j=ce.length,k=0;k<j;k+=4)Z&=ce[k+3]}const O=Z!=255,$=function(ee,q,ae,de,re,me){const ie=[];for(var Q=0;Q<ee.length;Q++){const he=new Uint8Array(ee[Q]),Te=new Uint32Array(he.buffer);var xe;let Ee=0,Ce=0,Fe=q,we=ae,Sn=de?1:0;if(Q!=0){const Ir=me||de||Q==1||ie[Q-2].dispose!=0?1:2;let Tn=0,$n=1e9;for(let qe=0;qe<Ir;qe++){var Ue=new Uint8Array(ee[Q-1-qe]);const Ar=new Uint32Array(ee[Q-1-qe]);let Ne=q,Re=ae,Ze=-1,Qe=-1;for(let ke=0;ke<ae;ke++)for(let Ge=0;Ge<q;Ge++)Te[ue=ke*q+Ge]!=Ar[ue]&&(Ge<Ne&&(Ne=Ge),Ge>Ze&&(Ze=Ge),ke<Re&&(Re=ke),ke>Qe&&(Qe=ke));Ze==-1&&(Ne=Re=Ze=Qe=0),re&&((1&Ne)==1&&Ne--,(1&Re)==1&&Re--);const zn=(Ze-Ne+1)*(Qe-Re+1);zn<$n&&($n=zn,Tn=qe,Ee=Ne,Ce=Re,Fe=Ze-Ne+1,we=Qe-Re+1)}Ue=new Uint8Array(ee[Q-1-Tn]),Tn==1&&(ie[Q-1].dispose=2),xe=new Uint8Array(Fe*we*4),e(Ue,q,ae,xe,Fe,we,-Ee,-Ce,0),Sn=e(he,q,ae,xe,Fe,we,-Ee,-Ce,3)?1:0,Sn==1?a(he,q,ae,xe,{x:Ee,y:Ce,width:Fe,height:we}):e(he,q,ae,xe,Fe,we,-Ee,-Ce,0)}else xe=he.slice(0);ie.push({rect:{x:Ee,y:Ce,width:Fe,height:we},img:xe,blend:Sn,dispose:0})}if(de)for(Q=0;Q<ie.length;Q++){if((Le=ie[Q]).blend==1)continue;const he=Le.rect,Te=ie[Q-1].rect,Ee=Math.min(he.x,Te.x),Ce=Math.min(he.y,Te.y),Fe={x:Ee,y:Ce,width:Math.max(he.x+he.width,Te.x+Te.width)-Ee,height:Math.max(he.y+he.height,Te.y+Te.height)-Ce};ie[Q-1].dispose=1,Q-1!=0&&f(ee,q,ae,ie,Q-1,Fe,re),f(ee,q,ae,ie,Q,Fe,re)}let rn=0;if(ee.length!=1)for(var ue=0;ue<ie.length;ue++){var Le;rn+=(Le=ie[ue]).rect.width*Le.rect.height}return ie}(p,g,A,C,F,U),V={},Y=[],W=[];if(y!=0){const ce=[];for(k=0;k<$.length;k++)ce.push($[k].img.buffer);const ee=function(re){let me=0;for(var ie=0;ie<re.length;ie++)me+=re[ie].byteLength;const Q=new Uint8Array(me);let xe=0;for(ie=0;ie<re.length;ie++){const Ue=new Uint8Array(re[ie]),rn=Ue.length;for(let ue=0;ue<rn;ue+=4){let Le=Ue[ue],he=Ue[ue+1],Te=Ue[ue+2];const Ee=Ue[ue+3];Ee==0&&(Le=he=Te=0),Q[xe+ue]=Le,Q[xe+ue+1]=he,Q[xe+ue+2]=Te,Q[xe+ue+3]=Ee}xe+=rn}return Q.buffer}(ce),q=_(ee,y);for(k=0;k<q.plte.length;k++)Y.push(q.plte[k].est.rgba);let ae=0;for(k=0;k<$.length;k++){const de=(te=$[k]).img.length;var J=new Uint8Array(q.inds.buffer,ae>>2,de>>2);W.push(J);const re=new Uint8Array(q.abuf,ae,de);L&&u(te.img,te.rect.width,te.rect.height,Y,re,J),te.img.set(re),ae+=de}}else for(B=0;B<$.length;B++){var te=$[B];const ce=new Uint32Array(te.img.buffer);var se=te.rect.width;for(j=ce.length,J=new Uint8Array(j),W.push(J),k=0;k<j;k++){const ee=ce[k];if(k!=0&&ee==ce[k-1])J[k]=J[k-1];else if(k>se&&ee==ce[k-se])J[k]=J[k-se];else{let q=V[ee];if(q==null&&(V[ee]=q=Y.length,Y.push(ee),Y.length>=300))break;J[k]=q}}}const ve=Y.length;for(ve<=256&&d==0&&(w=ve<=2?1:ve<=4?2:ve<=16?4:8,w=Math.max(w,m)),B=0;B<$.length;B++){(te=$[B]).rect.x,te.rect.y,se=te.rect.width;const ce=te.rect.height;let ee=te.img;new Uint32Array(ee.buffer);let q=4*se,ae=4;if(ve<=256&&d==0){q=Math.ceil(w*se/8);var Ae=new Uint8Array(q*ce);const de=W[B];for(let re=0;re<ce;re++){k=re*q;const me=re*se;if(w==8)for(var ne=0;ne<se;ne++)Ae[k+ne]=de[me+ne];else if(w==4)for(ne=0;ne<se;ne++)Ae[k+(ne>>1)]|=de[me+ne]<<4-4*(1&ne);else if(w==2)for(ne=0;ne<se;ne++)Ae[k+(ne>>2)]|=de[me+ne]<<6-2*(3&ne);else if(w==1)for(ne=0;ne<se;ne++)Ae[k+(ne>>3)]|=de[me+ne]<<7-1*(7&ne)}ee=Ae,P=3,ae=1}else if(O==0&&$.length==1){Ae=new Uint8Array(se*ce*3);const de=se*ce;for(k=0;k<de;k++){const re=3*k,me=4*k;Ae[re]=ee[me],Ae[re+1]=ee[me+1],Ae[re+2]=ee[me+2]}ee=Ae,P=2,ae=3,q=3*se}te.img=ee,te.bpl=q,te.bpp=ae}return{ctype:P,depth:w,plte:Y,frames:$}}function f(p,g,A,y,b,C,F){const U=Uint8Array,m=Uint32Array,d=new U(p[b-1]),L=new m(p[b-1]),P=b+1<p.length?new U(p[b+1]):null,w=new U(p[b]),Z=new m(w.buffer);let B=g,j=A,k=-1,O=-1;for(let V=0;V<C.height;V++)for(let Y=0;Y<C.width;Y++){const W=C.x+Y,J=C.y+V,te=J*g+W,se=Z[te];se==0||y[b-1].dispose==0&&L[te]==se&&(P==null||P[4*te+3]!=0)||(W<B&&(B=W),W>k&&(k=W),J<j&&(j=J),J>O&&(O=J))}k==-1&&(B=j=k=O=0),F&&((1&B)==1&&B--,(1&j)==1&&j--),C={x:B,y:j,width:k-B+1,height:O-j+1};const $=y[b];$.rect=C,$.blend=1,$.img=new Uint8Array(C.width*C.height*4),y[b-1].dispose==0?(e(d,g,A,$.img,C.width,C.height,-C.x,-C.y,0),a(w,g,A,$.img,C)):e(w,g,A,$.img,C.width,C.height,-C.x,-C.y,0)}function a(p,g,A,y,b){e(p,g,A,y,b.width,b.height,-b.x,-b.y,2)}function l(p,g,A,y,b,C,F){const U=[];let m,d=[0,1,2,3,4];C!=-1?d=[C]:(g*y>5e5||A==1)&&(d=[0]),F&&(m={level:0});const L=uc;for(var P=0;P<d.length;P++){for(let B=0;B<g;B++)E(b,p,B,y,A,d[P]);U.push(L.deflate(b,m))}let w,Z=1e9;for(P=0;P<U.length;P++)U[P].length<Z&&(w=P,Z=U[P].length);return U[w]}function E(p,g,A,y,b,C){const F=A*y;let U=F+A;if(p[U]=C,U++,C==0)if(y<500)for(var m=0;m<y;m++)p[U+m]=g[F+m];else p.set(new Uint8Array(g.buffer,F,y),U);else if(C==1){for(m=0;m<b;m++)p[U+m]=g[F+m];for(m=b;m<y;m++)p[U+m]=g[F+m]-g[F+m-b]+256&255}else if(A==0){for(m=0;m<b;m++)p[U+m]=g[F+m];if(C==2)for(m=b;m<y;m++)p[U+m]=g[F+m];if(C==3)for(m=b;m<y;m++)p[U+m]=g[F+m]-(g[F+m-b]>>1)+256&255;if(C==4)for(m=b;m<y;m++)p[U+m]=g[F+m]-r(g[F+m-b],0,0)+256&255}else{if(C==2)for(m=0;m<y;m++)p[U+m]=g[F+m]+256-g[F+m-y]&255;if(C==3){for(m=0;m<b;m++)p[U+m]=g[F+m]+256-(g[F+m-y]>>1)&255;for(m=b;m<y;m++)p[U+m]=g[F+m]+256-(g[F+m-y]+g[F+m-b]>>1)&255}if(C==4){for(m=0;m<b;m++)p[U+m]=g[F+m]+256-r(0,g[F+m-y],0)&255;for(m=b;m<y;m++)p[U+m]=g[F+m]+256-r(g[F+m-b],g[F+m-y],g[F+m-b-y])&255}}}function _(p,g){const A=new Uint8Array(p),y=A.slice(0),b=new Uint32Array(y.buffer),C=I(y,g),F=C[0],U=C[1],m=A.length,d=new Uint8Array(m>>2);let L;if(A.length<2e7)for(var P=0;P<m;P+=4)L=T(F,w=A[P]*(1/255),Z=A[P+1]*(1/255),B=A[P+2]*(1/255),j=A[P+3]*(1/255)),d[P>>2]=L.ind,b[P>>2]=L.est.rgba;else for(P=0;P<m;P+=4){var w=A[P]*.00392156862745098,Z=A[P+1]*(1/255),B=A[P+2]*(1/255),j=A[P+3]*(1/255);for(L=F;L.left;)L=v(L.est,w,Z,B,j)<=0?L.left:L.right;d[P>>2]=L.ind,b[P>>2]=L.est.rgba}return{abuf:y.buffer,inds:d,plte:U}}function I(p,g,A){A==null&&(A=1e-4);const y=new Uint32Array(p.buffer),b={i0:0,i1:p.length,bst:null,est:null,tdst:0,left:null,right:null};b.bst=M(p,b.i0,b.i1),b.est=S(b.bst);const C=[b];for(;C.length<g;){let U=0,m=0;for(var F=0;F<C.length;F++)C[F].est.L>U&&(U=C[F].est.L,m=F);if(U<A)break;const d=C[m],L=D(p,y,d.i0,d.i1,d.est.e,d.est.eMq255);if(d.i0>=L||d.i1<=L){d.est.L=0;continue}const P={i0:d.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};P.bst=M(p,P.i0,P.i1),P.est=S(P.bst);const w={i0:L,i1:d.i1,bst:null,est:null,tdst:0,left:null,right:null};for(w.bst={R:[],m:[],N:d.bst.N-P.bst.N},F=0;F<16;F++)w.bst.R[F]=d.bst.R[F]-P.bst.R[F];for(F=0;F<4;F++)w.bst.m[F]=d.bst.m[F]-P.bst.m[F];w.est=S(w.bst),d.left=P,d.right=w,C[m]=P,C.push(w)}for(C.sort((U,m)=>m.bst.N-U.bst.N),F=0;F<C.length;F++)C[F].ind=F;return[b,C]}function T(p,g,A,y,b){if(p.left==null)return p.tdst=function(P,w,Z,B,j){const k=w-P[0],O=Z-P[1],$=B-P[2],V=j-P[3];return k*k+O*O+$*$+V*V}(p.est.q,g,A,y,b),p;const C=v(p.est,g,A,y,b);let F=p.left,U=p.right;C>0&&(F=p.right,U=p.left);const m=T(F,g,A,y,b);if(m.tdst<=C*C)return m;const d=T(U,g,A,y,b);return d.tdst<m.tdst?d:m}function v(p,g,A,y,b){const{e:C}=p;return C[0]*g+C[1]*A+C[2]*y+C[3]*b-p.eMq}function D(p,g,A,y,b,C){for(y-=4;A<y;){for(;N(p,A,b)<=C;)A+=4;for(;N(p,y,b)>C;)y-=4;if(A>=y)break;const F=g[A>>2];g[A>>2]=g[y>>2],g[y>>2]=F,A+=4,y-=4}for(;N(p,A,b)>C;)A-=4;return A+4}function N(p,g,A){return p[g]*A[0]+p[g+1]*A[1]+p[g+2]*A[2]+p[g+3]*A[3]}function M(p,g,A){const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=[0,0,0,0],C=A-g>>2;for(let F=g;F<A;F+=4){const U=p[F]*.00392156862745098,m=p[F+1]*(1/255),d=p[F+2]*(1/255),L=p[F+3]*(1/255);b[0]+=U,b[1]+=m,b[2]+=d,b[3]+=L,y[0]+=U*U,y[1]+=U*m,y[2]+=U*d,y[3]+=U*L,y[5]+=m*m,y[6]+=m*d,y[7]+=m*L,y[10]+=d*d,y[11]+=d*L,y[15]+=L*L}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m:b,N:C}}function S(p){const{R:g}=p,{m:A}=p,{N:y}=p,b=A[0],C=A[1],F=A[2],U=A[3],m=y==0?0:1/y,d=[g[0]-b*b*m,g[1]-b*C*m,g[2]-b*F*m,g[3]-b*U*m,g[4]-C*b*m,g[5]-C*C*m,g[6]-C*F*m,g[7]-C*U*m,g[8]-F*b*m,g[9]-F*C*m,g[10]-F*F*m,g[11]-F*U*m,g[12]-U*b*m,g[13]-U*C*m,g[14]-U*F*m,g[15]-U*U*m],L=d,P=R;let w=[Math.random(),Math.random(),Math.random(),Math.random()],Z=0,B=0;if(y!=0)for(let k=0;k<16&&(w=P.multVec(L,w),B=Math.sqrt(P.dot(w,w)),w=P.sml(1/B,w),!(k!=0&&Math.abs(B-Z)<1e-9));k++)Z=B;const j=[b*m,C*m,F*m,U*m];return{Cov:d,q:j,e:w,L:Z,eMq255:P.dot(P.sml(255,j),w),eMq:P.dot(w,j),rgba:(Math.round(255*j[3])<<24|Math.round(255*j[2])<<16|Math.round(255*j[1])<<8|Math.round(255*j[0])<<0)>>>0}}var R={multVec:(p,g)=>[p[0]*g[0]+p[1]*g[1]+p[2]*g[2]+p[3]*g[3],p[4]*g[0]+p[5]*g[1]+p[6]*g[2]+p[7]*g[3],p[8]*g[0]+p[9]*g[1]+p[10]*g[2]+p[11]*g[3],p[12]*g[0]+p[13]*g[1]+p[14]*g[2]+p[15]*g[3]],dot:(p,g)=>p[0]*g[0]+p[1]*g[1]+p[2]*g[2]+p[3]*g[3],sml:(p,g)=>[p*g[0],p*g[1],p*g[2],p*g[3]]};Ie.encode=function(g,A,y,b,C,F,U){b==null&&(b=0),U==null&&(U=!1);const m=s(g,A,y,b,[!1,!1,!1,0,U,!1]);return x(m,-1),h(m,A,y,C,F)},Ie.encodeLL=function(g,A,y,b,C,F,U,m){const d={ctype:0+(b==1?0:2)+(C==0?0:4),depth:F,frames:[]},L=(b+C)*F,P=L*A;for(let w=0;w<g.length;w++)d.frames.push({rect:{x:0,y:0,width:A,height:y},img:new Uint8Array(g[w]),blend:0,dispose:1,bpp:Math.ceil(L/8),bpl:Math.ceil(P/8)});return x(d,0,!0),h(d,A,y,U,m)},Ie.encode.compress=s,Ie.encode.dither=u,Ie.quantize=_,Ie.quantize.getKDtree=I,Ie.quantize.getNearest=T})();const lr={toArrayBuffer(e,n){const r=e.width,o=e.height,t=r<<2,i=e.getContext("2d").getImageData(0,0,r,o),c=new Uint32Array(i.data.buffer),u=(32*r+31)/32<<2,h=u*o,x=122+h,s=new ArrayBuffer(x),f=new DataView(s),a=1<<20;let l,E,_,I,T=a,v=0,D=0,N=0;function M(p){f.setUint16(D,p,!0),D+=2}function S(p){f.setUint32(D,p,!0),D+=4}function R(p){D+=p}M(19778),S(x),R(4),S(122),S(108),S(r),S(-o>>>0),M(1),M(32),S(3),S(h),S(2835),S(2835),R(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function p(){for(;v<o&&T>0;){for(I=122+v*u,l=0;l<t;)T--,E=c[N++],_=E>>>24,f.setUint32(I+l,E<<8|_),l+=4;v++}N<c.length?(T=a,setTimeout(p,lr._dly)):n(s)}()},toBlob(e,n){this.toArrayBuffer(e,r=>{n(new Blob([r],{type:"image/bmp"}))})},_dly:9};var pe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},fc={[pe.CHROME]:16384,[pe.FIREFOX]:11180,[pe.DESKTOP_SAFARI]:16384,[pe.IE]:8192,[pe.IOS]:4096,[pe.ETC]:8192};const jn=typeof window<"u",dr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,dn=jn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),lc=(jn||dr)&&(dn&&dn.getOriginalSymbol(window,"File")||typeof File<"u"&&File),hr=(jn||dr)&&(dn&&dn.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Zn(e,n,r=Date.now()){return new Promise(o=>{const t=e.split(","),i=t[0].match(/:(.*?);/)[1],c=globalThis.atob(t[1]);let u=c.length;const h=new Uint8Array(u);for(;u--;)h[u]=c.charCodeAt(u);const x=new Blob([h],{type:i});x.name=n,x.lastModified=r,o(x)})}function gr(e){return new Promise((n,r)=>{const o=new hr;o.onload=()=>n(o.result),o.onerror=t=>r(t),o.readAsDataURL(e)})}function pr(e){return new Promise((n,r)=>{const o=new Image;o.onload=()=>n(o),o.onerror=t=>r(t),o.src=e})}function Be(){if(Be.cachedResult!==void 0)return Be.cachedResult;let e=pe.ETC;const{userAgent:n}=navigator;return/Chrom(e|ium)/i.test(n)?e=pe.CHROME:/iP(ad|od|hone)/i.test(n)&&/WebKit/i.test(n)?e=pe.IOS:/Safari/i.test(n)?e=pe.DESKTOP_SAFARI:/Firefox/i.test(n)?e=pe.FIREFOX:(/MSIE/i.test(n)||document.documentMode)&&(e=pe.IE),Be.cachedResult=e,Be.cachedResult}function mr(e,n){const r=Be(),o=fc[r];let t=e,i=n,c=t*i;const u=t>i?i/t:t/i;for(;c>o*o;){const h=(o+t)/2,x=(o+i)/2;h<x?(i=x,t=x*u):(i=h*u,t=h),c=t*i}return{width:t,height:i}}function En(e,n){let r,o;try{if(r=new OffscreenCanvas(e,n),o=r.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),o=r.getContext("2d")}return r.width=e,r.height=n,[r,o]}function xr(e,n){const{width:r,height:o}=mr(e.width,e.height),[t,i]=En(r,o);return n&&/jpe?g/.test(n)&&(i.fillStyle="white",i.fillRect(0,0,t.width,t.height)),i.drawImage(e,0,0,t.width,t.height),t}function an(){return an.cachedResult!==void 0||(an.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),an.cachedResult}function hn(e,n={}){return new Promise(function(r,o){let t,i;var c=function(){try{return i=xr(t,n.fileType||e.type),r([t,i])}catch(h){return o(h)}},u=function(h){try{var x=function(s){try{throw s}catch(f){return o(f)}};try{let s;return gr(e).then(function(f){try{return s=f,pr(s).then(function(a){try{return t=a,function(){try{return c()}catch(l){return o(l)}}()}catch(l){return x(l)}},x)}catch(a){return x(a)}},x)}catch(s){x(s)}}catch(s){return o(s)}};try{if(an()||[pe.DESKTOP_SAFARI,pe.MOBILE_SAFARI].includes(Be()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(h){try{return t=h,c()}catch{return u()}},u)}catch{u()}})}function gn(e,n,r,o,t=1){return new Promise(function(i,c){let u;if(n==="image/png"){let x,s,f;return x=e.getContext("2d"),{data:s}=x.getImageData(0,0,e.width,e.height),f=Ie.encode([s.buffer],e.width,e.height,4096*t),u=new Blob([f],{type:n}),u.name=r,u.lastModified=o,h.call(this)}{let x=function(){return h.call(this)};if(n==="image/bmp")return new Promise(s=>lr.toBlob(e,s)).then(function(s){try{return u=s,u.name=r,u.lastModified=o,x.call(this)}catch(f){return c(f)}}.bind(this),c);{let s=function(){return x.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:n,quality:t}).then(function(f){try{return u=f,u.name=r,u.lastModified=o,s.call(this)}catch(a){return c(a)}}.bind(this),c);{let f;return f=e.toDataURL(n,t),Zn(f,r,o).then(function(a){try{return u=a,s.call(this)}catch(l){return c(l)}}.bind(this),c)}}}function h(){return i(u)}})}function _e(e){e.width=0,e.height=0}function Ye(){return new Promise(function(e,n){let r,o,t,i;return Ye.cachedResult!==void 0?e(Ye.cachedResult):Zn("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return r=c,hn(r).then(function(u){try{return o=u[1],gn(o,r.type,r.name,r.lastModified).then(function(h){try{return t=h,_e(o),hn(t).then(function(x){try{return i=x[0],Ye.cachedResult=i.width===1&&i.height===2,e(Ye.cachedResult)}catch(s){return n(s)}},n)}catch(x){return n(x)}},n)}catch(h){return n(h)}},n)}catch(u){return n(u)}},n)})}function Er(e){return new Promise((n,r)=>{const o=new hr;o.onload=t=>{const i=new DataView(t.target.result);if(i.getUint16(0,!1)!=65496)return n(-2);const c=i.byteLength;let u=2;for(;u<c;){if(i.getUint16(u+2,!1)<=8)return n(-1);const h=i.getUint16(u,!1);if(u+=2,h==65505){if(i.getUint32(u+=2,!1)!=1165519206)return n(-1);const x=i.getUint16(u+=6,!1)==18761;u+=i.getUint32(u+4,x);const s=i.getUint16(u,x);u+=2;for(let f=0;f<s;f++)if(i.getUint16(u+12*f,x)==274)return n(i.getUint16(u+12*f+8,x))}else{if((65280&h)!=65280)break;u+=i.getUint16(u,!1)}}return n(-1)},o.onerror=t=>r(t),o.readAsArrayBuffer(e)})}function Sr(e,n){const{width:r}=e,{height:o}=e,{maxWidthOrHeight:t}=n;let i,c=e;return isFinite(t)&&(r>t||o>t)&&([c,i]=En(r,o),r>o?(c.width=t,c.height=o/r*t):(c.width=r/o*t,c.height=t),i.drawImage(e,0,0,c.width,c.height),_e(e)),c}function Tr(e,n){const{width:r}=e,{height:o}=e,[t,i]=En(r,o);switch(n>4&&n<9?(t.width=o,t.height=r):(t.width=r,t.height=o),n){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,o);break;case 4:i.transform(1,0,0,-1,0,o);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,o,0);break;case 7:i.transform(0,-1,-1,0,o,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(e,0,0,r,o),_e(e),t}function Ut(e,n,r=0){return new Promise(function(o,t){let i,c,u,h,x,s,f,a,l,E,_,I,T,v,D,N,M,S,R,p;function g(y=5){if(n.signal&&n.signal.aborted)throw n.signal.reason;i+=y,n.onProgress(Math.min(i,100))}function A(y){if(n.signal&&n.signal.aborted)throw n.signal.reason;i=Math.min(Math.max(y,i),100),n.onProgress(i)}return i=r,c=n.maxIteration||10,u=1024*n.maxSizeMB*1024,g(),hn(e,n).then(function(y){try{return[,h]=y,g(),x=Sr(h,n),g(),new Promise(function(b,C){var F;if(!(F=n.exifOrientation))return Er(e).then(function(m){try{return F=m,U.call(this)}catch(d){return C(d)}}.bind(this),C);function U(){return b(F)}return U.call(this)}).then(function(b){try{return s=b,g(),Ye().then(function(C){try{return f=C?x:Tr(x,s),g(),a=n.initialQuality||1,l=n.fileType||e.type,gn(f,l,e.name,e.lastModified,a).then(function(F){try{{let m=function(){if(c--&&(D>u||D>T)){let L,P;return L=p?.95*R.width:R.width,P=p?.95*R.height:R.height,[M,S]=En(L,P),S.drawImage(R,0,0,L,P),a*=l==="image/png"?.85:.95,gn(M,l,e.name,e.lastModified,a).then(function(w){try{return N=w,_e(R),R=M,D=N.size,A(Math.min(99,Math.floor((v-D)/(v-u)*100))),m}catch(Z){return t(Z)}},t)}return[1]},d=function(){return _e(R),_e(M),_e(x),_e(f),_e(h),A(100),o(N)};if(E=F,g(),_=E.size>u,I=E.size>e.size,!_&&!I)return A(100),o(E);var U;return T=e.size,v=E.size,D=v,R=f,p=!n.alwaysKeepResolution&&_,(U=function(L){for(;L;){if(L.then)return void L.then(U,t);try{if(L.pop){if(L.length)return L.pop()?d.call(this):L;L=m}else L=L.call(this)}catch(P){return t(P)}}}.bind(this))(m)}}catch(m){return t(m)}}.bind(this),t)}catch(F){return t(F)}}.bind(this),t)}catch(C){return t(C)}}.bind(this),t)}catch(b){return t(b)}}.bind(this),t)})}const dc=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let yn;function hc(e,n){return new Promise((r,o)=>{yn||(yn=function(c){const u=[];return typeof c=="function"?u.push(`(${c})()`):u.push(c),URL.createObjectURL(new Blob(u))}(dc));const t=new Worker(yn);t.addEventListener("message",function(c){if(n.signal&&n.signal.aborted)t.terminate();else if(c.data.progress===void 0){if(c.data.error)return o(new Error(c.data.error)),void t.terminate();r(c.data.file),t.terminate()}else n.onProgress(c.data.progress)}),t.addEventListener("error",o),n.signal&&n.signal.addEventListener("abort",()=>{o(n.signal.reason),t.terminate()}),t.postMessage({file:e,imageCompressionLibUrl:n.libURL,options:{...n,onProgress:void 0,signal:void 0}})})}function fe(e,n){return new Promise(function(r,o){let t,i,c,u,h,x;if(t={...n},c=0,{onProgress:u}=t,t.maxSizeMB=t.maxSizeMB||Number.POSITIVE_INFINITY,h=typeof t.useWebWorker!="boolean"||t.useWebWorker,delete t.useWebWorker,t.onProgress=l=>{c=l,typeof u=="function"&&u(c)},!(e instanceof Blob||e instanceof lc))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(new Error("The file given is not an image"));if(x=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!h||typeof Worker!="function"||x)return Ut(e,t).then(function(l){try{return i=l,a.call(this)}catch(E){return o(E)}}.bind(this),o);var s=function(){try{return a.call(this)}catch(l){return o(l)}}.bind(this),f=function(l){try{return Ut(e,t).then(function(E){try{return i=E,s()}catch(_){return o(_)}},o)}catch(E){return o(E)}};try{return t.libURL=t.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",hc(e,t).then(function(l){try{return i=l,s()}catch{return f()}},f)}catch{f()}function a(){try{i.name=e.name,i.lastModified=e.lastModified}catch{}try{t.preserveExif&&e.type==="image/jpeg"&&(!t.fileType||t.fileType&&t.fileType===e.type)&&(i=fr(e,i))}catch{}return r(i)}})}fe.getDataUrlFromFile=gr,fe.getFilefromDataUrl=Zn,fe.loadImage=pr,fe.drawImageInCanvas=xr,fe.drawFileInCanvas=hn,fe.canvasToFile=gn,fe.getExifOrientation=Er,fe.handleMaxWidthOrHeight=Sr,fe.followExifOrientation=Tr,fe.cleanupCanvasMemory=_e,fe.isAutoOrientationInBrowser=Ye,fe.approximateBelowMaximumCanvasSizeOfBrowser=mr,fe.copyExifWithoutOrientation=fr,fe.getBrowserName=Be,fe.version="2.0.2";const gc=e=>fe(e,{maxWidthOrHeight:1400,maxSizeMB:.1,initialQuality:.7}),pc="_popup_1p1u0_1",mc="_overlay_1p1u0_13",xc="_buttons_1p1u0_22",We={popup:pc,overlay:mc,buttons:xc},Ec=({okText:e="OK"})=>{const[n,r]=De.useState(!1),o=De.useRef(null),t=i=>{n&&(r(!1),o.current&&o.current(i))};return{renderPopup:({content:i})=>n?G.jsxs(br,{className:We.popup,overlayClassName:We.overlay,onRequestClose:()=>t(!1),isOpen:n,children:[G.jsx("div",{className:We.content,children:i}),G.jsxs("div",{className:We.buttons,children:[G.jsx("button",{className:Wn("btn btn-danger",We.cancel),onClick:()=>t(!1),children:"Cancel"}),G.jsx("button",{className:Wn("btn btn-success",We.ok),onClick:()=>t(!0),children:e})]})]}):null,confirm:()=>(r(!0),new Promise((i,c)=>{o.current=u=>{u?i():c()}}))}},Fc=()=>{var N;const e=_r(),n=yr(),r=Cr(),[o,t]=De.useState(!1),i=Xn(M=>{var S,R;return(R=(S=M.user.data)==null?void 0:S.player)==null?void 0:R.id}),[c,u]=De.useState(null),{renderPopup:h,confirm:x}=Ec({okText:"Submit"}),s=Xn(M=>{var S,R;return(R=(S=M.charts.data)==null?void 0:S[n.sharedChartId])==null?void 0:R.chart}),f=s&&`${s.track_name} ${s.chart_label}`,{register:a,handleSubmit:l,reset:E,watch:_,formState:I}=Dr({defaultValues:{grade:"",mix:"XX",mod:""}}),T=_("screenshot"),v=_(),D=async M=>{try{await x()}catch{return}t(!0),u(null);try{const S=await gc(M.screenshot[0]),R=await ur(M.screenshot[0]),p={...M,screenshot:S,date:(R||new Date).toISOString(),isExactDate:!!R,sharedChartId:Number(n.sharedChartId),playerId:i};console.log(p);const g=new FormData;for(const A in p)g.append(A,p[A]);await r(Pr({body:g,url:`${Ur}/results/add-result`})),E(),e(Nr.leaderboard.sharedChart.getPath(n)),await r(Rr()),r(Or())}catch(S){console.error(S),u(S)}t(!1)};return G.jsxs("div",{className:be.addResultPage,children:[h({content:G.jsxs("div",{className:be.confirmation,children:[G.jsxs("div",{className:be.splitPanels,children:[G.jsx("div",{className:be.screenshotPanel,children:T&&G.jsx(Pt,{file:T[0]})}),G.jsxs("div",{className:be.formPanel,children:[G.jsx("div",{className:be.chartName,children:f}),G.jsxs("div",{className:be.grid,children:[G.jsx("div",{children:"Grade"}),G.jsx("div",{children:v.grade}),G.jsx("div",{style:{color:"#29D7FF"},children:"Perfect"}),G.jsx("div",{style:{color:"#29D7FF"},children:v.perfect}),G.jsx("div",{style:{color:"#21d021"},children:"Great"}),G.jsx("div",{style:{color:"#21d021"},children:v.great}),G.jsx("div",{style:{color:"#dede3a"},children:"Good"}),G.jsx("div",{style:{color:"#dede3a"},children:v.good}),G.jsx("div",{style:{color:"#f278fc"},children:"Bad"}),G.jsx("div",{style:{color:"#f278fc"},children:v.bad}),G.jsx("div",{style:{color:"#f48181"},children:"Miss"}),G.jsx("div",{style:{color:"#f48181"},children:v.miss}),G.jsx("div",{children:"Combo"}),G.jsx("div",{children:v.combo}),G.jsx("div",{style:{fontWeight:"bold",fontSize:"110%"},children:"Score"}),G.jsx("div",{style:{fontWeight:"bold",fontSize:"110%"},children:v.score}),G.jsx("div",{children:"Mods"}),G.jsx("div",{children:v.mod||"None (normal mode)"})]})]})]}),G.jsxs("div",{className:be.warning,children:[G.jsx(Mr,{}),G.jsx("span",{children:"Submitting false results may result in a BAN. Make sure your screenshot is readable and the numbers you selected are correct."})]})]})}),G.jsx("h2",{children:"Submit a result"}),G.jsxs("p",{children:["Chart: ",f]}),G.jsxs("form",{onSubmit:l(D),className:be.addResultForm,children:[G.jsxs("label",{children:[G.jsx("span",{children:"Screenshot *"}),G.jsx("input",{className:`${be.fileInput} form-control`,type:"file",...a("screenshot",{required:!0})})]}),T&&((N=T[0])==null?void 0:N.name.toLowerCase().endsWith(".heic"))&&G.jsx("p",{children:"HEIC files are not supported. Please convert your screenshot to JPG or PNG."}),T&&G.jsx(Pt,{showDate:!0,file:T[0]}),G.jsxs("label",{children:[G.jsx("span",{children:"Grade *"}),G.jsxs("select",{className:"form-control",...a("grade",{required:!0,minLength:1}),children:[G.jsx("option",{value:"",disabled:!0,hidden:!0,children:"(select a grade)"}),G.jsx("option",{value:"SSS",children:"SSS"}),G.jsx("option",{value:"SS",children:"SS"}),G.jsx("option",{value:"S",children:"S"}),G.jsx("option",{value:"A+",children:"A+"}),G.jsx("option",{value:"A",children:"A"}),G.jsx("option",{value:"B",children:"B"}),G.jsx("option",{value:"C",children:"C"}),G.jsx("option",{value:"D",children:"D"}),G.jsx("option",{value:"F",children:"F"}),G.jsx("option",{value:"B+",children:"B+"}),G.jsx("option",{value:"C+",children:"C+"}),G.jsx("option",{value:"D+",children:"D+"}),G.jsx("option",{value:"F+",children:"F+"})]})]}),["perfect","great","good","bad","miss","combo"].map(M=>G.jsxs("label",{children:[G.jsxs("span",{children:[M[0].toUpperCase()+M.slice(1)," *"]}),G.jsx("input",{className:"form-control",inputMode:"numeric",placeholder:"000",...a(M,{required:!0,pattern:/^[0-9]+$/})})]})),G.jsxs("label",{children:[G.jsx("span",{children:"Score *"}),G.jsx("input",{className:"form-control",inputMode:"numeric",placeholder:"000000",...a("score",{required:!0,minLength:4,pattern:/^[0-9]+$/})})]}),G.jsxs("label",{children:[G.jsx("span",{children:"Mix *"}),G.jsxs("select",{className:"form-control",...a("mix",{required:!0}),children:[G.jsx("option",{value:"XX",children:"XX"}),G.jsx("option",{value:"Prime2",children:"Prime 2"}),G.jsx("option",{value:"Prime",children:"Prime"})]})]}),G.jsxs("label",{children:[G.jsx("span",{children:"Judge/rank *"}),G.jsxs("select",{className:"form-control",...a("mod"),children:[G.jsx("option",{value:"",children:"No mods"}),G.jsx("option",{value:"VJ",children:"Rank (VJ)"}),G.jsx("option",{value:"HJ",children:"HJ"})]})]}),G.jsx("button",{disabled:o||!I.isValid,className:"btn btn-dark",type:"submit",children:o?"Loading...":"Submit"}),c&&G.jsx("div",{className:"alert alert-danger",children:c.message})]})]})};export{Fc as default};
//# sourceMappingURL=AddResult-095f1969.js.map
