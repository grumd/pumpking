import{y as u,l as j,j as s,r as d,U as g,b as x,aj as f,a1 as m,a0 as P,as as L,at as y,au as N}from"./index-96dd55fe.js";function r({fetchList:e,title:l,renderRightSide:t}){const[c,n]=d.useState([]),[h,o]=d.useState(!1),p=t||(a=>s.jsxs("div",{className:"playcount",children:[s.jsx(f,{}),s.jsx("span",{children:a.countplay})]}));return d.useEffect(()=>{o(!0),e().then(a=>{a.success&&n(a.data),o(!1)}).catch(()=>{o(!1)})},[e]),s.jsxs("div",{className:"top-songs-list",children:[s.jsx("div",{className:"top-songs-header",children:s.jsx("span",{children:l})}),h&&s.jsx(g,{}),!h&&c.map((a,i)=>s.jsxs("div",{className:"top-songs-item",children:[s.jsx("div",{className:x("place",`top-${i+1}`,{best:i<3}),children:s.jsxs("span",{children:[i+1,"."]})}),s.jsx("div",{className:"song-name",children:a.full_name}),p(a)]},a.id))]})}function T(e){return t=>s.jsx("div",{className:"date",children:s.jsx("span",{children:t.last_play?m(e,P(t.last_play)):e.NEVER})})}const R=u(null,{fetchMostPlayed:L,fetchMostPlayedMonth:y,fetchLeastPlayed:N})(function({fetchMostPlayed:l,fetchMostPlayedMonth:t,fetchLeastPlayed:c}){const n=j();return s.jsxs("div",{className:"songs-top-page",children:[s.jsx(r,{fetchList:l,title:n.TOP_POPULAR_TRACKS}),s.jsx(r,{fetchList:t,title:n.MONTHLY_TOP_POPULAR_TRACKS}),s.jsx(r,{fetchList:c,title:n.TRACKS_PLAYED_LONG_TIME_AGO,renderRightSide:T(n)}),s.jsx("div",{className:"top-songs-list -placeholder"})]})});export{R as default};
//# sourceMappingURL=SongsTop-bfca401f.js.map
