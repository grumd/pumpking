import{r as i,A as De,p as N,s as te,i as m,B as G,t as re,x as be,y as $e,X as ht,v as J,Y as mt,w as H,o as T,D as ze,j as o,b as Y,u as D,d as ne,G as vt,N as Fe,Z as pt,F as gt,$ as yt}from"./index-a8ec4dd6.js";import{c as He,u as xt,F as St,a as Et,b as We}from"./Flex-da6288ff.js";import{n as ae,a as jt,O as bt,T as Ve,t as wt,L as se,A as xe,C as Ye,r as Xe,w as we,G as Se,B as qe,x as O}from"./timeAgo-8f14e0b1.js";import{u as Mt,C as Ct,A as _t}from"./Alert-5ad018e2.js";import{G as Nt,a as Rt,b as Bt,c as Tt,d as kt,e as Pt,f as It,g as Ot,h as Lt,i as At,j as Gt,k as Dt}from"./index.esm-2ba1bc29.js";import{c as $t}from"./index-dd0aa871.js";import{S as B}from"./Stack-e6399caa.js";import{T as S,G as Me}from"./Text-a69c1a5b.js";import{S as Ce,G as zt,a as Ft,D as Ht,M as Qe,u as Wt,E as Vt,b as Yt,P as Xt,c as qt}from"./PpRankHistoryGraph-6fdae59f.js";import"./index-70a59dcb.js";import"./ExpRankImg-3e1a766f.js";import"./BarChart-a8462810.js";var L=function(){return L=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},L.apply(this,arguments)};function Qt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Zt(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var U="right-scroll-bar-position",K="width-before-scroll-bar",Ut="with-scroll-bars-hidden",Kt="--removed-body-scroll-bar-size";function ve(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Jt(e,t){var r=i.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Re=new WeakMap;function er(e,t){var r=Jt(t||null,function(n){return e.forEach(function(a){return ve(a,n)})});return i.useLayoutEffect(function(){var n=Re.get(r);if(n){var a=new Set(n),s=new Set(e),l=r.current;a.forEach(function(c){s.has(c)||ve(c,null)}),s.forEach(function(c){a.has(c)||ve(c,l)})}Re.set(r,e)},[e]),r}var ee=function(){return ee=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ee.apply(this,arguments)};function tr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function rr(e){return e}function nr(e,t){t===void 0&&(t=rr);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var l=t(s,n);return r.push(l),function(){r=r.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(n=!0;r.length;){var l=r;r=[],l.forEach(s)}r={push:function(c){return s(c)},filter:function(){return r}}},assignMedium:function(s){n=!0;var l=[];if(r.length){var c=r;r=[],c.forEach(s),l=r}var f=function(){var h=l;l=[],h.forEach(s)},d=function(){return Promise.resolve().then(f)};d(),r={push:function(h){l.push(h),d()},filter:function(h){return l=l.filter(h),r}}}};return a}function ar(e){e===void 0&&(e={});var t=nr(null);return t.options=ee({async:!0,ssr:!1},e),t}var Ze=function(e){var t=e.sideCar,r=tr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return i.createElement(n,ee({},r))};Ze.isSideCarExport=!0;function sr(e,t){return e.useMedium(t),Ze}var Ue=ar(),pe=function(){},oe=i.forwardRef(function(e,t){var r=i.useRef(null),n=i.useState({onScrollCapture:pe,onWheelCapture:pe,onTouchMoveCapture:pe}),a=n[0],s=n[1],l=e.forwardProps,c=e.children,f=e.className,d=e.removeScrollBar,h=e.enabled,p=e.shards,g=e.sideCar,y=e.noIsolation,E=e.inert,u=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=Qt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=g,j=er([r,t]),I=L(L({},b),a);return i.createElement(i.Fragment,null,h&&i.createElement(M,{sideCar:Ue,removeScrollBar:d,shards:p,noIsolation:y,inert:E,setCallbacks:s,allowPinchZoom:!!u,lockRef:r,gapMode:w}),l?i.cloneElement(i.Children.only(c),L(L({},I),{ref:j})):i.createElement(x,L({},I,{className:f,ref:j}),c))});oe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oe.classNames={fullWidth:K,zeroRight:U};var Be,or=function(){if(Be)return Be;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=or();return t&&e.setAttribute("nonce",t),e}function lr(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ir(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dr=function(){var e=0,t=null;return{add:function(r){e==0&&(t=cr())&&(lr(t,r),ir(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ur=function(){var e=dr();return function(t,r){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Ke=function(){var e=ur(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},fr={left:0,top:0,right:0,gap:0},ge=function(e){return parseInt(e||"",10)||0},hr=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ge(r),ge(n),ge(a)]},mr=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fr;var t=hr(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},vr=Ke(),pr=function(e,t,r,n){var a=e.left,s=e.top,l=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Ut,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(U,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(K,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(U," .").concat(U,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(K," .").concat(K,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body {
    `).concat(Kt,": ").concat(c,`px;
  }
`)},gr=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n,s=i.useMemo(function(){return mr(a)},[a]);return i.createElement(vr,{styles:pr(s,!t,a,r?"":"!important")})},Ee=!1;if(typeof window<"u")try{var q=Object.defineProperty({},"passive",{get:function(){return Ee=!0,!0}});window.addEventListener("test",q,q),window.removeEventListener("test",q,q)}catch{Ee=!1}var z=Ee?{passive:!1}:!1,yr=function(e){return e.tagName==="TEXTAREA"},Je=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!yr(e)&&r[t]==="visible")},xr=function(e){return Je(e,"overflowY")},Sr=function(e){return Je(e,"overflowX")},Te=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=et(e,n);if(a){var s=tt(e,n),l=s[1],c=s[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Er=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jr=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},et=function(e,t){return e==="v"?xr(t):Sr(t)},tt=function(e,t){return e==="v"?Er(t):jr(t)},br=function(e,t){return e==="h"&&t==="rtl"?-1:1},wr=function(e,t,r,n,a){var s=br(e,window.getComputedStyle(t).direction),l=s*n,c=r.target,f=t.contains(c),d=!1,h=l>0,p=0,g=0;do{var y=tt(e,c),E=y[0],u=y[1],v=y[2],x=u-v-s*E;(E||x)&&et(e,c)&&(p+=x,g+=E),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(t.contains(c)||t===c));return(h&&(a&&Math.abs(p)<1||!a&&l>p)||!h&&(a&&Math.abs(g)<1||!a&&-l>g))&&(d=!0),d},Q=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ke=function(e){return[e.deltaX,e.deltaY]},Pe=function(e){return e&&"current"in e?e.current:e},Mr=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Cr=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_r=0,F=[];function Nr(e){var t=i.useRef([]),r=i.useRef([0,0]),n=i.useRef(),a=i.useState(_r++)[0],s=i.useState(Ke)[0],l=i.useRef(e);i.useEffect(function(){l.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var u=Zt([e.lockRef.current],(e.shards||[]).map(Pe),!0).filter(Boolean);return u.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),u.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=i.useCallback(function(u,v){if("touches"in u&&u.touches.length===2)return!l.current.allowPinchZoom;var x=Q(u),w=r.current,b="deltaX"in u?u.deltaX:w[0]-x[0],M="deltaY"in u?u.deltaY:w[1]-x[1],j,I=u.target,A=Math.abs(b)>Math.abs(M)?"h":"v";if("touches"in u&&A==="h"&&I.type==="range")return!1;var $=Te(A,I);if(!$)return!0;if($?j=A:(j=A==="v"?"h":"v",$=Te(A,I)),!$)return!1;if(!n.current&&"changedTouches"in u&&(b||M)&&(n.current=j),!j)return!0;var X=n.current||j;return wr(X,v,u,X==="h"?b:M,!0)},[]),f=i.useCallback(function(u){var v=u;if(!(!F.length||F[F.length-1]!==s)){var x="deltaY"in v?ke(v):Q(v),w=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&Mr(j.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(l.current.shards||[]).map(Pe).filter(Boolean).filter(function(j){return j.contains(v.target)}),M=b.length>0?c(v,b[0]):!l.current.noIsolation;M&&v.cancelable&&v.preventDefault()}}},[]),d=i.useCallback(function(u,v,x,w){var b={name:u,delta:v,target:x,should:w,shadowParent:Rr(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(M){return M!==b})},1)},[]),h=i.useCallback(function(u){r.current=Q(u),n.current=void 0},[]),p=i.useCallback(function(u){d(u.type,ke(u),u.target,c(u,e.lockRef.current))},[]),g=i.useCallback(function(u){d(u.type,Q(u),u.target,c(u,e.lockRef.current))},[]);i.useEffect(function(){return F.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",f,z),document.addEventListener("touchmove",f,z),document.addEventListener("touchstart",h,z),function(){F=F.filter(function(u){return u!==s}),document.removeEventListener("wheel",f,z),document.removeEventListener("touchmove",f,z),document.removeEventListener("touchstart",h,z)}},[]);var y=e.removeScrollBar,E=e.inert;return i.createElement(i.Fragment,null,E?i.createElement(s,{styles:Cr(a)}):null,y?i.createElement(gr,{gapMode:e.gapMode}):null)}function Rr(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Br=sr(Ue,Nr);var rt=i.forwardRef(function(e,t){return i.createElement(oe,L({},e,{ref:t,sideCar:Br}))});rt.classNames=oe.classNames;const Tr=rt;function kr(e,t,r){i.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function Pr(e=[!1,!0]){const[[t],r]=i.useReducer((n,a)=>{const s=a instanceof Function?a(n[0]):a,l=Math.abs(n.indexOf(s));return n.slice(l).concat(n.slice(0,l))},e);return[t,r]}var nt={root:"m-1b7284a3"};const Ir={},Or=re((e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:be(t),"--paper-shadow":$e(r)}})),ce=De((e,t)=>{const r=N("Paper",Ir,e),{classNames:n,className:a,style:s,styles:l,unstyled:c,withBorder:f,vars:d,radius:h,shadow:p,variant:g,mod:y,...E}=r,u=te({name:"Paper",props:r,classes:nt,className:a,style:s,classNames:n,styles:l,unstyled:c,vars:d,varsResolver:Or});return m.createElement(G,{ref:t,mod:[{"data-with-border":f},y],...u("root"),variant:g,...E})});ce.classes=nt;ce.displayName="@mantine/core/Paper";var at={root:"m-9814e45f"};const Lr={zIndex:ae("modal")},Ar=re((e,{gradient:t,color:r,backgroundOpacity:n,blur:a,radius:s,zIndex:l})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&ht(r||"#000",n??.6)||void 0,"--overlay-filter":a?`blur(${J(a)})`:void 0,"--overlay-radius":s===void 0?void 0:be(s),"--overlay-z-index":l==null?void 0:l.toString()}})),_e=De((e,t)=>{const r=N("Overlay",Lr,e),{classNames:n,className:a,style:s,styles:l,unstyled:c,vars:f,fixed:d,center:h,children:p,radius:g,zIndex:y,gradient:E,blur:u,color:v,backgroundOpacity:x,mod:w,...b}=r,M=te({name:"Overlay",props:r,classes:at,className:a,style:s,classNames:n,styles:l,unstyled:c,vars:f,varsResolver:Ar});return m.createElement(G,{ref:t,...M("root"),mod:[{center:h,fixed:d},w],...b},p)});_e.classes=at;_e.displayName="@mantine/core/Overlay";const[Gr,k]=He("ModalBase component was not found in tree");function Dr({opened:e,transitionDuration:t}){const[r,n]=i.useState(e),a=i.useRef(),l=jt()?0:t;return i.useEffect(()=>(e?(n(!0),window.clearTimeout(a.current)):l===0?n(!1):a.current=window.setTimeout(()=>n(!1),l),()=>window.clearTimeout(a.current)),[e,l]),r}function $r({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:a,onClose:s,returnFocus:l}){const c=Mt(e),[f,d]=i.useState(!1),[h,p]=i.useState(!1),g=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,y=Dr({opened:r,transitionDuration:g});return kr("keydown",E=>{!n&&E.key==="Escape"&&a&&s()}),xt({opened:r,shouldReturnFocus:n&&l}),{_id:c,titleMounted:f,bodyMounted:h,shouldLockScroll:y,setTitleMounted:d,setBodyMounted:p}}const zr=i.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:a,trapFocus:s,closeOnEscape:l,returnFocus:c,closeOnClickOutside:f,withinPortal:d,portalProps:h,lockScroll:p,children:g,zIndex:y,shadow:E,padding:u,__vars:v,unstyled:x,removeScrollProps:w,...b},M)=>{const{_id:j,titleMounted:I,bodyMounted:A,shouldLockScroll:$,setTitleMounted:X,setBodyMounted:ft}=$r({id:n,transitionProps:a,opened:t,trapFocus:s,closeOnEscape:l,onClose:r,returnFocus:c});return m.createElement(bt,{...h,withinPortal:d},m.createElement(Gr,{value:{opened:t,onClose:r,closeOnClickOutside:f,transitionProps:{...a,keepMounted:e},getTitleId:()=>`${j}-title`,getBodyId:()=>`${j}-body`,titleMounted:I,bodyMounted:A,setTitleMounted:X,setBodyMounted:ft,trapFocus:s,closeOnEscape:l,zIndex:y,unstyled:x}},m.createElement(Tr,{enabled:$&&p,...w},m.createElement(G,{ref:M,...b,__vars:{...v,"--mb-z-index":(y||ae("modal")).toString(),"--mb-shadow":$e(E),"--mb-padding":mt(u)}},g))))});function Fr(){const e=k();return i.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var W={title:"m-615af6c9",header:"m-b5489c3c",inner:"m-60c222c7",content:"m-fd1ab0aa",close:"m-606cb269",body:"m-5df29311"};const st=i.forwardRef(({className:e,...t},r)=>{const n=Fr(),a=k();return m.createElement(G,{ref:r,...t,id:n,className:H({[W.body]:!a.unstyled},e)})});st.displayName="@mantine/core/ModalBaseBody";const ot=i.forwardRef(({className:e,onClick:t,...r},n)=>{const a=k();return m.createElement(Ct,{ref:n,...r,onClick:s=>{a.onClose(),t==null||t(s)},className:H({[W.close]:!a.unstyled},e),unstyled:a.unstyled})});ot.displayName="@mantine/core/ModalBaseCloseButton";const Hr=i.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:a,...s},l)=>{const c=k(),f=d=>{var p;((p=d.target)==null?void 0:p.getAttribute("data-mantine-stop-propagation"))!=="true"&&d.key==="Escape"&&c.closeOnEscape&&c.onClose(),n==null||n(d)};return m.createElement(Ve,{mounted:c.opened,transition:"pop",...c.transitionProps,...e},d=>m.createElement("div",{...r,className:H({[W.inner]:!c.unstyled},r.className)},m.createElement(St,{active:c.opened&&c.trapFocus},m.createElement(ce,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":c.bodyMounted?c.getBodyId():void 0,"aria-labelledby":c.titleMounted?c.getTitleId():void 0,onKeyDown:f,ref:l,style:[a,d],className:H({[W.content]:!c.unstyled},t),unstyled:c.unstyled},s.children))))}),ct=i.forwardRef(({className:e,...t},r)=>{const n=k();return m.createElement(G,{component:"header",ref:r,className:H({[W.header]:!n.unstyled},e),...t})});ct.displayName="@mantine/core/ModalBaseHeader";const Wr={duration:200,timingFunction:"ease",transition:"fade"};function Vr(e){const t=k();return{...Wr,...t.transitionProps,...e}}const lt=i.forwardRef(({onClick:e,transitionProps:t,style:r,...n},a)=>{const s=k(),l=Vr(t);return m.createElement(Ve,{mounted:s.opened,...l,transition:"fade"},c=>m.createElement(_e,{ref:a,fixed:!0,style:[r,c],zIndex:s.zIndex,unstyled:s.unstyled,onClick:f=>{e==null||e(f),s.closeOnClickOutside&&s.onClose()},...n}))});lt.displayName="@mantine/core/ModalBaseOverlay";function Yr(){const e=k();return i.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const it=i.forwardRef(({className:e,...t},r)=>{const n=Yr(),a=k();return m.createElement(G,{component:"h2",ref:r,className:H({[W.title]:!a.unstyled},e),...t,id:n})});it.displayName="@mantine/core/ModalBaseTitle";function Xr({children:e}){return m.createElement(m.Fragment,null,e)}var dt={root:"m-7485cace"};const qr={},Qr=re((e,{size:t,fluid:r})=>({root:{"--container-size":r?void 0:ze(t,"container-size")}})),Ne=T((e,t)=>{const r=N("Container",qr,e),{classNames:n,className:a,style:s,styles:l,unstyled:c,vars:f,fluid:d,mod:h,...p}=r,g=te({name:"Container",classes:dt,props:r,className:a,style:s,classNames:n,styles:l,unstyled:c,vars:f,varsResolver:Qr});return m.createElement(G,{ref:t,mod:[{fluid:d},h],...g("root"),...p})});Ne.classes=dt;Ne.displayName="@mantine/core/Container";const[Zr,V]=He("Modal component was not found in tree");var P={root:"m-9df02822",content:"m-54c44539",inner:"m-1f958f16",header:"m-d0e2b9cd"};const Ur={},le=T((e,t)=>{const r=N("ModalBody",Ur,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,d=V();return m.createElement(st,{ref:t,...d.getStyles("body",{classNames:n,style:s,styles:l,className:a}),...f})});le.classes=P;le.displayName="@mantine/core/ModalBody";const Kr={},ie=T((e,t)=>{const r=N("ModalCloseButton",Kr,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,d=V();return m.createElement(ot,{ref:t,...d.getStyles("close",{classNames:n,style:s,styles:l,className:a}),...f})});ie.classes=P;ie.displayName="@mantine/core/ModalCloseButton";const Jr={},de=T((e,t)=>{const r=N("ModalContent",Jr,e),{classNames:n,className:a,style:s,styles:l,vars:c,children:f,...d}=r,h=V(),p=h.scrollAreaComponent||Xr;return m.createElement(Hr,{...h.getStyles("content",{className:a,style:s,styles:l,classNames:n}),innerProps:h.getStyles("inner",{className:a,style:s,styles:l,classNames:n}),"data-full-screen":h.fullScreen||void 0,ref:t,...d},m.createElement(p,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${J(h.yOffset)} * 2))`}},f))});de.classes=P;de.displayName="@mantine/core/ModalContent";const en={},ue=T((e,t)=>{const r=N("ModalHeader",en,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,d=V();return m.createElement(ct,{ref:t,...d.getStyles("header",{classNames:n,style:s,styles:l,className:a}),...f})});ue.classes=P;ue.displayName="@mantine/core/ModalHeader";const tn={},fe=T((e,t)=>{const r=N("ModalOverlay",tn,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,d=V();return m.createElement(lt,{ref:t,...d.getStyles("overlay",{classNames:n,style:s,styles:l,className:a}),...f})});fe.classes=P;fe.displayName="@mantine/core/ModalOverlay";const rn={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ae("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},nn=re((e,{radius:t,size:r,yOffset:n,xOffset:a})=>({root:{"--modal-radius":t===void 0?void 0:be(t),"--modal-size":ze(r,"modal-size"),"--modal-y-offset":J(n),"--modal-x-offset":J(a)}})),he=T((e,t)=>{const r=N("ModalRoot",rn,e),{classNames:n,className:a,style:s,styles:l,unstyled:c,vars:f,yOffset:d,scrollAreaComponent:h,radius:p,fullScreen:g,centered:y,xOffset:E,__staticSelector:u,...v}=r,x=te({name:u,classes:P,props:r,className:a,style:s,classNames:n,styles:l,unstyled:c,vars:f,varsResolver:nn});return m.createElement(Zr,{value:{yOffset:d,scrollAreaComponent:h,getStyles:x,fullScreen:g}},m.createElement(zr,{ref:t,...x("root"),"data-full-screen":g||void 0,"data-centered":y||void 0,unstyled:c,...v}))});he.classes=P;he.displayName="@mantine/core/ModalRoot";const an={},me=T((e,t)=>{const r=N("ModalTitle",an,e),{classNames:n,className:a,style:s,styles:l,vars:c,...f}=r,d=V();return m.createElement(it,{ref:t,...d.getStyles("title",{classNames:n,style:s,styles:l,className:a}),...f})});me.classes=P;me.displayName="@mantine/core/ModalTitle";const sn={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ae("modal"),transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0},R=T((e,t)=>{const{title:r,withOverlay:n,overlayProps:a,withCloseButton:s,closeButtonProps:l,children:c,radius:f,...d}=N("Modal",sn,e),h=!!r||s;return m.createElement(he,{ref:t,radius:f,...d},n&&m.createElement(fe,{...a}),m.createElement(de,{radius:f},h&&m.createElement(ue,null,r&&m.createElement(me,null,r),s&&m.createElement(ie,{...l})),m.createElement(le,null,c)))});R.classes=P;R.displayName="@mantine/core/Modal";R.Root=he;R.Overlay=fe;R.Content=de;R.Body=le;R.Header=ue;R.Title=me;R.CloseButton=ie;const on="_profile_1brcl_1",cn={profile:on},ln="_header_1koik_1",dn="_text_1koik_9",Ie={header:ln,text:dn},C=({children:e,headerNode:t,level:r=1,title:n,...a})=>o.jsxs(ce,{shadow:"sm",radius:"md",p:"sm",bg:["dark.6","dark.5","dark.4","dark.3"][r-1],...a,children:[(n||t)&&o.jsxs("header",{className:Ie.header,children:[n&&o.jsx("span",{className:Ie.text,children:n}),t&&o.jsx("div",{children:t})]}),e]}),un=({renderButton:e,children:t,...r})=>{const[n,{open:a,close:s}]=Et(!1);return o.jsxs(o.Fragment,{children:[e({open:a}),o.jsx(R,{size:"auto",centered:!0,radius:"md",...r,opened:n,onClose:s,children:t})]})},fn="_progress_k6ns6_1",hn="_progressBackground_k6ns6_7",mn="_completed_k6ns6_22",vn="_zero_k6ns6_29",Z={progress:fn,progressBackground:hn,completed:mn,zero:vn},je=({progress:e,children:t,...r})=>o.jsxs(C,{...r,level:2,className:Z.progress,style:{["--progress"]:`${Math.round(e)}%`},children:[o.jsx("div",{className:$t(Z.progressBackground,{[Z.completed]:e===100,[Z.zero]:e===0})}),t]}),_=({name:e,progress:t,icon:r,desc:n})=>o.jsx(je,{level:2,progress:t,children:o.jsx(wt,{multiline:!0,maw:"20em",disabled:!n,label:n??"",children:o.jsxs(B,{h:"100%",gap:"0.25em",align:"center",justify:"center",children:[o.jsx(S,{size:"3em",lh:"1em",children:r}),o.jsx(S,{lh:"1em",children:e})]})})}),pn=()=>{const e=Y(),t=D(),r=ne.players.achievements.useQuery(e.id?Number(e.id):void 0);return o.jsxs(C,{title:t.ACHIEVEMENTS,children:[r.isLoading&&o.jsx(se,{}),r.data&&o.jsxs(Ce,{cols:6,spacing:"xs",children:[o.jsx(_,{icon:o.jsx(Nt,{}),progress:r.data.combo500?100:0,name:t.COMBO_500}),o.jsx(_,{icon:o.jsx(Rt,{}),progress:r.data.combo1000?100:0,name:t.COMBO_1000}),o.jsx(_,{icon:o.jsx(Bt,{}),progress:r.data.combo2000?100:0,name:t.COMBO_2000}),o.jsx(_,{icon:o.jsx(Tt,{}),progress:Math.round(r.data.fingering*100),name:t.FINGERING,desc:t.FINGERING_DESC}),o.jsx(_,{icon:o.jsx(kt,{}),progress:Math.round(r.data.bit8*100),name:t.EIGHT_BIT,desc:t.EIGHT_BIT_DESC}),o.jsx(_,{icon:o.jsx(Pt,{}),progress:Math.round(r.data.loveIs*100),name:t.LOVE_IS,desc:t.LOVE_IS_DESC}),o.jsx(_,{icon:o.jsx(It,{}),progress:Math.round(r.data.snail*100),name:t.SNAIL,desc:t.SNAIL_DESC}),o.jsx(_,{icon:o.jsx(Ot,{}),progress:r.data.brownS?100:0,name:t.BROWN_S,desc:t.BROWN_S_DESC}),o.jsx(_,{icon:o.jsx(Lt,{}),progress:r.data.lowHealth?100:0,name:t.LIFE_BAR,desc:t.LIFE_BAR_DESC}),o.jsx(_,{icon:o.jsx(At,{}),progress:r.data.padMiss?100:0,name:t.PAD_MISS,desc:t.PAD_MISS_DESC}),o.jsx(_,{icon:o.jsx(Gt,{}),progress:r.data.weekLongTraining?100:0,name:t.WEEK_LONG_TRAINING,desc:t.WEEK_LONG_TRAINING_DESC}),o.jsx(_,{icon:o.jsx(Dt,{}),progress:r.data.sightread?100:0,name:t.SIGHTREADER,desc:t.SIGHTREADER_DESC})]})]})};function Oe(e){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M15 4l4 0l0 4"}},{tag:"path",attr:{d:"M14.75 9.25l4.25 -5.25"}},{tag:"path",attr:{d:"M5 19l4 -4"}},{tag:"path",attr:{d:"M15 19l4 0l0 -4"}},{tag:"path",attr:{d:"M5 5l14 14"}}]})(e)}const gn=()=>{const[e,t]=Pr(["combined","separate"]),r=D();return e==="combined"?o.jsx(C,{title:r.GRADES,headerNode:o.jsx(xe,{variant:"subtle",onClick:()=>t(),"aria-label":"Switch graphs",children:o.jsx(Oe,{})}),children:o.jsx(zt,{})}):o.jsxs(B,{gap:"xs",justify:"stretch",children:[o.jsx(C,{flex:"1 1 0",title:r.GRADES,headerNode:o.jsx(xe,{variant:"subtle",onClick:()=>t(),"aria-label":"Switch graphs",children:o.jsx(Oe,{})}),children:o.jsx(Ft,{})}),o.jsx(C,{flex:"1 1 0",children:o.jsx(Ht,{})})]})},ut=e=>{const[t,r]=(e==null?void 0:e.match(/(\D+)|(\d+)/g))??[];return[t,r]},yn="_grid_1uryj_1",xn="_row_1uryj_5",Sn="_playIcon_1uryj_14",Le={grid:yn,row:xn,playIcon:Sn},En=20,jn=()=>{var n;const e=Y(),t=ne.players.highestPpCharts.useInfiniteQuery({playerId:e.id?Number(e.id):void 0,pageSize:En},{getNextPageParam:a=>a.nextCursor,initialCursor:0}),r=D();return o.jsxs(C,{p:"xs",title:r.BEST_SCORES,children:[o.jsx(Ce,{spacing:"xs",className:Le.grid,children:(n=t.data)==null?void 0:n.pages.flatMap(a=>a.items.map(s=>{var p;const l=new Date(s.date),c=Math.floor((Date.now()-l.getTime())/(1e3*60*60*24));console.log({date:l,daysAgo:c});const f=c<30?"green":`rgba(255, 255, 255, ${Math.min(1,Math.max(.2,1-(c-30)/360))})`,[d,h]=ut(s.label);return o.jsxs(C,{fz:"md",p:"0.5em",level:2,className:Le.row,children:[d&&h?o.jsx(We,{children:o.jsx(Ye,{type:d,level:h})}):o.jsx("span",{children:s.label}),o.jsx(Fe,{to:Xe.leaderboard.sharedChart.getPath({sharedChartId:s.shared_chart}),children:s.full_name}),o.jsx(S,{lh:"1",c:f,fz:"xs",children:we(r,l)}),o.jsxs(B,{c:"dark.2",gap:"0.1em",ta:"right",children:[o.jsxs(S,{c:"dark.1",lh:"1em",size:"xs",children:[(s.pp*s.weight).toFixed(2),"pp"]}),o.jsxs(S,{lh:"1em",size:"xs",children:["weighted ",Math.round(s.weight*100),"%"]})]}),o.jsx(Se,{pl:"0.5em",h:"1em",score:s.score??0,isPass:s.is_pass??!1,scoring:"phoenix"}),o.jsxs(S,{pl:"0.5em",fw:"bold",ta:"right",children:[(p=s.pp)==null?void 0:p.toFixed(2),o.jsxs(S,{span:!0,c:"dark.2",ta:"right",children:[" ","pp"]})]})]},s.shared_chart)}))}),t.isFetchingNextPage?o.jsx(se,{}):o.jsx(qe,{leftSection:o.jsx(Qe,{}),mt:"xs",color:"dark.4",onClick:()=>t.fetchNextPage(),children:r.SHOW_MORE})]})},Ae=["S","D"],Ge=["SSS","SS","S","AAA"],bn=()=>{const e=Y(),t=Wt({playerId:e.id?Number(e.id):void 0}),r=D(),n=i.useMemo(()=>{if(!t)return null;const a={level:null,achieved:0,required:0,weight:0},s={S:{[O.SSS]:a,[O.SS]:a,[O.S]:a,[O.AAA]:a},D:{[O.SSS]:a,[O.SS]:a,[O.S]:a,[O.AAA]:a}};return t.forEach(l=>{var p;const{level:c,byTypeGrade:f,totalChartsByType:d}=l;if(c==null)return;const h=30*(1+2**(c/4))/11;for(const g of Ae){const y=d[g],E=Math.round(Math.min(y,1+y/20+Math.sqrt(Math.max(y-1,0))*.7));for(const u of Ge){const v=f[`${g}-${u}`]??0,x=Math.min(1,v/E)*h;x>(((p=s[g][u])==null?void 0:p.weight)??0)&&(s[g][u]={level:c,achieved:v,required:E,weight:x})}}}),s},[t]);return n?o.jsxs(C,{title:r.LEVEL_ACHIEVEMENTS,children:[o.jsx(Me,{align:"stretch",children:Ae.flatMap(a=>{const s=n[a];return Ge.map(l=>{const c=s[l];return(c==null?void 0:c.level)==null?o.jsx(je,{flex:"1 1 0",progress:0,level:2,children:o.jsx(Se,{fit:"contain",h:"2.8em",grade:l,scoring:"phoenix",isPass:!0})},`${a}-${l}`):o.jsxs(je,{pl:"0",pr:"0",flex:"1 1 0",progress:Math.min(100,Math.round(100*c.achieved/c.required)),level:2,children:[o.jsx(Se,{pt:"0.3em",h:"3em",fit:"contain",grade:l,scoring:"phoenix",isPass:!0}),o.jsxs(S,{size:"2.3em",lh:"1.2",pt:"0.3em",pb:"0.1em",fw:"bold",c:a==="D"?"green.2":"red.2",children:[a,c.level]}),o.jsxs("div",{children:[Math.round(c.achieved/c.required*100),"% (",c.achieved,"/",c.required,")"]})]},`${a}-${l}`)})})}),o.jsx(S,{pt:"1em",ta:"right",size:"xs",children:r.LEVEL_ACHIEVEMENTS_HINT})]}):null},wn="_grid_qdjmr_1",Mn="_row_qdjmr_5",Cn="_playIcon_qdjmr_13",ye={grid:wn,row:Mn,playIcon:Cn},_n=10,Nn=()=>{var n;const e=Y(),t=ne.players.mostPlayed.useInfiniteQuery({playerId:e.id?Number(e.id):void 0,pageSize:_n},{getNextPageParam:a=>a.nextCursor,initialCursor:0}),r=D();return o.jsxs(C,{p:"xs",title:r.MOST_PLAYED_CHARTS,children:[o.jsx(Ce,{spacing:"xs",className:ye.grid,children:(n=t.data)==null?void 0:n.pages.flatMap(a=>a.items.map(s=>{const[l,c]=ut(s.label);return o.jsxs(C,{fz:"md",p:"0.5em",level:2,className:ye.row,children:[l&&c?o.jsx(We,{children:o.jsx(Ye,{type:l,level:c})}):o.jsx("span",{children:s.label}),o.jsx(Fe,{to:Xe.leaderboard.sharedChart.getPath({sharedChartId:s.shared_chart}),children:s.full_name}),o.jsx(S,{lh:"1",c:"grey",fz:"xs",pr:"2em",children:we(r,new Date(s.latestDate))}),o.jsxs(S,{fw:"bold",ta:"right",children:[o.jsx(pt,{className:ye.playIcon}),s.count]})]},s.shared_chart)}))}),t.isFetchingNextPage?o.jsx(se,{}):o.jsx(qe,{leftSection:o.jsx(Qe,{}),mt:"xs",color:"dark.4",onClick:()=>t.fetchNextPage(),children:r.SHOW_MORE})]})},Rn=()=>{const e=Y(),t=D(),{data:r,isLoading:n}=ne.players.stats.useQuery();if(!r||n)return o.jsx(se,{});const a=r.findIndex(l=>l.id===Number(e.id)),s=r[a];return s?o.jsx(Ne,{p:"md",children:o.jsxs(Me,{gap:"xl",justify:"start",children:[o.jsxs(B,{gap:"0",children:[o.jsx(S,{size:"sm",c:"grey",children:t.PLAYER}),o.jsx(S,{size:"2.2em",lh:"1.4em",children:s==null?void 0:s.nickname})]}),o.jsxs(B,{gap:"0",children:[o.jsx(S,{size:"sm",c:"grey",children:t.RANK}),o.jsxs(S,{size:"2.2em",lh:"1.4em",children:["#",a+1]})]}),o.jsxs(B,{gap:"0",children:[o.jsx(S,{size:"sm",c:"grey",children:t.PP}),o.jsx(S,{size:"2.2em",lh:"1.4em",children:s==null?void 0:s.pp})]}),(s==null?void 0:s.last_result_date)&&o.jsxs(B,{gap:"0",children:[o.jsx(S,{size:"sm",c:"grey",children:t.LAST_TIME_PLAYED}),o.jsx(S,{size:"2.2em",lh:"1.4em",children:we(t,new Date(s==null?void 0:s.last_result_date))})]})]})}):o.jsx("header",{children:o.jsx(_t,{radius:"md",variant:"light",color:"red",title:t.ERROR,icon:o.jsx(gt,{}),children:t.PROFILE_NOT_FOUND})})},Fn=()=>{const e=D();return o.jsxs("div",{className:cn.profile,children:[o.jsx(Rn,{}),o.jsxs(B,{gap:"xs",children:[o.jsx(C,{title:e.EXP,headerNode:o.jsx(un,{title:e.EXP_FAQ_TITLE,w:"40em",renderButton:({open:t})=>o.jsx(xe,{variant:"subtle","aria-label":"Exp FAQ",onClick:t,children:o.jsx(yt,{})}),children:o.jsx(Vt,{})}),children:o.jsx(Yt,{})}),o.jsxs(Me,{grow:!0,gap:"xs",align:"stretch",children:[o.jsx(gn,{}),o.jsxs(B,{gap:"xs",justify:"stretch",children:[o.jsx(C,{flex:"1 1 0",children:o.jsx(Xt,{})}),o.jsx(C,{flex:"1 1 0",children:o.jsx(qt,{})})]})]}),o.jsx(bn,{}),o.jsx(pn,{}),o.jsx(Nn,{}),o.jsx(jn,{})]})]})};export{Fn as default};
//# sourceMappingURL=Profile-dfcd263c.js.map
