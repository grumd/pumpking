var va=Object.defineProperty;var ma=(e,t,r)=>t in e?va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var at=(e,t,r)=>(ma(e,typeof t!="symbol"?t+"":t,r),r);import{q as Ue,o as q,s as oe,i as j,B as k,t as se,v as wr,r as $,x as vt,E as Ie,L as Pr,C as mt,y as jr,M as $r,A as lt,U as ha,V as ga,j as p,W as ya,N as ba,X as Oa,Y as xa,Z as De,_ as _a,$ as wa,n as Er,a0 as nt,O as Pa,u as ht,a1 as ja,e as $a,a2 as Mt,a3 as Ea,a4 as Tt,a5 as Sa,a6 as Na,G as Aa,a7 as Ht,a8 as Ca}from"./index-b065257e.js";import{U as Sr,c as gt,f as yt,u as Ra}from"./useFilter-54c74824.js";import{u as Nr}from"./useUser-9ae2b912.js";import{c as L}from"./index-154445a7.js";import{n as Vt}from"./numeral-4901338c.js";import{_ as Ia}from"./Tooltip-85ddab9f.js";import{F as Da}from"./index-8335e112.js";var Ba={root:"m-8d3f4000",loader:"m-302b9fb1",group:"m-1a0f1b21"};const qe=Ba;var La=Object.defineProperty,ka=Object.defineProperties,Fa=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,Ar=Object.prototype.hasOwnProperty,Cr=Object.prototype.propertyIsEnumerable,Gt=(e,t,r)=>t in e?La(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wt=(e,t)=>{for(var r in t||(t={}))Ar.call(t,r)&&Gt(e,r,t[r]);if(Be)for(var r of Be(t))Cr.call(t,r)&&Gt(e,r,t[r]);return e},Ma=(e,t)=>ka(e,Fa(t)),Ta=(e,t)=>{var r={};for(var a in e)Ar.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Be)for(var a of Be(e))t.indexOf(a)<0&&Cr.call(e,a)&&(r[a]=e[a]);return r};const zt={orientation:"horizontal"},Ha=se((e,{borderWidth:t})=>({group:{"--ai-border-width":wr(t)}})),bt=Ue((e,t)=>{const r=q("ActionIconGroup",zt,e),a=q("ActionIconGroup",zt,e),{className:n,style:o,classNames:f,styles:i,unstyled:l,orientation:c,vars:s,borderWidth:d,variant:u}=a,v=Ta(a,["className","style","classNames","styles","unstyled","orientation","vars","borderWidth","variant"]),y=oe({name:"ActionIconGroup",props:r,classes:qe,className:n,style:o,classNames:f,styles:i,unstyled:l,vars:s,varsResolver:Ha,rootSelector:"group"});return j.createElement(k,Wt(Ma(Wt({},y("group")),{ref:t,variant:u,mod:{"data-orientation":c},role:"group"}),v))});bt.classes=qe;bt.displayName="@mantine/core/ActionIconGroup";var Va={root:"m-5ae2e3c",barsLoader:"m-7a2bd4cd",bar:"m-870bb79","bars-loader-animation":"m-5d2b3b9d",dotsLoader:"m-4e3f22d7",dot:"m-870c4af","loader-dots-animation":"m-aac34a1",ovalLoader:"m-b34414df","oval-loader-animation":"m-f8e89c4b"};const W=Va;var Ga=Object.defineProperty,Wa=Object.defineProperties,za=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertySymbols,Rr=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable,Ut=(e,t,r)=>t in e?Ga(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ua=(e,t)=>{for(var r in t||(t={}))Rr.call(t,r)&&Ut(e,r,t[r]);if(Le)for(var r of Le(t))Ir.call(t,r)&&Ut(e,r,t[r]);return e},qa=(e,t)=>Wa(e,za(t)),Ya=(e,t)=>{var r={};for(var a in e)Rr.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Le)for(var a of Le(e))t.indexOf(a)<0&&Ir.call(e,a)&&(r[a]=e[a]);return r};const Xa=$.forwardRef((e,t)=>{var r=e,{className:a}=r,n=Ya(r,["className"]);return j.createElement(k,qa(Ua({component:"span",className:vt(W.barsLoader,a)},n),{ref:t}),j.createElement("span",{className:W.bar}),j.createElement("span",{className:W.bar}),j.createElement("span",{className:W.bar}))});var Za=Object.defineProperty,Ja=Object.defineProperties,Ka=Object.getOwnPropertyDescriptors,ke=Object.getOwnPropertySymbols,Dr=Object.prototype.hasOwnProperty,Br=Object.prototype.propertyIsEnumerable,qt=(e,t,r)=>t in e?Za(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qa=(e,t)=>{for(var r in t||(t={}))Dr.call(t,r)&&qt(e,r,t[r]);if(ke)for(var r of ke(t))Br.call(t,r)&&qt(e,r,t[r]);return e},en=(e,t)=>Ja(e,Ka(t)),tn=(e,t)=>{var r={};for(var a in e)Dr.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&ke)for(var a of ke(e))t.indexOf(a)<0&&Br.call(e,a)&&(r[a]=e[a]);return r};const rn=$.forwardRef((e,t)=>{var r=e,{className:a}=r,n=tn(r,["className"]);return j.createElement(k,en(Qa({component:"span",className:vt(W.ovalLoader,a)},n),{ref:t}))});var an=Object.defineProperty,nn=Object.defineProperties,on=Object.getOwnPropertyDescriptors,Fe=Object.getOwnPropertySymbols,Lr=Object.prototype.hasOwnProperty,kr=Object.prototype.propertyIsEnumerable,Yt=(e,t,r)=>t in e?an(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sn=(e,t)=>{for(var r in t||(t={}))Lr.call(t,r)&&Yt(e,r,t[r]);if(Fe)for(var r of Fe(t))kr.call(t,r)&&Yt(e,r,t[r]);return e},ln=(e,t)=>nn(e,on(t)),cn=(e,t)=>{var r={};for(var a in e)Lr.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Fe)for(var a of Fe(e))t.indexOf(a)<0&&kr.call(e,a)&&(r[a]=e[a]);return r};const pn=$.forwardRef((e,t)=>{var r=e,{className:a}=r,n=cn(r,["className"]);return j.createElement(k,ln(sn({component:"span",className:vt(W.dotsLoader,a)},n),{ref:t}),j.createElement("span",{className:W.dot}),j.createElement("span",{className:W.dot}),j.createElement("span",{className:W.dot}))});var dn=Object.defineProperty,fn=Object.defineProperties,un=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,Fr=Object.prototype.hasOwnProperty,Mr=Object.prototype.propertyIsEnumerable,Xt=(e,t,r)=>t in e?dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ee=(e,t)=>{for(var r in t||(t={}))Fr.call(t,r)&&Xt(e,r,t[r]);if(Me)for(var r of Me(t))Mr.call(t,r)&&Xt(e,r,t[r]);return e},Zt=(e,t)=>fn(e,un(t)),vn=(e,t)=>{var r={};for(var a in e)Fr.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Me)for(var a of Me(e))t.indexOf(a)<0&&Mr.call(e,a)&&(r[a]=e[a]);return r};const mn={bars:Xa,oval:rn,dots:pn},hn={loaders:mn,type:"oval"},gn=se((e,{size:t,color:r})=>({root:{"--loader-size":Ie(t,"loader-size"),"--loader-color":r?Pr(r,e):void 0}})),be=Ue((e,t)=>{const r=q("Loader",hn,e),a=r,{size:n,color:o,type:f,vars:i,className:l,style:c,classNames:s,styles:d,unstyled:u,loaders:v,variant:y,children:g}=a,h=vn(a,["size","color","type","vars","className","style","classNames","styles","unstyled","loaders","variant","children"]),b=oe({name:"Loader",props:r,classes:W,className:l,style:c,classNames:s,styles:d,unstyled:u,vars:i,varsResolver:gn});return g?j.createElement(k,Ee(Zt(Ee({},b("root")),{ref:t}),h),g):j.createElement(k,Ee(Zt(Ee({},b("root")),{ref:t,component:v[f],variant:y,size:n}),h))});be.classes=W;be.displayName="@mantine/core/Loader";var yn=Object.defineProperty,bn=Object.defineProperties,On=Object.getOwnPropertyDescriptors,Te=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Hr=Object.prototype.propertyIsEnumerable,Jt=(e,t,r)=>t in e?yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Se=(e,t)=>{for(var r in t||(t={}))Tr.call(t,r)&&Jt(e,r,t[r]);if(Te)for(var r of Te(t))Hr.call(t,r)&&Jt(e,r,t[r]);return e},Kt=(e,t)=>bn(e,On(t)),xn=(e,t)=>{var r={};for(var a in e)Tr.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Te)for(var a of Te(e))t.indexOf(a)<0&&Hr.call(e,a)&&(r[a]=e[a]);return r};const _n={},wn=se((e,{size:t,radius:r,variant:a,gradient:n,color:o})=>{const f=e.variantColorResolver({color:o||e.primaryColor,theme:e,gradient:n,variant:a||"filled"});return{root:{"--ai-size":Ie(t,"ai-size"),"--ai-radius":r===void 0?void 0:jr(r),"--ai-bg":o||a?f.background:void 0,"--ai-hover":o||a?f.hover:void 0,"--ai-hover-color":o||a?f.hoverColor:void 0,"--ai-color":o||a?f.color:void 0,"--ai-bd":o||a?f.border:void 0}}}),Ye=mt((e,t)=>{const r=q("ActionIcon",_n,e),a=r,{className:n,unstyled:o,variant:f,classNames:i,styles:l,style:c,loading:s,loaderProps:d,size:u,color:v,radius:y,__staticSelector:g,gradient:h,vars:b,children:w,disabled:_,"data-disabled":m}=a,O=xn(a,["className","unstyled","variant","classNames","styles","style","loading","loaderProps","size","color","radius","__staticSelector","gradient","vars","children","disabled","data-disabled"]),x=oe({name:["ActionIcon",g],props:r,className:n,style:c,classes:qe,classNames:i,styles:l,unstyled:o,vars:b,varsResolver:wn});return j.createElement(Sr,Kt(Se(Se({},x("root",{active:!_&&!s&&!m})),O),{unstyled:o,variant:f,size:u,disabled:_||s,ref:t,mod:{loading:s,disabled:_||m}}),s?j.createElement(be,Se(Kt(Se({},x("loader")),{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)"}),d)):w)});Ye.classes=qe;Ye.displayName="@mantine/core/ActionIcon";Ye.Group=bt;function Pn(e){return $.Children.toArray(e).filter(Boolean)}var jn={root:"m-4081bf90"};const Vr=jn;var $n=Object.defineProperty,En=Object.defineProperties,Sn=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,Gr=Object.prototype.hasOwnProperty,Wr=Object.prototype.propertyIsEnumerable,Qt=(e,t,r)=>t in e?$n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,er=(e,t)=>{for(var r in t||(t={}))Gr.call(t,r)&&Qt(e,r,t[r]);if(He)for(var r of He(t))Wr.call(t,r)&&Qt(e,r,t[r]);return e},Nn=(e,t)=>En(e,Sn(t)),An=(e,t)=>{var r={};for(var a in e)Gr.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&He)for(var a of He(e))t.indexOf(a)<0&&Wr.call(e,a)&&(r[a]=e[a]);return r};const Cn={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Rn=se((e,{grow:t,preventGrowOverflow:r,gap:a,align:n,justify:o,wrap:f},{childWidth:i})=>({root:{"--group-child-width":t&&r?i:void 0,"--group-gap":$r(a),"--group-align":n,"--group-justify":o,"--group-wrap":f}})),Xe=Ue((e,t)=>{const r=q("Group",Cn,e),a=r,{classNames:n,className:o,style:f,styles:i,unstyled:l,children:c,gap:s,align:d,justify:u,wrap:v,grow:y,preventGrowOverflow:g,vars:h,variant:b,__size:w}=a,_=An(a,["classNames","className","style","styles","unstyled","children","gap","align","justify","wrap","grow","preventGrowOverflow","vars","variant","__size"]),m=Pn(c),O=m.length,x=$r(s??"md"),E={childWidth:`calc(${100/O}% - (${x} - ${x} / ${O}))`},S=oe({name:"Group",props:r,stylesCtx:E,className:o,style:f,classes:Vr,classNames:n,styles:i,unstyled:l,vars:h,varsResolver:Rn});return j.createElement(k,er(Nn(er({},S("root")),{ref:t,variant:b,mod:{grow:y},size:w}),_),m)});Xe.classes=Vr;Xe.displayName="@mantine/core/Group";var In={root:"m-b6d8b162"};const zr=In;var Dn=Object.defineProperty,Bn=Object.defineProperties,Ln=Object.getOwnPropertyDescriptors,Ve=Object.getOwnPropertySymbols,Ur=Object.prototype.hasOwnProperty,qr=Object.prototype.propertyIsEnumerable,tr=(e,t,r)=>t in e?Dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rr=(e,t)=>{for(var r in t||(t={}))Ur.call(t,r)&&tr(e,r,t[r]);if(Ve)for(var r of Ve(t))qr.call(t,r)&&tr(e,r,t[r]);return e},kn=(e,t)=>Bn(e,Ln(t)),Fn=(e,t)=>{var r={};for(var a in e)Ur.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Ve)for(var a of Ve(e))t.indexOf(a)<0&&qr.call(e,a)&&(r[a]=e[a]);return r};function Mn(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const Tn={inherit:!1},Hn=se((e,{variant:t,lineClamp:r,gradient:a,size:n,color:o})=>({root:{"--text-fz":lt(n),"--text-lh":ha(n),"--text-gradient":t==="gradient"?ga(a,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":o?Pr(o,e):void 0}})),Ze=mt((e,t)=>{const r=q("Text",Tn,e),a=r,{lineClamp:n,truncate:o,inline:f,inherit:i,gradient:l,span:c,__staticSelector:s,vars:d,className:u,style:v,classNames:y,styles:g,unstyled:h,variant:b,mod:w,size:_}=a,m=Fn(a,["lineClamp","truncate","inline","inherit","gradient","span","__staticSelector","vars","className","style","classNames","styles","unstyled","variant","mod","size"]),O=oe({name:["Text",s],props:r,classes:zr,className:u,style:v,classNames:y,styles:g,unstyled:h,vars:d,varsResolver:Hn});return j.createElement(k,rr(kn(rr({},O("root",{focusable:!0})),{ref:t,component:c?"span":"p",variant:b,mod:[{"data-truncate":Mn(o),"data-line-clamp":typeof n=="number","data-inline":f,"data-inherit":i},w],size:_}),m))});Ze.classes=zr;Ze.displayName="@mantine/core/Text";var Vn={root:"m-77c9d27d",inner:"m-80f1301b",label:"m-811560b9",section:"m-a74036a",loader:"m-a25b86ee",group:"m-80d6d844"};const Je=Vn;var Gn=Object.defineProperty,Wn=Object.defineProperties,zn=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,Yr=Object.prototype.hasOwnProperty,Xr=Object.prototype.propertyIsEnumerable,ar=(e,t,r)=>t in e?Gn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nr=(e,t)=>{for(var r in t||(t={}))Yr.call(t,r)&&ar(e,r,t[r]);if(Ge)for(var r of Ge(t))Xr.call(t,r)&&ar(e,r,t[r]);return e},Un=(e,t)=>Wn(e,zn(t)),qn=(e,t)=>{var r={};for(var a in e)Yr.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Ge)for(var a of Ge(e))t.indexOf(a)<0&&Xr.call(e,a)&&(r[a]=e[a]);return r};const or={orientation:"horizontal"},Yn=se((e,{borderWidth:t})=>({group:{"--button-border-width":wr(t)}})),Ot=Ue((e,t)=>{const r=q("ButtonGroup",or,e),a=q("ButtonGroup",or,e),{className:n,style:o,classNames:f,styles:i,unstyled:l,orientation:c,vars:s,borderWidth:d,variant:u}=a,v=qn(a,["className","style","classNames","styles","unstyled","orientation","vars","borderWidth","variant"]),y=oe({name:"ButtonGroup",props:r,classes:Je,className:n,style:o,classNames:f,styles:i,unstyled:l,vars:s,varsResolver:Yn,rootSelector:"group"});return j.createElement(k,nr(Un(nr({},y("group")),{ref:t,variant:u,mod:{"data-orientation":c},role:"group"}),v))});Ot.classes=Je;Ot.displayName="@mantine/core/ButtonGroup";var Xn=Object.defineProperty,Zn=Object.defineProperties,Jn=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,Zr=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable,sr=(e,t,r)=>t in e?Xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Z=(e,t)=>{for(var r in t||(t={}))Zr.call(t,r)&&sr(e,r,t[r]);if(We)for(var r of We(t))Jr.call(t,r)&&sr(e,r,t[r]);return e},ot=(e,t)=>Zn(e,Jn(t)),Kn=(e,t)=>{var r={};for(var a in e)Zr.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&We)for(var a of We(e))t.indexOf(a)<0&&Jr.call(e,a)&&(r[a]=e[a]);return r};const Qn={},eo=se((e,{radius:t,color:r,gradient:a,variant:n,size:o,justify:f})=>{const i=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:a,variant:n||"filled"});return{root:{"--button-justify":f,"--button-height":Ie(o,"button-height"),"--button-padding-x":Ie(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?lt(o.replace("compact-","")):lt(o),"--button-radius":t===void 0?void 0:jr(t),"--button-bg":r||n?i.background:void 0,"--button-hover":r||n?i.hover:void 0,"--button-color":r||n?i.color:void 0,"--button-bd":r||n?i.border:void 0,"--button-hover-color":r||n?i.hoverColor:void 0}}}),xt=mt((e,t)=>{const r=q("Button",Qn,e),a=r,{style:n,vars:o,className:f,color:i,disabled:l,children:c,leftSection:s,rightSection:d,fullWidth:u,variant:v,radius:y,loading:g,loaderProps:h,gradient:b,classNames:w,styles:_,unstyled:m,"data-disabled":O}=a,x=Kn(a,["style","vars","className","color","disabled","children","leftSection","rightSection","fullWidth","variant","radius","loading","loaderProps","gradient","classNames","styles","unstyled","data-disabled"]),P=oe({name:"Button",props:r,classes:Je,className:f,style:n,classNames:w,styles:_,unstyled:m,vars:o,varsResolver:eo}),E=!!s,S=!!d;return j.createElement(Sr,Z(ot(Z({ref:t},P("root",{active:!l&&!g&&!O})),{unstyled:m,variant:v,disabled:l||g,mod:{disabled:l||O,loading:g,block:u,"with-left-section":E,"with-right-section":S}}),x),j.createElement("span",Z({},P("inner")),s&&j.createElement(k,ot(Z({component:"span"},P("section")),{mod:{position:"left"}}),s),g&&j.createElement(k,Z({component:"span"},P("loader")),j.createElement(be,Z({color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)"},h))),j.createElement(k,Z({component:"span",mod:{loading:g}},P("label")),c),d&&j.createElement(k,ot(Z({component:"span"},P("section")),{mod:{position:"right"}}),d)))});xt.classes=Je;xt.displayName="@mantine/core/Button";xt.Group=Ot;const to="_loader_5ihl6_1",ro={loader:to};function pi(){return p.jsx("div",{className:ro.loader,children:p.jsx(be,{color:"white",type:"dots"})})}const ao={leaderboard:{path:"/leaderboard",sharedChart:{path:"/leaderboard/chart/:sharedChartId",getPath:e=>`/leaderboard/chart/${e.sharedChartId}`,addResult:{path:"/leaderboard/chart/:sharedChartId/add-result",getPath:e=>`/leaderboard/chart/${e.sharedChartId}/add-result`}}},leaderboardOld:{path:"/leaderboard-old"},songs:{path:"/songs"},ranking:{path:"/ranking",faq:{path:"/ranking/faq"}},tournaments:{path:"/tournaments"},profile:{path:"/profiles/:id",getPath:e=>`/profiles/${e.id}`,resultsByLevel:{path:"/profiles/:id/levels",getPath:e=>`/profiles/${e.id}/levels`,level:{path:"/profiles/:id/levels/:level",getPath:e=>`/profiles/${e.id}/levels/${e.level}`}},compare:{path:"/profiles/:id/vs/:compareToId",getPath:e=>`/profiles/${e.id}/vs/${e.compareToId}`}}},no=()=>{const e=gt(yt);return[...e.playersAll??[],...e.playersNone??[],...e.playersSome??[],...e.sortChartsByPlayers??[]]},oo="_songHeader_y80dr_1",so="_youtubeLink_y80dr_14",io="_songName_y80dr_32",st={songHeader:oo,youtubeLink:so,songName:io},Kr={24:"#48283a99",25:"#432a4e99",26:"#2d2a4e99",27:"#2a434e99"},_t={24:"Prime",25:"Prime2",26:"XX",27:"Phoenix"},lo=e=>e in _t,C={SSSP:"SSS+",SSS:"SSS",SSP:"SS+",SS:"SS",SP:"S+",S:"S",AAAP:"AAA+",AAA:"AAA",AAP:"AA+",AA:"AA",AP:"A+",A:"A",B:"B",C:"C",D:"D",F:"F"},co=e=>{if(e==null)return null;switch(!0){case e>=995e3:return C.SSSP;case e>=99e4:return C.SSS;case e>=985e3:return C.SSP;case e>=98e4:return C.SS;case e>=975e3:return C.SP;case e>=97e4:return C.S;case e>=96e4:return C.AAAP;case e>=95e4:return C.AAA;case e>=925e3:return C.AAP;case e>=9e5:return C.AA;case e>=825e3:return C.AP;case e>=75e4:return C.A;case e>=65e4:return C.B;case e>=55e4:return C.C;case e>=45e4:return C.D;default:return C.F}},po=({type:e,level:t})=>p.jsxs("div",{className:L("chart-name",{single:e==="S",singlep:e==="SP",doublep:e==="DP",double:e==="D",coop:e==="COOP"}),children:[p.jsx("span",{className:"chart-letter",children:e}),p.jsx("span",{className:"chart-number",children:t})]}),fo=({chart:e,children:t=null})=>{const r=e.chartInstances.slice().sort((n,o)=>o.mix-n.mix),[a]=ya(r[0].label);return p.jsxs("div",{className:st.songHeader,children:[p.jsx(po,{type:a,level:r[0].level??"?"}),p.jsxs("div",{className:st.songName,children:[p.jsx(ba,{to:ao.leaderboard.sharedChart.getPath({sharedChartId:e.id}),children:e.songName})," ",p.jsx(Ze,{component:"span",c:"dimmed",children:r[0].difficulty?`(${r[0].difficulty.toFixed(1)}) `:""})]}),p.jsx("div",{className:st.youtubeLink,children:p.jsx("a",{href:`https://youtube.com/results?${Oa.stringify({search_query:`${e.songName} ${r[0].label}`.replace(/( -)|(- )/g," ")})}`,target:"_blank",rel:"noopener noreferrer",children:p.jsx(xa,{})})}),p.jsxs(Xe,{gap:"xs",ml:"auto",fz:"sm",children:[r.map(n=>n.level===r[0].level?null:p.jsxs(De,{color:Kr[n.mix],children:[_t[n.mix],": ",n.label]},n.mix)),t]})]})},uo=({resultId:e})=>p.jsxs("a",{href:`https://api.pumpking.top:3001/results/${e}/screenshot`,target:"_blank",rel:"noopener noreferrer",children:["screenshot ",p.jsx(_a,{style:{fontSize:"80%"}})]});var vo=$.createContext();$.createContext();var mo=function(t){return Array.isArray(t)?t[0]:t},ho=function(t){if(typeof t=="function"){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return t.apply(void 0,a)}},go=function(t,r){if(typeof t=="function")return ho(t,r);t!=null&&(t.current=r)},ir=function(t){return t.reduce(function(r,a){var n=a[0],o=a[1];return r[n]=o,r},{})},lr=typeof window<"u"&&window.document&&window.document.createElement?$.useLayoutEffect:$.useEffect,I="top",T="bottom",H="right",D="left",wt="auto",Oe=[I,T,H,D],le="start",ge="end",yo="clippingParents",Qr="viewport",ve="popper",bo="reference",cr=Oe.reduce(function(e,t){return e.concat([t+"-"+le,t+"-"+ge])},[]),ea=[].concat(Oe,[wt]).reduce(function(e,t){return e.concat([t,t+"-"+le,t+"-"+ge])},[]),Oo="beforeRead",xo="read",_o="afterRead",wo="beforeMain",Po="main",jo="afterMain",$o="beforeWrite",Eo="write",So="afterWrite",No=[Oo,xo,_o,wo,Po,jo,$o,Eo,So];function U(e){return e?(e.nodeName||"").toLowerCase():null}function F(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ne(e){var t=F(e).Element;return e instanceof t||e instanceof Element}function M(e){var t=F(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Pt(e){if(typeof ShadowRoot>"u")return!1;var t=F(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Ao(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var a=t.styles[r]||{},n=t.attributes[r]||{},o=t.elements[r];!M(o)||!U(o)||(Object.assign(o.style,a),Object.keys(n).forEach(function(f){var i=n[f];i===!1?o.removeAttribute(f):o.setAttribute(f,i===!0?"":i)}))})}function Co(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(a){var n=t.elements[a],o=t.attributes[a]||{},f=Object.keys(t.styles.hasOwnProperty(a)?t.styles[a]:r[a]),i=f.reduce(function(l,c){return l[c]="",l},{});!M(n)||!U(n)||(Object.assign(n.style,i),Object.keys(o).forEach(function(l){n.removeAttribute(l)}))})}}const Ro={name:"applyStyles",enabled:!0,phase:"write",fn:Ao,effect:Co,requires:["computeStyles"]};function z(e){return e.split("-")[0]}var ae=Math.max,ze=Math.min,ce=Math.round;function ct(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ta(){return!/^((?!chrome|android).)*safari/i.test(ct())}function pe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var a=e.getBoundingClientRect(),n=1,o=1;t&&M(e)&&(n=e.offsetWidth>0&&ce(a.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ce(a.height)/e.offsetHeight||1);var f=ne(e)?F(e):window,i=f.visualViewport,l=!ta()&&r,c=(a.left+(l&&i?i.offsetLeft:0))/n,s=(a.top+(l&&i?i.offsetTop:0))/o,d=a.width/n,u=a.height/o;return{width:d,height:u,top:s,right:c+d,bottom:s+u,left:c,x:c,y:s}}function jt(e){var t=pe(e),r=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:a}}function ra(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Pt(r)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Y(e){return F(e).getComputedStyle(e)}function Io(e){return["table","td","th"].indexOf(U(e))>=0}function J(e){return((ne(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ke(e){return U(e)==="html"?e:e.assignedSlot||e.parentNode||(Pt(e)?e.host:null)||J(e)}function pr(e){return!M(e)||Y(e).position==="fixed"?null:e.offsetParent}function Do(e){var t=/firefox/i.test(ct()),r=/Trident/i.test(ct());if(r&&M(e)){var a=Y(e);if(a.position==="fixed")return null}var n=Ke(e);for(Pt(n)&&(n=n.host);M(n)&&["html","body"].indexOf(U(n))<0;){var o=Y(n);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return n;n=n.parentNode}return null}function xe(e){for(var t=F(e),r=pr(e);r&&Io(r)&&Y(r).position==="static";)r=pr(r);return r&&(U(r)==="html"||U(r)==="body"&&Y(r).position==="static")?t:r||Do(e)||t}function $t(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function me(e,t,r){return ae(e,ze(t,r))}function Bo(e,t,r){var a=me(e,t,r);return a>r?r:a}function aa(){return{top:0,right:0,bottom:0,left:0}}function na(e){return Object.assign({},aa(),e)}function oa(e,t){return t.reduce(function(r,a){return r[a]=e,r},{})}var Lo=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,na(typeof t!="number"?t:oa(t,Oe))};function ko(e){var t,r=e.state,a=e.name,n=e.options,o=r.elements.arrow,f=r.modifiersData.popperOffsets,i=z(r.placement),l=$t(i),c=[D,H].indexOf(i)>=0,s=c?"height":"width";if(!(!o||!f)){var d=Lo(n.padding,r),u=jt(o),v=l==="y"?I:D,y=l==="y"?T:H,g=r.rects.reference[s]+r.rects.reference[l]-f[l]-r.rects.popper[s],h=f[l]-r.rects.reference[l],b=xe(o),w=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,_=g/2-h/2,m=d[v],O=w-u[s]-d[y],x=w/2-u[s]/2+_,P=me(m,x,O),E=l;r.modifiersData[a]=(t={},t[E]=P,t.centerOffset=P-x,t)}}function Fo(e){var t=e.state,r=e.options,a=r.element,n=a===void 0?"[data-popper-arrow]":a;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||ra(t.elements.popper,n)&&(t.elements.arrow=n))}const Mo={name:"arrow",enabled:!0,phase:"main",fn:ko,effect:Fo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function de(e){return e.split("-")[1]}var To={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ho(e,t){var r=e.x,a=e.y,n=t.devicePixelRatio||1;return{x:ce(r*n)/n||0,y:ce(a*n)/n||0}}function dr(e){var t,r=e.popper,a=e.popperRect,n=e.placement,o=e.variation,f=e.offsets,i=e.position,l=e.gpuAcceleration,c=e.adaptive,s=e.roundOffsets,d=e.isFixed,u=f.x,v=u===void 0?0:u,y=f.y,g=y===void 0?0:y,h=typeof s=="function"?s({x:v,y:g}):{x:v,y:g};v=h.x,g=h.y;var b=f.hasOwnProperty("x"),w=f.hasOwnProperty("y"),_=D,m=I,O=window;if(c){var x=xe(r),P="clientHeight",E="clientWidth";if(x===F(r)&&(x=J(r),Y(x).position!=="static"&&i==="absolute"&&(P="scrollHeight",E="scrollWidth")),x=x,n===I||(n===D||n===H)&&o===ge){m=T;var S=d&&x===O&&O.visualViewport?O.visualViewport.height:x[P];g-=S-a.height,g*=l?1:-1}if(n===D||(n===I||n===T)&&o===ge){_=H;var N=d&&x===O&&O.visualViewport?O.visualViewport.width:x[E];v-=N-a.width,v*=l?1:-1}}var A=Object.assign({position:i},c&&To),V=s===!0?Ho({x:v,y:g},F(r)):{x:v,y:g};if(v=V.x,g=V.y,l){var R;return Object.assign({},A,(R={},R[m]=w?"0":"",R[_]=b?"0":"",R.transform=(O.devicePixelRatio||1)<=1?"translate("+v+"px, "+g+"px)":"translate3d("+v+"px, "+g+"px, 0)",R))}return Object.assign({},A,(t={},t[m]=w?g+"px":"",t[_]=b?v+"px":"",t.transform="",t))}function Vo(e){var t=e.state,r=e.options,a=r.gpuAcceleration,n=a===void 0?!0:a,o=r.adaptive,f=o===void 0?!0:o,i=r.roundOffsets,l=i===void 0?!0:i,c={placement:z(t.placement),variation:de(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,dr(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,dr(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Go={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vo,data:{}};var Ne={passive:!0};function Wo(e){var t=e.state,r=e.instance,a=e.options,n=a.scroll,o=n===void 0?!0:n,f=a.resize,i=f===void 0?!0:f,l=F(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(s){s.addEventListener("scroll",r.update,Ne)}),i&&l.addEventListener("resize",r.update,Ne),function(){o&&c.forEach(function(s){s.removeEventListener("scroll",r.update,Ne)}),i&&l.removeEventListener("resize",r.update,Ne)}}const zo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wo,data:{}};var Uo={left:"right",right:"left",bottom:"top",top:"bottom"};function Ce(e){return e.replace(/left|right|bottom|top/g,function(t){return Uo[t]})}var qo={start:"end",end:"start"};function fr(e){return e.replace(/start|end/g,function(t){return qo[t]})}function Et(e){var t=F(e),r=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:r,scrollTop:a}}function St(e){return pe(J(e)).left+Et(e).scrollLeft}function Yo(e,t){var r=F(e),a=J(e),n=r.visualViewport,o=a.clientWidth,f=a.clientHeight,i=0,l=0;if(n){o=n.width,f=n.height;var c=ta();(c||!c&&t==="fixed")&&(i=n.offsetLeft,l=n.offsetTop)}return{width:o,height:f,x:i+St(e),y:l}}function Xo(e){var t,r=J(e),a=Et(e),n=(t=e.ownerDocument)==null?void 0:t.body,o=ae(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),f=ae(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),i=-a.scrollLeft+St(e),l=-a.scrollTop;return Y(n||r).direction==="rtl"&&(i+=ae(r.clientWidth,n?n.clientWidth:0)-o),{width:o,height:f,x:i,y:l}}function Nt(e){var t=Y(e),r=t.overflow,a=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+a)}function sa(e){return["html","body","#document"].indexOf(U(e))>=0?e.ownerDocument.body:M(e)&&Nt(e)?e:sa(Ke(e))}function he(e,t){var r;t===void 0&&(t=[]);var a=sa(e),n=a===((r=e.ownerDocument)==null?void 0:r.body),o=F(a),f=n?[o].concat(o.visualViewport||[],Nt(a)?a:[]):a,i=t.concat(f);return n?i:i.concat(he(Ke(f)))}function pt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Zo(e,t){var r=pe(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function ur(e,t,r){return t===Qr?pt(Yo(e,r)):ne(t)?Zo(t,r):pt(Xo(J(e)))}function Jo(e){var t=he(Ke(e)),r=["absolute","fixed"].indexOf(Y(e).position)>=0,a=r&&M(e)?xe(e):e;return ne(a)?t.filter(function(n){return ne(n)&&ra(n,a)&&U(n)!=="body"}):[]}function Ko(e,t,r,a){var n=t==="clippingParents"?Jo(e):[].concat(t),o=[].concat(n,[r]),f=o[0],i=o.reduce(function(l,c){var s=ur(e,c,a);return l.top=ae(s.top,l.top),l.right=ze(s.right,l.right),l.bottom=ze(s.bottom,l.bottom),l.left=ae(s.left,l.left),l},ur(e,f,a));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function ia(e){var t=e.reference,r=e.element,a=e.placement,n=a?z(a):null,o=a?de(a):null,f=t.x+t.width/2-r.width/2,i=t.y+t.height/2-r.height/2,l;switch(n){case I:l={x:f,y:t.y-r.height};break;case T:l={x:f,y:t.y+t.height};break;case H:l={x:t.x+t.width,y:i};break;case D:l={x:t.x-r.width,y:i};break;default:l={x:t.x,y:t.y}}var c=n?$t(n):null;if(c!=null){var s=c==="y"?"height":"width";switch(o){case le:l[c]=l[c]-(t[s]/2-r[s]/2);break;case ge:l[c]=l[c]+(t[s]/2-r[s]/2);break}}return l}function ye(e,t){t===void 0&&(t={});var r=t,a=r.placement,n=a===void 0?e.placement:a,o=r.strategy,f=o===void 0?e.strategy:o,i=r.boundary,l=i===void 0?yo:i,c=r.rootBoundary,s=c===void 0?Qr:c,d=r.elementContext,u=d===void 0?ve:d,v=r.altBoundary,y=v===void 0?!1:v,g=r.padding,h=g===void 0?0:g,b=na(typeof h!="number"?h:oa(h,Oe)),w=u===ve?bo:ve,_=e.rects.popper,m=e.elements[y?w:u],O=Ko(ne(m)?m:m.contextElement||J(e.elements.popper),l,s,f),x=pe(e.elements.reference),P=ia({reference:x,element:_,strategy:"absolute",placement:n}),E=pt(Object.assign({},_,P)),S=u===ve?E:x,N={top:O.top-S.top+b.top,bottom:S.bottom-O.bottom+b.bottom,left:O.left-S.left+b.left,right:S.right-O.right+b.right},A=e.modifiersData.offset;if(u===ve&&A){var V=A[n];Object.keys(N).forEach(function(R){var K=[H,T].indexOf(R)>=0?1:-1,Q=[I,T].indexOf(R)>=0?"y":"x";N[R]+=V[Q]*K})}return N}function Qo(e,t){t===void 0&&(t={});var r=t,a=r.placement,n=r.boundary,o=r.rootBoundary,f=r.padding,i=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?ea:l,s=de(a),d=s?i?cr:cr.filter(function(y){return de(y)===s}):Oe,u=d.filter(function(y){return c.indexOf(y)>=0});u.length===0&&(u=d);var v=u.reduce(function(y,g){return y[g]=ye(e,{placement:g,boundary:n,rootBoundary:o,padding:f})[z(g)],y},{});return Object.keys(v).sort(function(y,g){return v[y]-v[g]})}function es(e){if(z(e)===wt)return[];var t=Ce(e);return[fr(e),t,fr(t)]}function ts(e){var t=e.state,r=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var n=r.mainAxis,o=n===void 0?!0:n,f=r.altAxis,i=f===void 0?!0:f,l=r.fallbackPlacements,c=r.padding,s=r.boundary,d=r.rootBoundary,u=r.altBoundary,v=r.flipVariations,y=v===void 0?!0:v,g=r.allowedAutoPlacements,h=t.options.placement,b=z(h),w=b===h,_=l||(w||!y?[Ce(h)]:es(h)),m=[h].concat(_).reduce(function(ie,X){return ie.concat(z(X)===wt?Qo(t,{placement:X,boundary:s,rootBoundary:d,padding:c,flipVariations:y,allowedAutoPlacements:g}):X)},[]),O=t.rects.reference,x=t.rects.popper,P=new Map,E=!0,S=m[0],N=0;N<m.length;N++){var A=m[N],V=z(A),R=de(A)===le,K=[I,T].indexOf(V)>=0,Q=K?"width":"height",B=ye(t,{placement:A,boundary:s,rootBoundary:d,altBoundary:u,padding:c}),G=K?R?H:D:R?T:I;O[Q]>x[Q]&&(G=Ce(G));var _e=Ce(G),ee=[];if(o&&ee.push(B[V]<=0),i&&ee.push(B[G]<=0,B[_e]<=0),ee.every(function(ie){return ie})){S=A,E=!1;break}P.set(A,ee)}if(E)for(var we=y?3:1,Qe=function(X){var ue=m.find(function(je){var te=P.get(je);if(te)return te.slice(0,X).every(function(et){return et})});if(ue)return S=ue,"break"},fe=we;fe>0;fe--){var Pe=Qe(fe);if(Pe==="break")break}t.placement!==S&&(t.modifiersData[a]._skip=!0,t.placement=S,t.reset=!0)}}const rs={name:"flip",enabled:!0,phase:"main",fn:ts,requiresIfExists:["offset"],data:{_skip:!1}};function vr(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function mr(e){return[I,H,T,D].some(function(t){return e[t]>=0})}function as(e){var t=e.state,r=e.name,a=t.rects.reference,n=t.rects.popper,o=t.modifiersData.preventOverflow,f=ye(t,{elementContext:"reference"}),i=ye(t,{altBoundary:!0}),l=vr(f,a),c=vr(i,n,o),s=mr(l),d=mr(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:s,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":d})}const ns={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:as};function os(e,t,r){var a=z(e),n=[D,I].indexOf(a)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,f=o[0],i=o[1];return f=f||0,i=(i||0)*n,[D,H].indexOf(a)>=0?{x:i,y:f}:{x:f,y:i}}function ss(e){var t=e.state,r=e.options,a=e.name,n=r.offset,o=n===void 0?[0,0]:n,f=ea.reduce(function(s,d){return s[d]=os(d,t.rects,o),s},{}),i=f[t.placement],l=i.x,c=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[a]=f}const is={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ss};function ls(e){var t=e.state,r=e.name;t.modifiersData[r]=ia({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const cs={name:"popperOffsets",enabled:!0,phase:"read",fn:ls,data:{}};function ps(e){return e==="x"?"y":"x"}function ds(e){var t=e.state,r=e.options,a=e.name,n=r.mainAxis,o=n===void 0?!0:n,f=r.altAxis,i=f===void 0?!1:f,l=r.boundary,c=r.rootBoundary,s=r.altBoundary,d=r.padding,u=r.tether,v=u===void 0?!0:u,y=r.tetherOffset,g=y===void 0?0:y,h=ye(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:s}),b=z(t.placement),w=de(t.placement),_=!w,m=$t(b),O=ps(m),x=t.modifiersData.popperOffsets,P=t.rects.reference,E=t.rects.popper,S=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,N=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(x){if(o){var R,K=m==="y"?I:D,Q=m==="y"?T:H,B=m==="y"?"height":"width",G=x[m],_e=G+h[K],ee=G-h[Q],we=v?-E[B]/2:0,Qe=w===le?P[B]:E[B],fe=w===le?-E[B]:-P[B],Pe=t.elements.arrow,ie=v&&Pe?jt(Pe):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:aa(),ue=X[K],je=X[Q],te=me(0,P[B],ie[B]),et=_?P[B]/2-we-te-ue-N.mainAxis:Qe-te-ue-N.mainAxis,la=_?-P[B]/2+we+te+je+N.mainAxis:fe+te+je+N.mainAxis,tt=t.elements.arrow&&xe(t.elements.arrow),ca=tt?m==="y"?tt.clientTop||0:tt.clientLeft||0:0,At=(R=A==null?void 0:A[m])!=null?R:0,pa=G+et-At-ca,da=G+la-At,Ct=me(v?ze(_e,pa):_e,G,v?ae(ee,da):ee);x[m]=Ct,V[m]=Ct-G}if(i){var Rt,fa=m==="x"?I:D,ua=m==="x"?T:H,re=x[O],$e=O==="y"?"height":"width",It=re+h[fa],Dt=re-h[ua],rt=[I,D].indexOf(b)!==-1,Bt=(Rt=A==null?void 0:A[O])!=null?Rt:0,Lt=rt?It:re-P[$e]-E[$e]-Bt+N.altAxis,kt=rt?re+P[$e]+E[$e]-Bt-N.altAxis:Dt,Ft=v&&rt?Bo(Lt,re,kt):me(v?Lt:It,re,v?kt:Dt);x[O]=Ft,V[O]=Ft-re}t.modifiersData[a]=V}}const fs={name:"preventOverflow",enabled:!0,phase:"main",fn:ds,requiresIfExists:["offset"]};function us(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function vs(e){return e===F(e)||!M(e)?Et(e):us(e)}function ms(e){var t=e.getBoundingClientRect(),r=ce(t.width)/e.offsetWidth||1,a=ce(t.height)/e.offsetHeight||1;return r!==1||a!==1}function hs(e,t,r){r===void 0&&(r=!1);var a=M(t),n=M(t)&&ms(t),o=J(t),f=pe(e,n,r),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(a||!a&&!r)&&((U(t)!=="body"||Nt(o))&&(i=vs(t)),M(t)?(l=pe(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=St(o))),{x:f.left+i.scrollLeft-l.x,y:f.top+i.scrollTop-l.y,width:f.width,height:f.height}}function gs(e){var t=new Map,r=new Set,a=[];e.forEach(function(o){t.set(o.name,o)});function n(o){r.add(o.name);var f=[].concat(o.requires||[],o.requiresIfExists||[]);f.forEach(function(i){if(!r.has(i)){var l=t.get(i);l&&n(l)}}),a.push(o)}return e.forEach(function(o){r.has(o.name)||n(o)}),a}function ys(e){var t=gs(e);return No.reduce(function(r,a){return r.concat(t.filter(function(n){return n.phase===a}))},[])}function bs(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Os(e){var t=e.reduce(function(r,a){var n=r[a.name];return r[a.name]=n?Object.assign({},n,a,{options:Object.assign({},n.options,a.options),data:Object.assign({},n.data,a.data)}):a,r},{});return Object.keys(t).map(function(r){return t[r]})}var hr={placement:"bottom",modifiers:[],strategy:"absolute"};function gr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function xs(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,a=r===void 0?[]:r,n=t.defaultOptions,o=n===void 0?hr:n;return function(i,l,c){c===void 0&&(c=o);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},hr,o),modifiersData:{},elements:{reference:i,popper:l},attributes:{},styles:{}},d=[],u=!1,v={state:s,setOptions:function(b){var w=typeof b=="function"?b(s.options):b;g(),s.options=Object.assign({},o,s.options,w),s.scrollParents={reference:ne(i)?he(i):i.contextElement?he(i.contextElement):[],popper:he(l)};var _=ys(Os([].concat(a,s.options.modifiers)));return s.orderedModifiers=_.filter(function(m){return m.enabled}),y(),v.update()},forceUpdate:function(){if(!u){var b=s.elements,w=b.reference,_=b.popper;if(gr(w,_)){s.rects={reference:hs(w,xe(_),s.options.strategy==="fixed"),popper:jt(_)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(N){return s.modifiersData[N.name]=Object.assign({},N.data)});for(var m=0;m<s.orderedModifiers.length;m++){if(s.reset===!0){s.reset=!1,m=-1;continue}var O=s.orderedModifiers[m],x=O.fn,P=O.options,E=P===void 0?{}:P,S=O.name;typeof x=="function"&&(s=x({state:s,options:E,name:S,instance:v})||s)}}}},update:bs(function(){return new Promise(function(h){v.forceUpdate(),h(s)})}),destroy:function(){g(),u=!0}};if(!gr(i,l))return v;v.setOptions(c).then(function(h){!u&&c.onFirstUpdate&&c.onFirstUpdate(h)});function y(){s.orderedModifiers.forEach(function(h){var b=h.name,w=h.options,_=w===void 0?{}:w,m=h.effect;if(typeof m=="function"){var O=m({state:s,name:b,instance:v,options:_}),x=function(){};d.push(O||x)}})}function g(){d.forEach(function(h){return h()}),d=[]}return v}}var _s=[zo,cs,Go,Ro,is,rs,fs,Mo,ns],ws=xs({defaultModifiers:_s}),Ps=typeof Element<"u",js=typeof Map=="function",$s=typeof Set=="function",Es=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Re(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,n;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!Re(e[a],t[a]))return!1;return!0}var o;if(js&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(a=o.next()).done;)if(!t.has(a.value[0]))return!1;for(o=e.entries();!(a=o.next()).done;)if(!Re(a.value[1],t.get(a.value[0])))return!1;return!0}if($s&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(a=o.next()).done;)if(!t.has(a.value[0]))return!1;return!0}if(Es&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[a]))return!1;if(Ps&&e instanceof Element)return!1;for(a=r;a--!==0;)if(!((n[a]==="_owner"||n[a]==="__v"||n[a]==="__o")&&e.$$typeof)&&!Re(e[n[a]],t[n[a]]))return!1;return!0}return e!==e&&t!==t}var Ss=function(t,r){try{return Re(t,r)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const Ns=wa(Ss);var As=[],Cs=function(t,r,a){a===void 0&&(a={});var n=$.useRef(null),o={onFirstUpdate:a.onFirstUpdate,placement:a.placement||"bottom",strategy:a.strategy||"absolute",modifiers:a.modifiers||As},f=$.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=f[0],l=f[1],c=$.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(v){var y=v.state,g=Object.keys(y.elements);Er.flushSync(function(){l({styles:ir(g.map(function(h){return[h,y.styles[h]||{}]})),attributes:ir(g.map(function(h){return[h,y.attributes[h]]}))})})},requires:["computeStyles"]}},[]),s=$.useMemo(function(){var u={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return Ns(n.current,u)?n.current||u:(n.current=u,u)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),d=$.useRef();return lr(function(){d.current&&d.current.setOptions(s)},[s]),lr(function(){if(!(t==null||r==null)){var u=a.createPopper||ws,v=u(t,r,s);return d.current=v,function(){v.destroy(),d.current=null}}},[t,r,a.createPopper]),{state:d.current?d.current.state:null,styles:i.styles,attributes:i.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}},Rs=function(){},Is=function(){return Promise.resolve(null)},Ds=[];function Bs(e){var t=e.placement,r=t===void 0?"bottom":t,a=e.strategy,n=a===void 0?"absolute":a,o=e.modifiers,f=o===void 0?Ds:o,i=e.referenceElement,l=e.onFirstUpdate,c=e.innerRef,s=e.children,d=$.useContext(vo),u=$.useState(null),v=u[0],y=u[1],g=$.useState(null),h=g[0],b=g[1];$.useEffect(function(){go(c,v)},[c,v]);var w=$.useMemo(function(){return{placement:r,strategy:n,onFirstUpdate:l,modifiers:[].concat(f,[{name:"arrow",enabled:h!=null,options:{element:h}}])}},[r,n,l,f,h]),_=Cs(i||d,v,w),m=_.state,O=_.styles,x=_.forceUpdate,P=_.update,E=$.useMemo(function(){return{ref:y,style:O.popper,placement:m?m.placement:r,hasPopperEscaped:m&&m.modifiersData.hide?m.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:m&&m.modifiersData.hide?m.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:O.arrow,ref:b},forceUpdate:x||Rs,update:P||Is}},[y,b,r,m,O,P,x]);return mo(s)(E)}function Ls(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dt(e,t)}function dt(e,t){return dt=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},dt(e,t)}function ks(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,o;for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function yr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fs(e,t,r){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(r):e.classList.contains(r)}function Ms(e,t,r){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&Fs(e,t,r))return!0;e=e.parentNode||e.host}return e}function Ts(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}var Hs=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,r=Object.defineProperty({},"passive",{get:function(){t=!0}}),a=function(){};return window.addEventListener("testPassiveEventSupport",a,r),window.removeEventListener("testPassiveEventSupport",a,r),t}};function Vs(e){return e===void 0&&(e=0),function(){return++e}}var Gs=Vs(),ft,Ae={},it={},Ws=["touchstart","touchmove"],zs="ignore-react-onclickoutside";function br(e,t){var r=null,a=Ws.indexOf(t)!==-1;return a&&ft&&(r={passive:!e.props.preventDefault}),r}function Us(e,t){var r,a,n=e.displayName||e.name||"Component";return a=r=function(o){Ls(f,o);function f(l){var c;return c=o.call(this,l)||this,c.__outsideClickHandler=function(s){if(typeof c.__clickOutsideHandlerProp=="function"){c.__clickOutsideHandlerProp(s);return}var d=c.getInstance();if(typeof d.props.handleClickOutside=="function"){d.props.handleClickOutside(s);return}if(typeof d.handleClickOutside=="function"){d.handleClickOutside(s);return}throw new Error("WrappedComponent: "+n+" lacks a handleClickOutside(event) function for processing outside click events.")},c.__getComponentNode=function(){var s=c.getInstance();return t&&typeof t.setClickOutsideRef=="function"?t.setClickOutsideRef()(s):typeof s.setClickOutsideRef=="function"?s.setClickOutsideRef():Er.findDOMNode(s)},c.enableOnClickOutside=function(){if(!(typeof document>"u"||it[c._uid])){typeof ft>"u"&&(ft=Hs()),it[c._uid]=!0;var s=c.props.eventTypes;s.forEach||(s=[s]),Ae[c._uid]=function(d){if(c.componentNode!==null&&(c.props.preventDefault&&d.preventDefault(),c.props.stopPropagation&&d.stopPropagation(),!(c.props.excludeScrollbar&&Ts(d)))){var u=d.composed&&d.composedPath&&d.composedPath().shift()||d.target;Ms(u,c.componentNode,c.props.outsideClickIgnoreClass)===document&&c.__outsideClickHandler(d)}},s.forEach(function(d){document.addEventListener(d,Ae[c._uid],br(yr(c),d))})}},c.disableOnClickOutside=function(){delete it[c._uid];var s=Ae[c._uid];if(s&&typeof document<"u"){var d=c.props.eventTypes;d.forEach||(d=[d]),d.forEach(function(u){return document.removeEventListener(u,s,br(yr(c),u))}),delete Ae[c._uid]}},c.getRef=function(s){return c.instanceRef=s},c._uid=Gs(),c}var i=f.prototype;return i.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var c=this.instanceRef;return c.getInstance?c.getInstance():c},i.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var c=this.getInstance();if(t&&typeof t.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=t.handleClickOutside(c),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+n+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},i.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},i.componentWillUnmount=function(){this.disableOnClickOutside()},i.render=function(){var c=this.props;c.excludeScrollbar;var s=ks(c,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?s.ref=this.getRef:s.wrappedRef=this.getRef,s.disableOnClickOutside=this.disableOnClickOutside,s.enableOnClickOutside=this.enableOnClickOutside,$.createElement(e,s)},f}($.Component),r.displayName="OnClickOutside("+n+")",r.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:zs,preventDefault:!1,stopPropagation:!1},r.getClass=function(){return e.getClass?e.getClass():e},a}const qs=[{name:"preventOverflow",enabled:!0}],Ys={right:"left",left:"right",top:"bottom",bottom:"top"},Xs=e=>e&&Ys[e.split("-")[0]];class ut extends j.PureComponent{constructor(){super(),this.state={isVisible:!1},this.containerItemRef=j.createRef(),this.renderPopper=this.renderPopper.bind(this),this.toggleOverlayVisibility=this.toggleOverlayVisibility.bind(this)}hideOverlay(){this.setState({isVisible:!1})}toggleOverlayVisibility(){this.setState({isVisible:!this.state.isVisible})}handleClickOutside(t){t&&t.target.closest(".inner-popper-overlay")||this.hideOverlay()}renderPopper({ref:t,style:r,placement:a,arrowProps:n,scheduleUpdate:o,outOfBoundaries:f}){const{children:i,hideWhenOutOfBounds:l}=this.props;return p.jsxs("div",{ref:t,style:r,"data-placement":a,className:L("inner-popper-overlay",`arrow-${Xs(a)}`,this.props.overlayClassName,{"out-of-bounds":f&&l}),children:[p.jsx("div",{className:"arrow-hider",children:p.jsx("div",{className:"arrow",ref:n.ref,style:n.style})}),p.jsx("div",{className:"inner-popper-content",children:i})]})}render(){const{placement:t,overlayItem:r}=this.props,{isVisible:a}=this.state;return p.jsxs(j.Fragment,{children:[p.jsx("div",{className:"overlay-item",ref:this.containerItemRef,onClick:this.toggleOverlayVisibility,children:r}),a&&Pa.createPortal(p.jsx(Bs,{container:document.body,modifiers:qs,placement:t,referenceElement:this.containerItemRef.current,children:this.renderPopper}),document.body)]})}}at(ut,"propTypes",{placement:nt.string,overlayItem:nt.any,hideWhenOutOfBounds:nt.bool}),at(ut,"defaultTypes",{placement:"bottom"});const Zs=Us(ut),Or=["#4DB3FF","#80B300","#FF6655","#FF99E6","#33FFCC","#e633c8","#dbe812","#FF1A66","#991AFF","#E6B333","#1AB399","#4D8066","#CC9999","#00E680","#809980","#E6FF80","#1AFF33","#999933","#E6331A","#CCCC00","#66E64D","#4D80CC","#9900B3","#4DB380","#FF4D4D"],xr=(e,t)=>t?`/grades/phoenix/${e}.png`:`/grades/phoenix/fail/${e}.png`,Js=({score:e,grade:t,isPass:r,mix:a,scoring:n="phoenix"})=>{const o=co(e);if(o==null)return null;if(n==="xx")return!t||t==="?"?null:p.jsx("img",{src:`/grades/${t}.png`,alt:t??"Grade"});let f=xr(o,r??!1);return r==null&&t!=null&&a>=24&&a<=26&&(f=xr(o,t.includes("+")||t.startsWith("S"))),p.jsx("img",{src:f,alt:o})},_r={xx:26,phoenix:27},Ks=({mix:e})=>{const{scoring:t}=Ra();return!t||!_r[t]?null:lo(e)&&_r[t]!==e?p.jsx(De,{color:Kr[e],children:_t[e]}):null},Qs=({result:e,chart:t})=>{var c,s,d;const r=ht(),a=Nr(),n=gt(yt),o=n.sortChartsBy==="pp",f=e.playerId===((c=a.data)==null?void 0:c.id),i=ja(e,t),l=$a.profile.getPath({id:e.playerId});return p.jsxs("tr",{className:L({latest:e.isLatestScore}),style:e.highlightIndex>=0?{background:Or[e.highlightIndex]+"3A",outline:`1px solid ${Or[e.highlightIndex]}A0`}:{},children:[p.jsx("td",{className:"place",style:f?{fontWeight:"bold",color:"#ddd"}:{},children:`#${t.results.findIndex(u=>u.id===e.id)+1}`}),p.jsx("td",{className:L("nickname"),style:e.highlightIndex>=0||f?{fontWeight:"bold"}:{},children:p.jsxs("div",{className:"nickname-container",children:[e.region?p.jsx(Da,{region:e.region}):null,p.jsxs("span",{className:"nickname-text",children:[p.jsx(Mt,{to:l,children:e.playerName}),!!e.placeDifference&&p.jsxs("span",{className:"change-holder up",children:[p.jsx("span",{children:e.placeDifference}),p.jsx(Ea,{})]}),(Tt||o&&e.highlightIndex>=0)&&p.jsxs("span",{className:"debug-elo-info",children:[" ",e.pp&&`${e.pp}pp`]})]}),p.jsxs(Xe,{gap:"0.25em",ml:"auto",children:[((s=e.mods)==null?void 0:s.includes("HJ"))&&p.jsx(De,{color:"orange",children:"HJ"}),((d=e.mods)==null?void 0:d.includes("VJ"))&&p.jsx(De,{color:"red",children:"R"}),p.jsx(Ks,{mix:e.mix})]})]})}),p.jsx("td",{className:L("score"),children:p.jsx(Zs,{overlayClassName:"score-overlay-outer",overlayItem:p.jsxs("span",{className:"score-span",children:[!e.scoreIncrease&&p.jsx("span",{style:{fontSize:"80%"},children:"* "}),p.jsx("span",{children:Math.floor(e.score/1e3)}),p.jsxs("span",{style:{fontSize:"70%"},children:[",",`${e.score%1e3}`.padStart(3,"0")]})]}),placement:"top",children:p.jsxs("div",{className:"score-overlay",children:[p.jsx("div",{children:p.jsx(uo,{resultId:e.id})}),Tt&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("span",{className:"_grey",children:"result id: "}),e.id]}),p.jsxs("div",{children:[p.jsx("span",{className:"_grey",children:"player id: "}),e.playerId]})]}),p.jsxs("div",{children:[p.jsxs("span",{className:"_grey",children:[r.PLAYER,": "]}),p.jsxs(Mt,{to:l,children:[e.playerName," (",e.playerNameArcade,")"]})]}),i?p.jsxs("div",{className:"important",children:[p.jsxs("span",{className:"_grey",children:[r.EXP,": "]}),"+",Vt(i).format("0,0")]}):null,e.pp?p.jsxs("div",{className:"important",children:[p.jsxs("span",{className:"_grey",children:[r.PP,": "]}),p.jsxs("span",{children:[e.pp,"pp"]})]}):null,!e.isExactGainedDate&&p.jsxs("div",{className:"warning",children:[p.jsx(Sa,{}),r.MY_BEST_SCORE_WARNING]}),e.isExactGainedDate&&p.jsxs(p.Fragment,{children:[e.mods&&p.jsxs("div",{children:[p.jsxs("span",{className:"_grey",children:[r.MODS,": "]}),e.mods]}),e.combo!=null&&p.jsxs("div",{className:"mobile-only",children:[p.jsxs("span",{className:"_grey",children:[r.COMBO,": "]}),e.combo]}),e.calories!=null&&p.jsxs("div",{children:[p.jsxs("span",{className:"_grey",children:[r.CCAL,": "]}),e.calories]}),e.scoreIncrease!=null&&p.jsxs("div",{children:[p.jsxs("span",{className:"_grey",children:[r.SCORE_INCREASE,": "]}),"+",Vt(e.scoreIncrease).format("0,0")]}),!e.scoreIncrease&&r.SIGHTREAD]})]})})}),p.jsx("td",{className:L("grade"),children:p.jsx("div",{className:"img-holder",children:p.jsx(Js,{score:e.score,isPass:e.passed,grade:e.grade,mix:e.mix,scoring:n.scoring})})}),p.jsx("td",{className:L("number","miss"),children:e.stats[4]}),p.jsx("td",{className:L("number","bad"),children:e.stats[3]}),p.jsx("td",{className:L("number","good"),children:e.stats[2]}),p.jsx("td",{className:L("number","great"),children:e.stats[1]}),p.jsx("td",{className:L("number","perfect"),children:e.stats[0]}),p.jsx("td",{className:L("combo","desktop-only"),children:e.combo&&`${e.combo}x`}),p.jsx("td",{className:L("date",{latest:e.isLatestScore}),children:p.jsxs(Ia,{content:"",tooltipClassName:"pumpking-tooltip",children:[Na(r,new Date(e.gained)),e.isExactGainedDate?"":"?"]})})]},e.id)};function ei(e){return Aa({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"}}]})(e)}const ti=({children:e,count:t})=>{const[r,a]=$.useState(!0),n=ht();return r&&t>1?p.jsx("tr",{className:"results-collapser",onClick:()=>a(!1),children:p.jsx("td",{colSpan:"20",children:p.jsx("div",{children:p.jsx("button",{children:t&&n.SHOW_MORE_RESULTS?p.jsx(p.Fragment,{children:n.SHOW_MORE_RESULTS(t)}):p.jsx(ei,{})})})})}):p.jsx(p.Fragment,{children:e})},di=({chart:e})=>{var s;const t=(s=Nr().data)==null?void 0:s.id,r=gt(yt),a=no(),[n,o]=$.useState(!1),f=ht(),i=e.results.reduce((d,u)=>u.isHidden?d+1:d,0),l=e.results.filter(d=>n||!d.isHidden).map((d,u,v)=>{var _;const y=d.added===e.updatedOn,g=r.sortChartsBy==="pp"&&!((_=r.sortChartsByPlayers)!=null&&_.length)?v[0].playerId:null,h=(g?[g,...a]:a).indexOf(d.playerId??-1),b=y||d.playerId===t||h>=0;let w=0;if(d.scoreIncrease&&y){const m=d.score-d.scoreIncrease;w=Ht.findLastIndex(x=>x.score>m,v)-u}return{...d,topPlace:u+1,isImportant:b,highlightIndex:h,placeDifference:w,isLatestScore:y}}).map((d,u,v)=>{const g=v.slice(u+1,u+1+2).some(b=>b.isImportant),h=v.slice(u-2,u).some(b=>b.isImportant);return{...d,isCollapsible:!d.isImportant&&!g&&!h}}),c=l.reduce((d,u)=>(d.length?d[d.length-1].isGroupCollapsible!==u.isCollapsible?d.push({isGroupCollapsible:u.isCollapsible,results:[u]}):d[d.length-1].results.push(u):d.push({isGroupCollapsible:u.isCollapsible,results:[u]}),d),[]);return p.jsxs("div",{className:"song-block",children:[p.jsx(fo,{chart:e,children:i>0&&p.jsxs(p.Fragment,{children:[p.jsxs(Ze,{size:"xs",lh:1,children:[f.HIDDEN,": ",i]}),p.jsx(Ye,{variant:"subtle","aria-label":"Show all",onClick:()=>o(!n),children:p.jsx(Ca,{})})]})}),p.jsx("div",{className:"charts",children:!Ht.isEmpty(l)&&p.jsx("div",{className:"chart",children:p.jsx("div",{className:"results",children:p.jsx("table",{children:p.jsx("tbody",{children:c.map(d=>{const u=d.results.map(v=>p.jsx($.Fragment,{children:p.jsx(Qs,{chart:e,result:v})},v.id));return d.isGroupCollapsible?p.jsx(ti,{count:u.length,children:u}):p.jsx(p.Fragment,{children:u})})})})})})})]})};export{xt as B,di as C,Xe as G,pi as L,Ze as T,ao as r};
//# sourceMappingURL=Chart-e5159be4.js.map
